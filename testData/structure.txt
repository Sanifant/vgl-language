{SampleManager Schema}

table_defaults

	oracle_location                        'VGSM_DB'  
	sqlserver_location                     'PRIMARY' 
	sqlserver_collation                    'Latin1_General_CI_AS_WS'
	sqlserver_collation_case_sensitive     'Latin1_General_CS_AS_WS'
	sqlserver_use_nvarchar                 TRUE ;

index_defaults

        oracle_location                    'VGSM_DB' 
        sqlserver_location                 'PRIMARY' ;

table sample_point;

field identity alias identifier
      datatype identity(10)
      used_for unique_key, display_browse(1);
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field point_location alias location_id, location
      links_to location.identity;
field sample_type datatype identity
        prompt_type phrase
        identities
        phrase_type SAMP_TYPE;
field description datatype text ( 234 )
      used_for display_browse(2);
field modified_on datatype date used_for modified_on ;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;


table report alias reportformat;

field identity alias identifier datatype identity (20)
      used_for unique_key, display_browse ( 1 ) ;
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field title datatype text ( 234 ) used_for display_browse ( 2 );
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable datatype boolean used_for modifiable ;
field removeflag datatype boolean used_for remove_flag;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table sample prompt_description 'STRUCTURE_SAMPLE';

        field   id_numeric
                alias    idnumeric
                datatype packed_decimal
                used_for unique_key, primary_browse
                prompt_type user_defined
                descending
                prompt_description 'STRUCTURE_SAMPLE_ID_NUMERIC'
                allowed_characters ' ..`' { Everything apart from lower case }
                library '$PROMPT_SAMPLE'
                routine 'prompt_sample';

        field   id_text
                datatype identity (30)
                used_for display_browse ( 1 )
                allowed_characters ' ..`' { Everything apart from lower case }
                prompt_description 'STRUCTURE_SAMPLE_ID_TEXT';

        field   job_name
                alias    jobname
                links_to parent job_header . job_name
                prompt_description 'STRUCTURE_SAMPLE_JOB_NAME';

        field   status
                datatype text (1)
                used_for display_browse ( 2 )
                prompt_type choose
                choose_type SAMP_STAT ;

        field   old_status
                datatype text (1)
                prompt_type choose
                choose_type SAMP_STAT ;

        field   compared
                datatype boolean ;

        field   on_spec
                datatype boolean ;

        field   re_sampled
                datatype boolean ;

        field   original_sample
                alias orig_sample
                links_to sample . id_numeric ;

        field   link_number
                datatype integer ;

        field   login_date
                datatype date
                used_for display_browse ( 3 )
                default '0' ;

        field   login_by
                links_to personnel . identity ;

        field   sampled_date
                datatype date
                default '0' ;

        field   recd_date
                datatype date
                default '0' ;

        field   date_started alias datestarttest
                datatype date
                default '0' ;

        field   starter
                links_to personnel . identity ;

        field   dateresreq
                datatype date
                default '0' ;

        field   date_completed
                datatype date ;

        field   completer
                links_to personnel . identity ;

        field   dateresavail
                datatype date    ;

        field   date_authorised
                alias    authorise_date
                datatype date    ;

        field   authoriser alias authoriser_id
                links_to personnel . identity ;

        field   authorisation_notes
                datatype text ( 234 )
                prompt_type phrase
                phrase_type authsamp ;

        field   product
                alias    product_name,
                         work_profile
                links_to mlp_header . identity as product_link ;

        field   product_version
                links_to mlp_header . product_version as product_link ;

        field   grade_code
                alias    grade_name
                links_to mlp_level.level_id;

        field   tests_to_do
                datatype integer ;

        field   on_wks
                datatype boolean ;

        field   project_id
                links_to project_info.identifier;

        field   batch_name
                datatype identity ;

        field   sampling_point
                links_to sample_point.identity;

        field   sample_type
                datatype identity
                prompt_type phrase
                valid
                identities
                phrase_type SAMP_TYPE;

        field   sample_name
                datatype text ( 30 ) ;

        field   description
                datatype text ( 234 ) ;

        field   preparation
                alias   preparation_id
                links_to preparation . identity ;

        field   hazard
                links_to hazard . identity ;

        field   priority
                datatype integer
                format 999
                default 1
                lower_limit 1
                upper_limit 999 ;

        field   location_id
                alias location
                links_to location . identity ;

        field   customer_id
                links_to customer . identity ;

        field   invoice_number
                datatype text ( 20 ) ;

        field   test_schedule
                links_to test_sched_header . identity ;

        field   template_id
                links_to samp_tmpl_header . identity ;

        field   comp_prod_name
                links_to mlp_versions . identity ;

        field   comp_prod_ver
                links_to mlp_versions . product_version ;

        field   comp_prod_grade
                links_to mlp_level . level_id ;

        field   standard
                datatype boolean ;

        field   standard_id
                links_to standard_versions . identity ;

        field   standard_version
                links_to standard_versions . version ;

        field   inspection_header
                links_to inspection_header . identity
                used_for inspection ;

        field   standard_type
                links_to batch_tmpl_entry . type ;

        field   batch_id
                links_to batch_header.identity;

        field   dynamic_product
                links_to mlp_header.  identity
                default NULL ;

        field   total_elements
                datatype integer
                default 1
                lower_limit 1;

        field   sampling_procedure
                links_to sampling_procedure . identity ;

        field   replicate_link_no
                datatype integer ;

        field   auto_validate
                datatype boolean;

        field   has_incidents
                datatype boolean ;
                
        field   certificate
                links_to certificate . id_numeric ;

        field   substance
                links_to substance . identity ;

        field   workflow_node
                default 'D3C12E08-28E8-4131-88B5-EE3534AD38B8'
                links_to workflow_node . workflow_node_guid ;
   
        field   is_split
                datatype boolean ;
            
        field   is_composite
                datatype boolean ;

        field   has_split
                datatype boolean ;

        field   has_composite
                datatype boolean ;

        field   composite_status
                datatype identity
                default 'NONE'
                prompt_type choose
                choose_type SAMP_COMP ;
                
        field   entity_template_id
                links_to entity_template . identity as entity_template ;

        field   entity_template_version
                links_to entity_template . entity_template_version as entity_template ;
                
        field   has_attachments
                datatype boolean
                used_for has_attachments ;

        field   comments datatype text(234)
                default NULL;

        field   lab_method_id
                links_to lab_method . lab_method_id as lab_method
                default NULL ;

        field   lab_method_version
                links_to lab_method . lab_method_version as lab_method ;

        field   lab_method_outstanding
                datatype boolean ;

        field   lab_execution_id
                links_to lab_execution . lab_execution_id as lab_execution
                default NULL ;

        field   retain_associated_sample_id
                datatype packed_decimal ;

        field   retain_associated_job_name
                datatype identity ( 20 ) ;

        field   retain_test_plan_id
                links_to retain_test_plan . identity as retain_test_plan ;

        field   retain_test_plan_version
                links_to retain_test_plan . version as retain_test_plan ;

        field   retain_next_test_date
                datatype date
                default NULL ;

        field   retain_last_test_date
                datatype date
                default NULL ;

        field   retain_until_date
                datatype date
                default NULL ;

        field   retain_disposal_date
                datatype date
                default NULL ;

        field   cert_template_id
                links_to cert_template . cert_template_id as cert_template ;

        field   cert_template_version
                links_to cert_template . cert_template_version as cert_template
                default '         1' ;

        field   cert_id
                links_to cert . certificate_id as cert ;

        field   cert_version
                links_to cert . certificate_version as cert
                default '         1' ;

        field   schedule 
                alias sample_pt_sched links_to schedule.identity ;

collection child_formulation on sample_formulation using parent_sample;

collection parent_formulation on sample_formulation using child_sample; 

index sample_id_text_index unique on id_text ;

index sample_job_name_index on job_name ;

{ The following index should be added when using groups on the sample table }
{ where group_id is the group field with used_for security_id               }
{ }
{       index sample_id_numeric_group unique on status, group_id, id_numeric ; }
{       index sample_id_text_group    unique on status, group_id, id_text ;    }
{ }
{ }


table sample_formulation;
 
	field parent_sample 
	      links_to sample.id_numeric
	      used_for unique_key;

	field child_sample 
	      links_to sample.id_numeric
	      used_for unique_key;

	field formulation_type
              datatype identity
              prompt_type choose
              choose_type SAMP_FORM;

	field amount_used
	      datatype real
	      lower_limit 0.0;

	field unit
	      links_to unit_header.identity;


table test noindex ;

field test_number datatype packed_decimal
      used_for unique_key;
field analysis alias analysis_id
      links_to versioned_analysis . identity as analysis
      used_for display_browse ( 1 );
field sample alias sample_id
      links_to parent sample . id_numeric
      used_for display_browse ( 2 );
field preparation alias preparation_id
      links_to preparation . identity ;
field test_count datatype integer;
field status datatype text (1)
      prompt_type choose
      choose_type TEST_STAT
      used_for display_browse ( 3 );
field old_status datatype text (1)
      prompt_type choose
      choose_type TEST_STAT;
field date_started datatype date;
field starter alias operator_id
        links_to personnel . identity ;
field date_completed alias date_complete datatype date;
field completer
        links_to personnel . identity ;
field date_authorised alias authorise_date datatype date;
field authoriser alias authoriser_id
        links_to personnel . identity ;
field component_replicates datatype integer
      alias comp_replicates;
field worksheet alias worksheet_id datatype packed_decimal;
field worksheet_position datatype integer;
field replicate_test alias replic_flag datatype boolean;
field instrument alias instrument_id
        links_to instrument . identity ;
field test_priority datatype integer
                    format 999
                    default 1
                    lower_limit 1
                    upper_limit 999 ;
field on_spec datatype boolean;
field test_schedule
      links_to test_sched_header . identity ;
field order_num
      datatype  packed_decimal
      used_for  ordering;
field has_result_list
      datatype boolean ;
field component_list
      links_to versioned_c_l_header . comp_list ;
field analysis_version
      links_to versioned_analysis . analysis_version as analysis ;
field preparation_batch
      links_to batch_header.identity;
field instrument_batch
      links_to batch_header.identity ;
field parent_test
      links_to test . test_number
      default NULL ;
field inspection_header
      links_to inspection_header . identity
      used_for inspection ;
field trigger_rule
      links_to rule . identity
      default NULL ;
field trigger_analysis
      datatype text( 40 )
      default NULL ;
field stat_double_att_fail
      datatype boolean ;
field validation_status
      datatype text (1)
      default 'V'
      prompt_type choose
      choose_type VAL_STAT ;
field authorisation_comment
      datatype text (234) ;
field auto_validate
      datatype boolean;
field has_incidents
      datatype boolean ;
field instrument_type
      links_to instrument_template . identity;
field instrument_category
      links_to instrument_category . identity;
field instrument_required
      links_to versioned_analysis.instrument_required;
field workflow_node
      default '536C9DA2-7668-4701-92B0-754E1F1BA2A6'
      links_to workflow_node . workflow_node_guid ;      
field entity_template_id
      links_to entity_template . identity as entity_template;
field entity_template_version
      links_to entity_template . entity_template_version as entity_template;     
field has_attachments
      datatype boolean
      used_for has_attachments ;
field comments datatype text(234)
      default NULL;
field lab_method_id
      links_to lab_method . lab_method_id as lab_method
      default NULL ;
field lab_method_version
      links_to lab_method . lab_method_version as lab_method ;
field lab_method_outstanding
      datatype boolean ;
field lab_execution_id
      links_to lab_execution . lab_execution_id as lab_execution
      default NULL ;

index test_i unique on test_number
        rdb_location 'HASH_STORAGE_AREA'
        rdb_specific 'TYPE IS HASHED' ;

index samp_anal_index on sample , analysis ;

index test_analysis_index on analysis ;

index test_instrument_index on Instrument ;

table versioned_analysis;

field identity alias identifier
      datatype identity
      used_for unique_key, display_browse(1);
field analysis_version
      datatype packed_decimal
      default '         1'
      used_for unique_key, version_number, display_browse (2);
field group_id links_to group_header.identity
      used_for security_id;
field analysis_type datatype identity
        prompt_type phrase
        identities
        valid
        phrase_type ANAL_TYPE;
field description datatype text(255)
      used_for display_browse (3);
field insttype_id 
      links_to instrument_template . identity;
field instcat_id 
      links_to instrument_category . identity;
field preparation_id
      links_to preparation . identity ;
field expected_time datatype interval;
field chargecode datatype text(15);
field result_screen links_to report.identity;
field modified_on datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field calculation datatype boolean;
field replicates datatype integer
      default 1
      lower_limit 1
      upper_limit 99 ;
field access_flags datatype integer;
field comp_replicates datatype integer;
field generic_analysis
      links_to versioned_analysis.identity;
field approval_reqd datatype boolean;
field allow_category datatype boolean;
field approval_status
      datatype text ( 1 )
      used_for display_browse ( 4 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;
field sampling_plan_type
      datatype identity
      prompt_type choose
      choose_type STAT_TYPE
      default 'FIXED';
field auto_validate
      datatype boolean;
field instrument_required
      datatype boolean;
field sop_reference
      datatype text(100);
field uncertainty_text
      datatype text(500);
field name
      datatype text ( 100 )
      used_for primary_browse, name, translation;
field active
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True'
      used_for active_flag;
field active_from
      datatype date
      used_for active_start_date;
field active_to
      datatype date
      used_for active_end_date;
field workflow_id
      links_to workflow . workflow_guid;
field entity_template_id
      links_to entity_template . identity;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field lab_method_id
      links_to lab_method . lab_method_id as lab_method ;
field lab_method_version
      links_to lab_method . lab_method_version as lab_method ;

table versioned_component;

field analysis alias analysis_id
      links_to parent versioned_analysis . identity as parent_analysis
      used_for unique_key;
field analysis_version
      links_to parent versioned_analysis . analysis_version as parent_analysis
      used_for unique_key;
field name datatype text (40)
      case_sensitive
      used_for unique_key, primary_browse, name, translation;
field order_number alias component_number datatype packed_decimal used_for ordering ;
field result_type datatype text (1)
      prompt_type choose
      choose_type RES_TYPE;
field units
      links_to unit_header.identity;
field minimum alias min datatype real;
field maximum alias max datatype real;
field true_word alias extrue datatype text(10) used_for translation;
field false_word alias exfalse datatype text(10) used_for translation;
field allowed_characters alias range datatype text(26);
field calculation alias calculation_id datatype identity(30);
field places datatype integer
	lower_limit -1
	upper_limit 9;
field rep_control datatype text(3);
field replicates datatype boolean;
field sig_figs_number datatype integer
	lower_limit -1
	upper_limit 9;
field sig_figs_rounding datatype integer
	lower_limit -1
	upper_limit 9;
field sig_figs_filter datatype text(10);
field minimum_pql datatype real
      default 0.0 ;
field maximum_pql datatype real
     default 0.0 ;
field pql_calculation
      links_to limit_calculation . identity
      default NULL ;
field formula datatype text ( 500 )
      default NULL ;
field matrix_no datatype integer
      default 0;
field matrix_name datatype text(10);
field column_no datatype integer
      default 0;
field column_name datatype text(20)
      default NULL;
field row_no datatype integer
      default 0;
field row_name datatype text(20)
      default NULL;
field uncertainty_text
      datatype text(500);
field entity_criteria
      	links_to criteria_saved . identity;

index v_component_order_index on analysis,
                                 analysis_version,
                                 order_number ;

table VERSIONED_CATEGORY_COMPONENT;

field name datatype text (40)
      case_sensitive
      used_for unique_key;
field order_number
      datatype packed_decimal
      used_for ordering ;
field result_type datatype text (1)
      prompt_type choose
      choose_type RES_TYPE;
field units
      links_to unit_header.identity;
field pql_calculation
      links_to limit_calculation . identity
      default NULL ;
field formula datatype text ( 500 )
      default NULL ;


table result;

field test_number
      links_to parent test . test_number
      used_for unique_key;
field name alias component_name datatype text (40)
      case_sensitive
      used_for unique_key, name, display_browse ( 1 ) , translation;
field order_number alias comp_num datatype packed_decimal;
field result_type datatype text(1);
field units
      links_to unit_header.identity
      used_for display_browse ( 3 );
field minimum alias low_value datatype real;
field maximum alias high_value datatype real;
field typical alias typical_value datatype real;
field true_word datatype identity used_for translation;
field false_word datatype identity used_for translation;
field allowed_characters datatype text(26);
field calculation alias calculation_id datatype identity(30);
field value datatype real;
field text datatype text(234) used_for display_browse ( 2 );
field places datatype integer;
field out_of_range datatype boolean;
field status datatype text (1)
      prompt_type choose
      choose_type RESL_STAT;
field old_status datatype text (1)
      prompt_type choose
      choose_type RESL_STAT;
field entered_on datatype date;
field entered_by datatype identity;
field date_authorised datatype date;
field authoriser datatype identity;
field group_id links_to group_header.identity
      used_for security_id;
field security_flags datatype integer;
field sig_figs_number datatype integer;
field sig_figs_rounding datatype integer;
field sig_figs_filter datatype text(10);
field rep_control datatype text(3);
field minimum_pql links_to versioned_component . minimum_pql ;
field maximum_pql links_to versioned_component . maximum_pql ;
field less_than_pql datatype boolean ;
field greater_than_pql datatype boolean ;
field pql_calculation links_to versioned_component . pql_calculation
                      default NULL ;
field formula         links_to versioned_component . formula
                      default NULL ;
field dilution_factor datatype real
                      default 1.0 ;
field spike_value     datatype real
                      format '999.99'
                      lower_limit 0.0 ;
field surrogate_mlp   links_to mlp_header . identity
                      default NULL ;
field surrogate_mlp_version links_to mlp_versions . product_version
                      default NULL ;
field matrix_no datatype integer
      default 0;
field matrix_name datatype text(10);
field column_no datatype integer
      default 0;
field column_name datatype text(20)
      default NULL;
field row_no datatype integer
      default 0;
field row_name datatype text(20)
      default NULL;
field has_incidents
      datatype boolean ;
field instrument_used
      links_to instrument . identity;
field raw_result datatype text(234) ;
field entity_criteria
      	links_to criteria_saved . identity;
field workflow_node
      default '948DD6D4-1BD2-4E7A-A7EE-EA2CE751605C'
      links_to workflow_node . workflow_node_guid ;
field comments datatype text(234)
      default NULL;

table calculation;

        FIELD IDENTITY            ALIAS IDENTIFIER

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 );


	FIELD ANALYSIS_ID
		LINKS_TO VERSIONED_ANALYSIS . IDENTITY;

        FIELD DESCRIPTION

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE ( 2 );

	FIELD FORMULA 
		DATATYPE TEXT ( 500 )
		DEFAULT NULL ;

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON    ;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY    ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE     ;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

        FIELD NAME

                DATATYPE TEXT ( 100 )
                USED_FOR PRIMARY_BROWSE, NAME ;
                
        FIELD HAS_ATTACHMENTS

                DATATYPE BOOLEAN
                USED_FOR HAS_ATTACHMENTS ;

TABLE PREPARATION         ;

        FIELD IDENTITY            ALIAS IDENTIFIER

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 );

        FIELD PREP_TYPE

                DATATYPE IDENTITY
                PROMPT_TYPE phrase
                IDENTITIES
                PHRASE_TYPE PREP_TYPE;

        FIELD GROUP_ID            ALIAS GROUP

                LINKS_TO GROUP_HEADER . IDENTITY
                USED_FOR SECURITY_ID;

        FIELD EXPECTED_TIME

                DATATYPE INTERVAL ;

        FIELD COST_CODE

                DATATYPE TEXT ( 15);

        FIELD WAIT_PREP         ALIAS NEEDS_WAIT

                DATATYPE BOOLEAN ;

        FIELD DESCRIPTION

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE ( 2 );

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON ;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE ;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

        FIELD APPROVAL_REQD

                DATATYPE BOOLEAN ;

        FIELD NAME

                DATATYPE TEXT ( 100 )
                USED_FOR PRIMARY_BROWSE, NAME ;
                
        FIELD HAS_ATTACHMENTS

                DATATYPE BOOLEAN
                USED_FOR HAS_ATTACHMENTS ;

table mlp_level
      alias mlp_levels;

field level_id datatype identity
      used_for unique_key, display_browse ( 1 );
field description datatype text (234)
      used_for display_browse ( 2 );
field level_type datatype identity
      prompt_type phrase
      identities
      valid
      phrase_type MLP_LEVELS;
field message_action datatype boolean;
field report_action datatype text (1)
      default 'D'
      prompt_type choose
      choose_type REPT_ACT;
field result_action datatype text (1)
      default 'A'
      prompt_type choose
      choose_type RESL_ACT;
field display_message datatype text (234);
field report_name links_to report . identity;
field routine_name 
      datatype text (50)
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';


field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field group_id links_to group_header.identity
      used_for security_id;

{*** extra for stat ***}

field aql_level
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;

field incident
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;

field incident_template
      links_to incident_template . template_id ;

field incident_workflow_id
      links_to workflow . workflow_guid ;

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

field modifiable 
      datatype boolean
      default 'Yes'
      true_word 'Yes'
      false_word 'No' 
      used_for modifiable ;

field removeflag
      datatype boolean
      used_for remove_flag ;

field has_attachments
      datatype boolean
      used_for has_attachments ;

field include_expression
      datatype text ( 500 ) ;

table mlp_header;

field identity datatype identity
      used_for unique_key , display_browse ( 1 );
field product_code datatype Text ( 50 );
field entry_code datatype packed_decimal;
field product_group datatype identity
        prompt_type phrase
        identities
        valid
        phrase_type MLP_GROUP;
field description datatype Text ( 234 )
      used_for display_browse(3) ;
field test_schedule
      links_to test_sched_header . identity;
field product_status
      datatype text ( 1 );
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field modifiable datatype boolean
      used_for modifiable;
field removeflag datatype boolean
      used_for remove_flag;
field group_id links_to group_header.identity
      used_for security_id;

field product_version alias version
      datatype packed_decimal
      default '         1'
      used_for unique_key ,
               version_number ,
               display_browse(2) ;

field version_comment alias comment datatype Text ( 234 );
field version_status datatype text (1) ;
field created_date datatype date default '0' ;

field approval_reqd datatype boolean;
field approval_status
      datatype text ( 1 )
      used_for display_browse ( 4 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

field substance
      links_to substance . identity ;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field aql_level
      datatype boolean
      default 'No'
      true_word 'Yes'
      false_word 'No' ;	  
field active
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True'
      used_for active_flag;
field active_from
      datatype date
      used_for active_start_date;
field active_to
      datatype date
      used_for active_end_date;

table mlp_analysis;

field product_id
      links_to parent mlp_header . identity as parent_mlp
      used_for unique_key;
field product_version
      links_to parent mlp_header . product_version as parent_mlp
      used_for unique_key, version_number; { included for downwards compatibility }
field analysis_id
      links_to versioned_analysis . identity
      used_for unique_key;
field sampling_insp_level
      datatype text(10)
      default 'II';
field inspection_level
      datatype identity
      default 'NORMAL'
      prompt_type choose
      choose_type STAT_IL ;
field order_number
      datatype packed_decimal
      used_for ordering;

table mlp_components;

field product_id
      links_to parent mlp_header.identity as parent_mlp
      used_for unique_key;
field product_version
      links_to parent mlp_header.product_version as parent_mlp
      used_for unique_key, version_number; { included for downwards compatibility }
field analysis_id
      datatype text(10)
      used_for unique_key;
field component_name 
      datatype text ( 40 )
      case_sensitive
      used_for unique_key, name;
field product_number datatype packed_decimal;
field component_type datatype text (1)
      prompt_type phrase
      valid
      identities
      phrase_type RES_COMP;
field units 
      links_to unit_header.identity;
field places datatype integer
      lower_limit -1;
field typical_text datatype Text ( 234 );
field entry_code 
      datatype packed_decimal;
field order_num
      datatype packed_decimal
      used_for ordering;

table mlp_values
      alias limit ;

field entry_code datatype packed_decimal
      used_for unique_key;
field level_id
      links_to mlp_level.level_id
      used_for unique_key;
field min_limit datatype Text ( 10 );
field max_limit datatype Text ( 10 );
field text_spec datatype Text ( 234 );
field calculation links_to limit_calculation . identity;
field text_phrase  links_to limit_phrase_header.identity;
field boolean_pass datatype boolean;
field aql_value
      datatype text(234);

TABLE MLP_SCHEDULE;

FIELD   identity links_to   parent MLP_HEADER.Identity as parent_mlp
        used_for            unique_key;

FIELD   identity_version
        links_to   parent MLP_HEADER.product_version as parent_mlp
        used_for                unique_key;

FIELD   mlp_id
        links_to                mlp_header.identity
        used_for                unique_key;

{*** new for sample plan ***}

FIELD mlp_version
      links_to                mlp_header.product_version
      default '         0';  {A value of zero indicates current version}

{*** END new for sample plan *** }

FIELD   order_num
        datatype                packed_decimal
        used_for                ordering ;

view mlp_versions_view alias mlp_versions on_table mlp_header ;

        field identity
            links_to mlp_header . identity
            used_for unique_key ;

        field product_version alias version
            links_to mlp_header . product_version
            used_for unique_key descending ;

        field version_comment
            links_to mlp_header . version_comment ;

        field version_status
            links_to mlp_header . product_status ;

        field created_date
            links_to mlp_header . created_date ;

        field name
            links_to mlp_header . name ;

select_clause

      SELECT
		mlp_header . [identity]      ,
		mlp_header . product_version ,
		mlp_header . version_comment ,
		mlp_header . product_status  ,
		mlp_header . created_date    ,
                mlp_header . name

      FROM
		mlp_header ;
		
{MLP_HEADER view which gets the latest version of a product}		
		
view mlp_latest_version_view alias products_view on_table mlp_header ;

        field identity
            links_to mlp_header . identity
            used_for unique_key ;
            
        field version
            links_to mlp_header . product_version;

        field version_comment
            links_to mlp_header . version_comment ;

        field version_status
            links_to mlp_header . product_status ;

        field created_date
            links_to mlp_header . created_date ;
            
        field product_description
	    links_to mlp_header . description ;

        field name
            links_to mlp_header . name ;

select_clause

      SELECT
		m . [identity]      ,
		m . product_version ,
		m . version_comment ,
		m . product_status  ,
		m . created_date    ,
		m . description     ,
                m . name

      FROM
		mlp_header m
		
      WHERE
		m . product_version = ( SELECT MAX ( product_version )
                          		FROM mlp_header m2
                          		WHERE m2 . [identity] = m . [identity] ) ;
      		

view work_profile on_table mlp_header ;

field identity
	links_to mlp_header . identity
	used_for unique_key , primary_browse ;
field product_version alias version
	links_to mlp_header . product_version
	used_for unique_key , version_number , display_browse ;
field product_code
	links_to mlp_header . product_code ;
field entry_code
	links_to mlp_header . entry_code ;
field product_group
	links_to mlp_header . product_group ;
field description 
	links_to mlp_header . description
	used_for display_browse ;
field test_schedule
	links_to mlp_header . test_schedule ;
field product_status
	links_to mlp_header . product_status ;
field modified_on
	links_to mlp_header . modified_on
	used_for modified_on ;
field modified_by
	links_to mlp_header . modified_by
	used_for modified_by ;
field modifiable
	links_to mlp_header . modifiable
	used_for modifiable;
field removeflag
	links_to mlp_header . removeflag
	used_for remove_flag;
field group_id
	links_to mlp_header . group_id
	used_for security_id ;
field version_comment alias comment
	links_to mlp_header . version_comment ;
field version_status
	links_to mlp_header . version_status ;
field created_date
	links_to mlp_header . created_date ;
field name
        links_to mlp_header . name ;

select_clause

	SELECT
		m . [identity]       ,
		m . product_version  ,
		m . product_code     ,
		m . entry_code       ,
		m . product_group    ,
		m . description      ,
		m . test_schedule    ,
		m . product_status   ,
		m . modified_on      ,
		m . modified_by      ,
		m . modifiable       ,
		m . removeflag       ,
		m . group_id         ,
		m . version_comment  ,
		m . version_status   ,
		m . created_date     ,
                m . name

	FROM
		mlp_header m
	WHERE
		m . [identity] IN ( SELECT DISTINCT m2 . [identity]
		                         FROM mlp_header m2 ,
		                              test_sched_entry tse ,
		                              versioned_c_l_entry vcle
		                         WHERE m2   . [identity] = tse . [identity] AND
		                               m    . [identity] = m2  . [identity] AND
		                               vcle . comp_list  = tse . [identity] AND
		                               vcle . analysis  = tse  . analysis_id ) AND
 		m . product_version = ( SELECT MAX ( product_version )
                                        FROM mlp_header m2
                                        WHERE m2 . [identity] = m . [identity] ) ;


TABLE   LIMIT_PHRASE_HEADER;


field   identity
        alias                    identifier
        datatype                 identity
        used_for                 unique_key,
                                 display_browse ( 1 );

field   group_id
        alias                    group
        links_to                 group_header.identity
        used_for                 security_id;

field   description
        datatype                 text (234)
        used_for                 display_browse ( 2 );

field   modified_on
        datatype                 date
        used_for                 modified_on;

field   modified_by
        links_to                 personnel.identity
        used_for                 modified_by;

field   modifiable
        datatype                 boolean
        used_for                 modifiable;

field   removeflag
        datatype                 boolean
        used_for                 remove_flag;

field   phrase_link links_to phrase_header.identity;

field   default_comparison
        datatype                 text (1)
        default 'P'
        prompt_type choose       choose_type LIMIT_COMP;

field   name
        datatype                 text (100)
        used_for                 primary_browse, name;

TABLE   LIMIT_PHRASE_ENTRY;

field   limit_phrase links_to parent limit_phrase_header.identity
        used_for                 unique_key, display_browse(1);

field   result_value
        datatype                 text (234)
        used_for                 unique_key, primary_browse;

field   order_number
        alias                    order_num
        datatype                 packed_decimal
        used_for                 ordering;

field   comparison
        datatype                 text (1)
        default 'P'
        prompt_type choose       choose_type LIMIT_COMP;

table worksheet;

field worksheet_type datatype identity
      prompt_type choose
      choose_type WKS_TYPE
      used_for unique_key;
field identity alias worksheet_name datatype text (20)
      used_for unique_key,primary_browse;
field assigned_operator alias operator datatype identity
      used_for display_browse (1);
field generator_operator datatype identity
      used_for display_browse (2);
field status datatype text (1)
      used_for display_browse (3);
field link_number alias worksheet_number datatype packed_decimal
      alias worksheet_link;
field date_generated datatype date;

view sample_worksheet on_table worksheet,
                               sample   ;

field identity alias id_numeric, worksheet_name
      links_to sample . id_numeric
      used_for unique_key, primary_browse;
field id_text
      links_to sample . id_text;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              SAMPLE . ID_NUMERIC ,
              SAMPLE . ID_TEXT ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET , SAMPLE
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'SMPWKS' AND
              SAMPLE . ID_NUMERIC = WORKSHEET . [IDENTITY] ;

view analysis_worksheet on_table worksheet;

field identity alias worksheet_name, analysis_id
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'TESTWKS';
			  
view sample_prep_worksheet on_table worksheet;

field identity alias worksheet_name
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'SMPREPWKS';
			  
view test_prep_worksheet on_table worksheet;

field identity alias worksheet_name
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'TESTPREP';
			  
view user_worksheet on_table worksheet;

field identity alias worksheet_name
      datatype identity (20)
      used_for unique_key, primary_browse;
field assigned_operator alias operator
      links_to worksheet . assigned_operator
      used_for display_browse (1);
field generator_operator
      links_to worksheet . generator_operator
      used_for display_browse (2);
field status
      links_to worksheet . status
      used_for display_browse (3);
field link_number alias worksheet_number alias worksheet_link
      links_to worksheet . link_number;
field date_generated
      links_to worksheet . date_generated;

select_clause

      SELECT
              WORKSHEET . [IDENTITY] ,
              WORKSHEET . ASSIGNED_OPERATOR ,
              WORKSHEET . GENERATOR_OPERATOR ,
              WORKSHEET . STATUS ,
              WORKSHEET . LINK_NUMBER ,
              WORKSHEET . DATE_GENERATED
      FROM
              WORKSHEET
      WHERE
              WORKSHEET . WORKSHEET_TYPE = 'UDWKS';

table standard;

field identity datatype identity
      alias identifier
      used_for unique_key,display_browse(1);
field category datatype identity;
field group_id links_to group_header.identity
      used_for security_id;
field standard_type datatype identity
      default 'CALIB'
      prompt_type choose
      choose_type STAND_TYPE ;
field standard_name datatype text(60);
field expiry_type datatype text(1)
      default 'T'
      prompt_type choose
      choose_type EXPIRY_TYP ;
field lifetime datatype interval
      alias standard_lifetime ;
field maximum_usage
      datatype integer
      lower_limit 1
      default 1;
field internal_external datatype boolean;
field description datatype text(60)
      used_for display_browse(2);
field modifiable datatype boolean
      used_for modifiable       ;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field product_id datatype identity;
    { links_to mlp_header.identity }
field template_id
      links_to samp_tmpl_header.identity;
field substance
      links_to substance.identity;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field workflow_node_control
      default '06833E29-B7E5-4DFC-98C1-91B9AF7B6A41'
      links_to workflow_node . workflow_node_guid ;

table standard_versions;

field identity 
   links_to parent standard.identity as standard
   alias identifier
   used_for unique_key;
field version datatype packed_decimal
   used_for version_number, unique_key;
field status datatype text(1)
   alias standard_status;
field expiry_type datatype text(1)
      default 'T'
      prompt_type choose
      choose_type EXPIRY_TYP ;
field lifetime datatype interval
      alias standard_lifetime ;
field creation_date datatype date default '0' ;
field expiry_date datatype date;
field usage_count datatype integer;
field maximum_usage datatype integer
        lower_limit 1
        default 1;
field ammount_made datatype text(20);
field version_comment alias comment datatype text(234)
      used_for display_browse;

table instrument ;

field identity
        datatype identity
        used_for unique_key, display_browse ( 1 );

field group_id alias group
	used_for security_id
	links_to group_header . identity;

field description
	datatype text ( 255 )
	used_for display_browse ( 2 );

field modifiable datatype boolean
	used_for modifiable;

field modified_on datatype date
	used_for modified_on;

field modified_by links_to personnel.identity
	used_for modified_by;

field removeflag datatype boolean
	used_for remove_flag;       

field manufacturer
	links_to supplier.identity;

field insttype_id alias insttype
	datatype identity
	prompt_type phrase
	identities
	phrase_type INST_TYPE;

field instrument_template
	links_to instrument_template.identity;

field serial_no
	datatype text (78);

field instructions
	datatype text ( 255 );

field location_id alias location
	links_to location . identity;

field sop_reference
	datatype text (100);

field available
	datatype boolean
	true_word 'Yes'
	false_word 'No'
	default 'Yes' ;

field retired
	datatype boolean
	true_word 'Yes'
	false_word 'No'
	default 'No' ;

field operator_id alias operator
        links_to personnel . identity;

field date_installed
	datatype date;

field calibration_plan
	datatype text ( 255 );

field calib_sample_template
	links_to samp_tmpl_header . identity;	

field requires_calibration
	datatype boolean;

field last_calib_date
	datatype date;

field next_calib_date
	datatype date;

field calib_contractor
	links_to supplier.identity;

field calib_lead_time
	datatype interval
	lower_limit '0 00:00:00.00';

field calibration_sample
	links_to sample.id_numeric;

field requires_servicing
	datatype boolean;

field last_service_date
	datatype date;

field next_service_date
	datatype date;

field service_contractor
	links_to supplier.identity;

field service_lead_time
	datatype interval
	lower_limit '0 00:00:00.00';

field service_intv
	datatype interval
	lower_limit '0 00:00:00.00';

field service_date
	datatype date;

field service_tqe
	datatype integer;

field workfile
	datatype text (234);

field server
	datatype identity;

field approval_reqd
	datatype boolean ;

field channel
	datatype identity;

field status alias statuschar
	prompt_type choose
	choose_type INST_STAT
	default'U'
	datatype text ( 1 );

field calib_date
	datatype date;

field calib_intv
	datatype interval
	lower_limit '0 00:00:00.00';

field calib_tqe
	datatype integer;

field workstation_name
	datatype identity(30)
	prompt_type user_defined
	library '$INSTRUMENT_COMM'
	routine 'workstation_prompt';

field comm_port
	datatype identity
	prompt_type user_defined
	library '$INSTRUMENT_COMM'
	routine 'com_port_prompt';

field comm_baud
	datatype identity
	prompt_type choose
	choose_type COMM_BAUD
	default '9600';

field comm_parity
	datatype identity
	prompt_type choose
	choose_type COMM_PARIT
	default 'N';

field comm_databits
	datatype integer
	default  8
	lower_limit 4
	upper_limit 8 ;

field comm_stopbits
	datatype identity
	prompt_type choose
	choose_type COMM_STOPB
	default '1';

field comm_send_string
	datatype text;

field comm_timeout
	datatype integer
	default  5
	lower_limit 1
	upper_limit 60 ;

field comm_preamble
	datatype text;

field comm_postamble
	datatype text;

field name
	datatype text ( 100 )
	used_for primary_browse, name;

field has_attachments
	datatype boolean
	used_for has_attachments ;

field instrument_category
	links_to instrument_category . identity;

field lab_data_source_id
	links_to lab_data_source . lab_data_source_id as lab_data_source ;

field lab_data_source_version
	links_to lab_data_source . lab_data_source_version as lab_data_source ;

field lab_parsing_script_id
	links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

field lab_parsing_script_version
	links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

field variable_alias_id
	links_to lab_alias . lab_alias_id as variable_aliasing ;

field variable_alias_version
	links_to lab_alias . lab_alias_version as variable_aliasing ;

field value_alias_id
	links_to lab_alias . lab_alias_id as value_aliasing;

field value_alias_version
	links_to lab_alias . lab_alias_version as value_aliasing ;

field custom_icon
	links_to icon . identity 
	default 'INT_BALANCE';

field use_maintenance
	datatype boolean
	true_word 'T'
	false_word 'F'
	default 'T';

table timerqueue;

field entry_number datatype packed_decimal used_for unique_key;
field run_time datatype date;
field repeat_interval datatype interval;
field report_name links_to report.identity;
field routine_name datatype identity (50)
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';
field printer links_to printer.identity;
field param_string alias input_parameters datatype text ( 255 );
field entry_id datatype text ( 20 );
field user_name links_to personnel.identity read_only;
field timer_schedule links_to timer_schedule.identity ;
field run_window datatype interval ;
field suspended datatype boolean  ;
field start_date datatype date ;
field number_of_occurences datatype integer ;
field end_date datatype date ;
field recurrence_type datatype integer ;
field recurrence_data_1 datatype text ;
field recurrence_data_2 datatype text ;
field recurrence_data_3 datatype text ;
field task datatype text
      prompt_type phrase
      noidentities
      phrase_type tasknames ;
field task_params datatype text ;

table personnel alias person;

field identity alias identifier datatype identity
      used_for unique_key, display_browse ( 1 );
field group_id links_to group_header.identity
      used_for security_id;
field default_group
        links_to group_header.identity;
field description datatype text ( 234 ) used_for display_browse ( 2 );
field authority datatype identity
        prompt_type choose
        choose_type AUTHLEVEL
        default '4         ';
field location_id alias location
        links_to location.identity;
field cost_code datatype text ( 15 );
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable datatype boolean used_for modifiable ;
field removeflag datatype boolean used_for remove_flag;
field language links_to language.identity;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field email
      datatype text ( 100 );
field has_attachments
      datatype boolean
      used_for has_attachments ;
field license_type
      datatype identity
      prompt_type choose
      choose_type LIC_TYPE
      default 'FF';
field chromeleon_username
      datatype text ( 100 );
field signature_blob
      links_to blob_values . blob_id ;
field chromeleon_password
      datatype text ( 2000 );
field sm_authentication
      datatype boolean ;

table password;

field identity
        links_to personnel.identity
        used_for unique_key ;
field cryptpass datatype text ( 128 ) ;
field expires datatype date;
field frozen
        datatype boolean
        true_word 'Frozen'
        false_word 'Active'
        default 'Active' ;
field attempts
        datatype integer
        default 0 ;
field last_login datatype date;
field cryptpass_key
        datatype text ( 20 ) ;

table password_history;

field identity
        links_to personnel.identity
        used_for unique_key ;
field changed datatype date
        used_for unique_key ;
field cryptpass 
        datatype text ( 128 ) ;
field cryptpass_key
        datatype text ( 20 ) ;

table menu;

        field owner_menu
                datatype        identity
                used_for        unique_key;
        field menu_numeric
                datatype        packed_decimal
                used_for        unique_key;
        field order_num
                datatype        packed_decimal
                used_for        unique_key, ordering;
        field procedure_num
                datatype        integer
                lower_limit     0;
        field mnemonic
		links_to        master_menu . mnemonic;
        field security_level
                datatype        integer
                lower_limit     0
                upper_limit     10;
        field group_id
                links_to        group_header . identity
                used_for        security_id;
        field description
                datatype        text (80);
        field desc_length
                datatype        integer
                lower_limit     1
                upper_limit     80;
        field library
                links_to        report.identity;
        field routine
                datatype        text (50)
                PROMPT_TYPE     user_defined
                LIBRARY         '$PROMPT_ROUTINE'
                ROUTINE         'prompt_routine';

index menu_menu_numeric_index on owner_menu , menu_numeric ;

index menu_procedure_number on owner_menu , procedure_num ;

index menu_mnemonic on owner_menu , mnemonic ;

TABLE printer;

        FIELD   identity
                DATATYPE identity
                USED_FOR unique_key, display_browse ( 1 );

        FIELD   group_id
                LINKS_TO group_header.identity
                USED_FOR security_id;

        FIELD   description
                DATATYPE text ( 234 )
                USED_FOR display_browse ( 2 );

        FIELD   location
                LINKS_TO location.identity;

        FIELD   logical_name
                DATATYPE text ( 234 )
                PROMPT_TYPE user_defined
                LIBRARY '$Q_BROWSE'
                ROUTINE 'queue_browse';

        FIELD   device_type
                DATATYPE identity
                DEFAULT 'LOCAL'
                PROMPT_TYPE choose
                CHOOSE_TYPE print_type;

        FIELD   modified_on
                DATATYPE date
                USED_FOR modified_on;

        FIELD   modified_by
                LINKS_TO personnel.identity
                USED_FOR modified_by;

        FIELD   modifiable
                DATATYPE boolean
                USED_FOR modifiable     ;

        FIELD   removeflag
                DATATYPE boolean
                USED_FOR remove_flag;

        FIELD   device_name
                DATATYPE text ( 20 );

        FIELD   printer_code_type
                DATATYPE text (20)
                PROMPT_TYPE user_defined
                LIBRARY '$Q_BROWSE'
                ROUTINE 'code_type_prompt';

        FIELD   printer_parameter
                DATATYPE text ( 234 ) ;

        FIELD   graphics_type
                datatype identity
                prompt_type phrase
                identities
                valid
                phrase_type PRINT_GFX;
        FIELD   name
                DATATYPE text ( 100 ) 
                used_for primary_browse, name ;
        FIELD   has_attachments
                DATATYPE boolean
                USED_FOR has_attachments ;
        FIELD   label_specification
                LINKS_TO label_specification.identity ;

TABLE distribution ;

        FIELD   distribution_id
        	LINKS_TO parent printer . identity as printer
                USED_FOR unique_key ;

        FIELD   destination_id
                LINKS_TO printer . identity
                USED_FOR unique_key ;

        FIELD   order_num
                DATATYPE packed_decimal
                USED_FOR unique_key , ordering ;
				
TABLE distribution_personnel ;

        FIELD   distribution_id
        	LINKS_TO parent printer . identity
                USED_FOR unique_key ;

        FIELD   destination_operator
                LINKS_TO personnel . identity
                USED_FOR unique_key ;

        FIELD   order_num
                DATATYPE packed_decimal
                USED_FOR unique_key , ordering ;

table phrase
      alias phrase_entries ;

field phrase_type
	links_to parent phrase_header.identity as phrase
	used_for unique_key, display_browse ( 2 );
	
field phrase_id
	datatype identity
	allowed_characters '0..9A..Z_-/()$+ '
	used_for unique_key, primary_browse ;

field order_num
	datatype packed_decimal
	used_for ordering;
	
field phrase_text
	datatype text ( 234 )
	used_for display_browse ( 1 ),translation;
	
field icon
        links_to icon . identity;

table phrase_header ;

field identity alias identifier datatype identity
      used_for unique_key, display_browse ( 1 );
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description datatype text ( 234 ) used_for display_browse ( 2 );
field modified_on datatype date used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable datatype boolean used_for modifiable ;
field removeflag datatype boolean used_for remove_flag;
field name datatype text ( 100 ) used_for primary_browse, name;
field has_attachments datatype boolean used_for has_attachments ;

table mt_fields ;

field table_name     datatype identity ( 30 ) used_for unique_key ;
field field_name     datatype identity ( 30  ) used_for unique_key ;
field default_type   
	prompt_type choose
	choose_type MTTYPE_LOT
	datatype text ( 1 );
field default_value  datatype text     ( 255 ) ;
field text_prompt    datatype text     ( 30  ) ;
field library_name
      links_to report . identity ;
field routine_name
      datatype identity ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';
field hidden
        datatype boolean
        true_word  'Y'
        false_word 'N' ;
field prompt_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field copy_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field display_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field mandatory_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;

table template_fields ;

field table_name     datatype identity ( 30 ) used_for unique_key ;
field template_id    datatype identity ( 10 ) used_for unique_key ;
field field_name     datatype identity ( 30 ) used_for unique_key ;
field order_number   alias order_field datatype packed_decimal  used_for ordering   ;
field default_type  
	prompt_type choose
	choose_type MTTYPE_LOT
	datatype text ( 1 );
field default_value  datatype text ( 255 ) ;
field text_prompt    datatype text     ( 30  ) ;
field library_name
      links_to report . identity ;
field routine_name
      datatype identity ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';
field prompt_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field copy_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field display_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;
field mandatory_flag
        datatype boolean
        true_word  '*'
        false_word ' ' ;

table job_template ;

field identity alias identifier
        datatype identity ( 10 )
        used_for unique_key , display_browse ( 1 );

field browse_description alias description datatype text ( 80 )
                                                used_for display_browse ( 2 );
field modified_on datatype date     used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable  datatype boolean used_for modifiable ;
field removeflag  alias remove_flag datatype boolean  used_for remove_flag;
field group_id alias group links_to group_header.identity used_for security_id;

field prompt_for_name      datatype boolean  ;
field sample_syntax_id     links_to syntax.identity;
field sample_template_id   links_to samp_tmpl_header . identity ;
field sample_repeat_count  datatype integer  ;
field job_syntax_id        links_to syntax.identity ;

field creation_title       datatype text ( 80 ) ;

field workflow        links_to workflow . workflow_guid 
                      default '18693C5C-B14B-41F9-82F8-E2D9A199E83D';
field has_attachments datatype boolean used_for has_attachments ;

{*** extra for sample plan ***}
field is_environmental     datatype boolean ;
field name datatype text ( 100 ) used_for primary_browse, name;

table samp_tmpl_header ;

field identity alias identifier datatype identity ( 10 ) used_for unique_key ,
                                                                  display_browse ( 1 ) ;
field description datatype text ( 80 ) used_for display_browse ( 2 );
field modified_on datatype date     used_for modified_on;
field modified_by links_to personnel.identity used_for modified_by;
field modifiable  datatype boolean  used_for modifiable;
field removeflag  alias remove_flag datatype boolean  used_for remove_flag;
field group_id alias group links_to group_header.identity used_for security_id;

field login_title     alias login_screen datatype text ( 80 ) ;
field sample_status   datatype text ( 1  ) allowed_characters 'HUV' ;
field syntax_id       links_to syntax . identity   ;
field edit_tests      datatype boolean    ;
field test_assignment datatype boolean    ;

field receipt_action  datatype text ( 1  ) allowed_characters 'IND' default 'N' ;
field label_action    datatype text ( 1  ) allowed_characters 'IND' default 'N' ;
field wsht_action     datatype text ( 1  ) allowed_characters 'IND' default 'N' ;

field label_id        links_to report . identity ;
field receipt_id      links_to report . identity ;
field wsht_id         links_to report . identity ;

field label_printer   links_to printer . identity ;
field receipt_printer links_to printer . identity ;
field wsht_printer    links_to printer . identity ;

field auto_wks        datatype boolean  ;
field action_type     datatype identity
                      prompt_type choose
                      default 'NONE'
                      choose_type TMPL_TYPE;

field supertemplate   datatype boolean  ;

field label_template  links_to label_template . identity ;
field name            datatype text ( 100 ) used_for primary_browse, name;
field workflow        links_to workflow . workflow_guid 
                      default '4A588308-8A1C-4727-A97D-CAC90F68F86D';
field has_attachments datatype boolean
                      used_for has_attachments ;

table supertemplatelist ;

field supertemplate  links_to samp_tmpl_header . identity used_for unique_key;
field listid         links_to samp_tmpl_header . identity used_for unique_key ;
field order_num      datatype packed_decimal used_for unique_key , ordering ;

table job_header;

        field job_name

                used_for unique_key
                used_for primary_browse
                datatype identity ( 20 )
                prompt_type user_defined
                allowed_characters '0..9A..Z._- '
                library '$PROMPT_JOB'
                routine 'prompt_job' ;

        field job_status

                alias    status
                datatype text (  1 )
                prompt_type choose
                choose_type job_stat ;

        field browse_description

                alias    description
                datatype text ( 234 )
                used_for display_browse;

        field sample_syntax_id

                links_to syntax.identity;

        field date_created

                datatype date ;

        field date_completed

                datatype date ;

        field date_received

                datatype date ;

        field date_to_start

                datatype date ;

        field submitter_oper

                links_to personnel.identity;

        field samples_to_do

                datatype integer ;

        field group_id

                links_to group_header.identity
                used_for security_id;

        field template_id

                links_to job_template . identity ;

        field sample_template

                links_to samp_tmpl_header . identity ;

        field   date_authorised
                alias    authorise_date
                datatype date    ;

        field   authoriser alias authoriser_id
                links_to personnel . identity ;

        field   authorisation_notes
                datatype text ( 234 )
                prompt_type phrase
                phrase_type authsamp ;

        field   old_status

                datatype text (  1 )
                prompt_type choose
                choose_type job_stat;

        field   inspection_header
                links_to inspection_header . identity
                used_for inspection ;

        field node_trigger_path
                 datatype text ( 500 )
                 default NULL ;

        field original_job
                 links_to job_header . job_name ;

        field been_copied
                 datatype boolean ;

        field auto_validate
                datatype boolean ;

        field total_elements
                datatype integer
                default 1
                lower_limit 1 ;

        field lot_id
                links_to lot_details . lot_id ;

        field certificate
                links_to certificate . id_numeric ;

        field   workflow_node
                default '340B0B10-B8C6-422E-9D2B-B12CA10F494A'
                links_to workflow_node . workflow_node_guid ;

        field entity_template_id
                links_to entity_template . identity as entity_template;

        field entity_template_version
                links_to entity_template . entity_template_version as entity_template;

        field has_attachments
                datatype boolean
                used_for has_attachments ;

        field   cert_template_id
                links_to cert_template . cert_template_id as cert_template ;

        field   cert_template_version
                links_to cert_template . cert_template_version as cert_template
                default '         1' ;

        field   cert_id
                links_to cert . certificate_id as cert ;

        field   cert_version
                links_to cert . certificate_version as cert
                default '         1' ;

        field schedule
                links_to schedule . identity ;

        field schedule_group
                links_to schedule_group . identity ;

		
collection retain_samples on sample using retain_associated_job_name ;

table test_sched_header;

field identity alias schedule_id datatype identity
      used_for unique_key, display_browse ( 1 );
field description datatype text ( 234 )
      used_for display_browse ( 2 );
field modifiable datatype boolean
      used_for modifiable;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field group_id links_to group_header.identity
      used_for security_id;
field name 
      datatype text ( 100 ) 
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table test_sched_entry;

field identity alias schedule_id
      links_to parent test_sched_header.identity as test_schedule
      used_for unique_key;
field analysis_id
      links_to versioned_analysis.identity
      used_for unique_key;
field order_num datatype packed_decimal
      used_for ordering, unique_key;
field instrument_id
      alias instrument
      links_to instrument.identity;
field instrument_type
      links_to instrument_template . identity;
field instrument_category
      links_to instrument_category . identity;

field std_test datatype boolean
      true_word  'Yes'
      false_word 'No'
      default    'Yes' ;
field replicate_count datatype integer
                format 99
                lower_limit 1
                upper_limit 99 
                default 1;
field is_analysis datatype boolean ;
field component_list
      links_to versioned_c_l_header . comp_list ;

table log_sched_header;

field identity alias schedule_name datatype identity
      used_for unique_key, display_browse ( 1 );
field description datatype text ( 234 )
      used_for display_browse ( 2 );
field modifiable datatype boolean
      used_for modifiable;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field repeat_interval datatype interval;
field activation_time datatype date;
field job_template_id
      alias job_template
      links_to job_template.identity;
field template_count alias count datatype packed_decimal;
field group_id links_to group_header.identity
      used_for security_id;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table log_sched_entry;

field identity alias schedule_name
      links_to parent log_sched_header.identity
      used_for unique_key;
field template alias sample_template_id
      links_to samp_tmpl_header.identity
      used_for unique_key;
field offset alias repeat_interval datatype interval;
field order_num datatype packed_decimal
      used_for ordering,unique_key;

table group_header;

field identity datatype identity
      used_for unique_key, display_browse ( 1 )
      prompt_type user_defined
      library '$group_prompt'
      routine 'prompt_group';
field description datatype text ( 234 )
      used_for display_browse ( 2 );
field modifiable datatype boolean
      used_for modifiable       ;
field modified_on datatype date
      used_for modified_on;
field modified_by links_to personnel.identity
      used_for modified_by;
field removeflag datatype boolean
      used_for remove_flag;
field operator_id
      links_to personnel.identity;
field group_id datatype identity
      used_for security_id;
field parent_group
      links_to group_header . identity ;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;
field owner_site
      links_to site.identity;


table grouplink;

field operator_id
      alias operator
      links_to parent personnel.identity
      used_for unique_key;
field group_id alias group
      links_to group_header.identity
      used_for unique_key;
field description datatype text (78)
      used_for display_browse;


TABLE HAZARD;

        FIELD IDENTITY            ALIAS IDENTIFIER

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE (1);

        FIELD GROUP_ID            ALIAS GROUP

                LINKS_TO GROUP_HEADER . IDENTITY
                USED_FOR SECURITY_ID;

        FIELD DESCRIPTION

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE (2);

        FIELD LABEL_TEXT

                DATATYPE TEXT ( 22);
                
        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

	FIELD NAME
		DATATYPE TEXT (100)
		USED_FOR PRIMARY_BROWSE, NAME;
	
	FIELD HAS_ATTACHMENTS
		DATATYPE BOOLEAN
		USED_FOR HAS_ATTACHMENTS;


TABLE SYNTAX              ALIAS NAMESYNTAX ;

        FIELD IDENTITY            ALIAS IDENTIFIER

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 ) ;


        FIELD SYNTAX

                DATATYPE TEXT ( 80);

        FIELD DESCRIPTION

                DATATYPE TEXT (234)
                used_for display_browse ( 2 );

        FIELD USER_WRITTEN

                DATATYPE BOOLEAN ;

        FIELD LAST_USED

                DATATYPE TEXT ( 30);

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON    ;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY    ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE     ;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

	FIELD NAME
		DATATYPE TEXT (100)
		USED_FOR PRIMARY_BROWSE, NAME;

	FIELD TABLE_NAME
		DATATYPE TEXT(30);
		
	FIELD FORMULA DATATYPE TEXT ( 500 )
		DEFAULT NULL ;
	
	FIELD HAS_ATTACHMENTS
		DATATYPE BOOLEAN
		USED_FOR HAS_ATTACHMENTS ;


TABLE CUSTOMER ;

        FIELD IDENTITY            ALIAS IDENTIFIER

                DATATYPE IDENTITY
                USED_FOR UNIQUE_KEY, DISPLAY_BROWSE (1);

        FIELD GROUP_ID            ALIAS GROUP

                LINKS_TO GROUP_HEADER . IDENTITY
                USED_FOR SECURITY_ID;

        FIELD COMPANY_NAME

                DATATYPE TEXT (78)
                USED_FOR DISPLAY_BROWSE (2);

        FIELD ADDRESS1

                DATATYPE TEXT (78);

        FIELD ADDRESS2

                DATATYPE TEXT (78);

        FIELD ADDRESS3

                DATATYPE TEXT (78);

        FIELD ADDRESS4

                DATATYPE TEXT (78);

        FIELD ADDRESS5

                DATATYPE TEXT (78);

        FIELD ADDRESS6

                DATATYPE TEXT (78);

        FIELD PHONE_NUM

                DATATYPE TEXT (78);

        FIELD CONTACT

                DATATYPE TEXT (78);

        FIELD MODIFIED_ON

                DATATYPE DATE
                USED_FOR MODIFIED_ON;

        FIELD MODIFIED_BY

                LINKS_TO PERSONNEL . IDENTITY
                USED_FOR MODIFIED_BY ;

        FIELD MODIFIABLE

                DATATYPE BOOLEAN
                USED_FOR MODIFIABLE;

        FIELD REMOVEFLAG

                DATATYPE BOOLEAN
                USED_FOR REMOVE_FLAG ;

        FIELD SUSPENDFLAG

                DATATYPE BOOLEAN ;

        FIELD DESCRIPTION

                DATATYPE TEXT (234)
                USED_FOR DISPLAY_BROWSE (3);

        FIELD WEB_PAGE

                DATATYPE TEXT (100);

        FIELD EMAIL

                DATATYPE TEXT (100);

        FIELD NAME
                DATATYPE TEXT (100)
                USED_FOR PRIMARY_BROWSE, NAME;

        FIELD HAS_ATTACHMENTS
                DATATYPE BOOLEAN
                USED_FOR HAS_ATTACHMENTS ;


TABLE LOCATION ;
	FIELD IDENTITY
	      ALIAS IDENTIFIER
	      USED_FOR UNIQUE_KEY, DISPLAY_BROWSE ( 1 )
	      DATATYPE IDENTITY (50);

	FIELD GROUP_ID
	      ALIAS GROUP
	      LINKS_TO GROUP_HEADER . IDENTITY 
	      USED_FOR SECURITY_ID;

	FIELD DESCRIPTION
	      USED_FOR DISPLAY_BROWSE ( 3 )
	      DATATYPE TEXT (234);

	FIELD MODIFIED_ON
	      USED_FOR MODIFIED_ON
	      DATATYPE DATE;

	FIELD MODIFIED_BY
	      LINKS_TO PERSONNEL . IDENTITY 
	      USED_FOR MODIFIED_BY;

	FIELD MODIFIABLE
	      USED_FOR MODIFIABLE
	      DATATYPE BOOLEAN
	      DEFAULT 'YES'
	      TRUE_WORD 'YES'
	      FALSE_WORD 'NO';

	FIELD REMOVEFLAG
	      USED_FOR REMOVE_FLAG
	      DATATYPE BOOLEAN;

	FIELD ORDER_NUMBER
	      USED_FOR ORDERING
	      DATATYPE PACKED_DECIMAL;

	FIELD PARENT_LOCATION
	      LINKS_TO PARENT  LOCATION . IDENTITY ;

	FIELD LOCATION_TYPE
	      LINKS_TO LOCATION_TYPE . IDENTITY 
	      USED_FOR DISPLAY_BROWSE ( 2 );

	FIELD ASSIGNABLE
	      USED_FOR ASSIGNABLE
	      DATATYPE BOOLEAN
	      DEFAULT 'T'
	      TRUE_WORD 'T'
	      FALSE_WORD 'F';

	FIELD ICON
	      LINKS_TO ICON . IDENTITY 
	      DEFAULT 'INT_WORLD';

	FIELD NAME
	      USED_FOR PRIMARY_BROWSE, NAME
	      DATATYPE TEXT (100);

	FIELD LATITUDE
	      DATATYPE REAL
	      LOWER_LIMIT -90
	      UPPER_LIMIT 90
	      FORMAT 999.99999999;

	FIELD LONGITUDE
	      DATATYPE REAL
	      LOWER_LIMIT -180
	      UPPER_LIMIT 180
	      FORMAT 999.99999999;

	FIELD HAS_ATTACHMENTS
	      USED_FOR HAS_ATTACHMENTS
	      DATATYPE BOOLEAN;

	FIELD STORAGE_TYPE
	      DATATYPE TEXT(30);

	FIELD STORAGE_UNIT
	      LINKS_TO UNIT_HEADER . IDENTITY ;

	FIELD STORAGE_QUANTITY
	      DATATYPE REAL
	      FORMAT 999999.999;

	FIELD STORAGE_CAPACITY
	      DATATYPE REAL
	      FORMAT 999999.999;

	FIELD AVAILABLE_CAPACITY
	      DATATYPE REAL
	      FORMAT 999999.999;

	FIELD FULL
	      DATATYPE BOOLEAN;

	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;

table charge_header;

field charge_type datatype identity (20)
        used_for unique_key, display_browse ( 1 );
field description datatype text (255)
        used_for display_browse ( 2 );
field modifiable datatype boolean
        used_for modifiable;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field group_id
        used_for security_id
        links_to group_header.identity;
field removeflag datatype boolean
        used_for remove_flag;
field name
        datatype text ( 100 )
        used_for primary_browse, name;
field has_attachments
        datatype boolean
        used_for has_attachments;

table charge_entry;

field entry_type links_to parent charge_header.charge_type as charge_header
      used_for unique_key;
field entry_id datatype identity
      used_for unique_key;
field rate datatype real;
field quantity1 datatype integer
        lower_limit '0';
field discount1 datatype real
        format '999.9'
        lower_limit '0.0'
        upper_limit '100.0';
field quantity2 datatype integer
        lower_limit '0';
field discount2 datatype real
        format '999.9'
        lower_limit '0.0'
        upper_limit '100.0';

table project_info;

field project_id alias identifier
        datatype identity
        used_for unique_key, display_browse (1);
field browse_description alias browse_descr, description
        datatype text (255)
        used_for display_browse (2);
field status
        datatype text (1);
field start_date
        datatype date;
field end_date
        datatype date;
field charge_code
        datatype identity;
field customer_id alias customer
        links_to customer.identity;
field customer_contact
        datatype text (40);
field project_supervisor
        links_to personnel.identity;
field modifiable datatype boolean
        used_for modifiable     ;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field removeflag datatype boolean
        used_for remove_flag;
field group_id
        used_for security_id
        links_to group_header.identity;
field name
        datatype text (100)
        used_for primary_browse, name;
field has_attachments
        datatype boolean
        used_for has_attachments;

table audit_transaction ;

field transaction
        datatype  packed_decimal
        used_for  unique_key , primary_browse ;

field system_pid
        datatype  text ( 8 ) ;

field user_id
        links_to personnel . identity ;

field transaction_name
        datatype  text ( 234 )
        used_for  display_browse ;

field transaction_date
        datatype  date  ;

field session_id
        links_to access_log . session_id ;

index audit_session_id on session_id ;

table audit_event ;

field event
        datatype  packed_decimal
        used_for  unique_key , primary_browse ;

field transaction
        links_to audit_transaction . transaction ;

field table_name
        datatype  text ( 30 )
        used_for  display_browse ( 1 ) ;

field record_key0
        datatype  text ( 255 )
        case_sensitive
        used_for  display_browse ( 2 ) ;

field event_action
        datatype  identity ;

field event_reason
        datatype  text ( 234 )
        prompt_type     phrase
        phrase_type     audit_text ;

index audit_table_no_index on table_name , record_key0 ;

table audit_data ;

field data
        datatype  packed_decimal
        used_for  unique_key , primary_browse ;

field event
        links_to audit_event . event
        used_for  display_browse ( 1 ) ;

field data_reason
        datatype        text ( 234 )
        prompt_type     phrase
        phrase_type     audit_text ;

field field
        datatype text ( 20 ) ;

field value_before
        datatype text ( 255 )
        default NULL ;

field value_after
        datatype text ( 255 )
        default NULL ;

field date_before
        datatype date
        default NULL ;

field date_after
        datatype date
        default NULL ;

field real_before
        datatype real
        default NULL ;

field real_after
        datatype real
        default NULL ;

index audit_field_index on event, field ;

view audit_values on_table audit_event       ,
                           audit_data        ,
                           audit_transaction ;

field table_name      
	links_to audit_event . table_name 
	used_for unique_key, primary_browse;
field field_name      
	links_to audit_data . field  
	used_for display_browse;
field record_key0     
	links_to audit_event . record_key0 
	used_for display_browse;
field audit_date      
	links_to audit_transaction . transaction_date ;
field audit_action    
	links_to audit_event . event_action ;
field user_name       
	links_to audit_transaction . user_id ;
field value_before    
	links_to audit_data . value_before ;
field value_after     
	links_to audit_data . value_after ;
field date_before    
	links_to audit_data . date_before ;
field date_after     
	links_to audit_data . date_after ;
field real_before    
	links_to audit_data . real_before ;
field real_after     
	links_to audit_data . real_after ;
field event           
	links_to audit_data . event ;
field event_reason           
        links_to audit_event . event_reason ;
field order_num       
	links_to audit_data . data
	used_for unique_key;

view audit_view on_table audit_transaction ,
                         audit_event       ;

field   event
        links_to audit_event . event
        used_for unique_key;
field   transaction
        links_to audit_event . transaction ;
field   record_key0
        links_to audit_event . record_key0 ;
field   table_name
        links_to audit_event . table_name ;
field   event_action
        links_to audit_event . event_action ;
field   event_reason
        links_to audit_event . event_reason ;
field   transaction_date
        links_to audit_transaction . transaction_date ;
field   user_id
        links_to audit_transaction . user_id ;
field   transaction_name
        links_to audit_transaction . transaction_name ;

select_clause

        select
                e . event,
                e . [transaction],
                e . record_key0,
                e . table_name,
                e . event_action,
                e . event_reason,
                t . transaction_date,
                t . user_id,
                t . transaction_name
        from
                audit_event e,
                audit_transaction t
        where
                e . [transaction] = t . [transaction] ;


table license;

field product           datatype identity
                        used_for unique_key;
field checksum          datatype identity;
field expiry_date       datatype identity;
field login_date        datatype identity;
field number_of_users   datatype integer;
field system_id         datatype integer;
field cpu_type          datatype integer;

table tab_header;

field name alias identity
        datatype identity ( 20 )
        used_for unique_key, primary_browse;
field description
        datatype text (234)
        used_for display_browse;
field group_id
        used_for security_id
        links_to group_header.identity;
field modifiable datatype boolean
        used_for modifiable     ;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field removeflag datatype boolean
        used_for remove_flag;

table jobtab_header;

field name alias identity
        datatype identity ( 20 )
        used_for unique_key, primary_browse;
field description
        datatype text (234)
        used_for display_browse;
field group_id
        used_for security_id
        links_to group_header.identity;
field modifiable datatype boolean
        used_for modifiable     ;
field modified_on datatype date
        used_for modified_on;
field modified_by links_to personnel.identity
        used_for modified_by;
field removeflag datatype boolean
        used_for remove_flag;

table barmenu;
field   menu_name datatype identity
        used_for unique_key;
field   menu_number datatype packed_decimal
        used_for unique_key;
field   order_number datatype packed_decimal
        used_for unique_key,ordering;
field   option_number datatype packed_decimal;
field   option_name datatype text(20);
field   help_file datatype text(20);
field   security_level
      datatype    integer
      lower_limit 0
      upper_limit 10;
field   group_id
      links_to group_header.identity
      used_for security_id ;

table smw_menu;

      field menu_name
            datatype identity
            used_for unique_key;

      field entry_number
            datatype packed_decimal
            used_for unique_key;

      field menu_number
            datatype packed_decimal ;

      field order_number
            datatype packed_decimal
            used_for ordering ;

      field option_number
            links_to master_menu . procedure_num ;

      field option_name
            datatype text( 30 );

index smw_menu_number_index on menu_name, menu_number, order_number   ;

table approval;
field   operator_id links_to personnel.identity
        used_for unique_key;
field   entry_type datatype text(20)
        used_for unique_key;
field   entry_id datatype identity
        used_for unique_key;
field   approving_body datatype identity;
field   date_approved datatype date;
field   expiry_date datatype date;

table sig_figs;
field   identity datatype identity
        used_for unique_key,display_browse (1);
field   description datatype text (234)
        used_for display_browse(2);
field   modifiable datatype boolean
        used_for modifiable;
field   modified_on datatype date
        used_for modified_on;
field   modified_by links_to personnel.identity
        used_for modified_by;
field   removeflag alias remove_flag
        datatype boolean
        used_for remove_flag;
field   group_id links_to group_header.identity
        used_for security_id;
field   name datatype text (100)
        used_for primary_browse, name ;
field   has_attachments
        datatype boolean
        used_for has_attachments ;

table enhanced_worksheet;

field   worksheet_ID datatype identity (20)
        used_for unique_key, primary_browse;
field   worksheet_link datatype packed_decimal;
field   group_id links_to group_header.identity
        used_for security_id;
field   status datatype text (1)
        used_for display_browse (1)
        prompt_type choose
        choose_type WORK_STAT ;
field   old_status datatype text (1);
field   generic_analysis
        links_to versioned_analysis.identity
        used_for display_browse (2);
field   worksheet_type links_to anal_works_templ.sample_source;
field   position datatype integer;
field   current_session datatype integer;
field   user_id alias worksheet_operator
        links_to personnel.identity;
field   generator_id links_to personnel.identity;
field   date_generated datatype date
        used_for display_browse (3);
field   date_completed datatype date;
field   removeflag alias remove_flag
        datatype boolean
        used_for remove_flag;
field   acquisition_count datatype integer;
field   template_id links_to anal_works_templ.template_id;
field   authoriser_id links_to personnel.identity;
field   date_authorised datatype date;

table anal_works_templ;

field   template_id datatype identity
        used_for unique_key, primary_browse;
field   group_id links_to group_header.identity
        used_for security_id;
field   description datatype text (80)
        used_for display_browse (1);
field   status datatype text (1)
        default 'U'
        used_for display_browse (2)
        prompt_type choose
        choose_type TEMP_STAT ;
field   date_approved datatype date;
field   approver_id links_to personnel.identity;
field   sample_source datatype text (1)
        default 'S'
        prompt_type choose
        choose_type SAMP_SOUR;
field   min_samples datatype integer
        default 1
        format 99999999
        lower_limit 1;
field   edit_samples_list datatype boolean;
field   sample_sort datatype text (1)
        default 'J'
        prompt_type choose
        choose_type SAMP_SORT;
field   random_control datatype boolean;
field   random_control_id links_to standard.identity;
field   number_randoms datatype integer
        default 0
        format 99999999
        lower_limit 0;
field   assign_operator datatype boolean;
field   modifiable datatype boolean
        used_for modifiable;
field   modified_on datatype date
        used_for modified_on;
field   modified_by links_to personnel.identity
        used_for modified_by;
field   removeflag datatype boolean
        used_for remove_flag;
field   generic_analysis links_to versioned_analysis.identity;
field   test_sessions datatype integer
        default 1
        format 99999999
        lower_limit 1;
field   comp_rep_flag datatype text (1)
        default 'R'
        prompt_type choose
        choose_type COMP_REP;
field   print_barcodes datatype boolean;
field   result_space datatype boolean;
field   auto_print datatype boolean;
field   printer_id links_to printer.identity;
field   review_required datatype boolean;
field   calibn_required datatype boolean;
field   contrl_required datatype boolean;
field   default_operator links_to personnel.identity;

table c_sample
        prompt_description 'STRUCTURE_SAMPLE'
        noindex
        parent_table sample
        tableset default_table_set;

index c_sample_id_text_index unique on id_text ;

index c_sample_job_name_index on job_name ;

index c_sample_status_index unique on id_numeric , status ;

table c_sample_formulation
        noindex
        parent_table sample_formulation
        tableset default_table_set;

table c_test
        noindex
        parent_table test
        tableset default_table_set;

index c_test_i unique on test_number
        rdb_location 'HASH_STORAGE_AREA'
        rdb_specific 'TYPE IS HASHED' ;

index c_samp_anal_index on sample , analysis ;

index c_test_analysis_index on analysis ;

table c_result
        parent_table result
        tableset default_table_set;

table c_job_header
        parent_table job_header
        tableset default_table_set;

table c_audit_transaction
        parent_table audit_transaction
        tableset default_table_set;

table c_audit_event
        parent_table audit_event
        tableset default_table_set;

index c_audit_table_no_index on table_name , record_key0;

table c_audit_data
        parent_table audit_data
        tableset default_table_set;

index c_audit_field_index on event, field ;

view c_audit_values
        parent_table audit_values
        tableset default_table_set;

view c_audit_view
        parent_table audit_view
        tableset default_table_set;

select_clause

        select
                e . event,
                e . [transaction],
                e . record_key0,
                e . table_name,
                e . event_action,
                e . event_reason,
                t . transaction_date,
                t . user_id,
                t . transaction_name
        from
                c_audit_event e,
                c_audit_transaction t
        where
                e . [transaction] = t . [transaction] ;

table c_workflow_journal
        parent_table workflow_journal
        tableset default_table_set;

table config_header ;

        field identity
              datatype identity ( 30 )
              used_for unique_key , primary_browse ;
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel . identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field user_modifiable
              datatype boolean ;
        field description
              datatype text ( 255 )
              used_for display_browse ;
        field data_type
              datatype identity
              default 'TEXT'
              prompt_type choose
              choose_type CONFG_TYPE ;
        field library
              links_to report . identity ;
        field routine
              datatype text ( 80 )
              prompt_type user_defined
              library '$PROMPT_ROUTINE'
              routine 'prompt_routine';
        field value
              datatype text ( 255 )
              prompt_type user_defined
              library '$CONFIG_PROMPT'
              routine 'prompt_config' ;
        field category
              datatype identity
	      prompt_type phrase
	      valid identities
	      phrase_type CONFG_CATG ;
        field client_item
              datatype boolean;

table config_item ;

        field identity
              links_to config_header . identity
              used_for unique_key ;
        field operator
              links_to personnel . identity
              used_for unique_key ;
        field group_name
              links_to group_header . identity
              used_for unique_key ;
        field value
              datatype text ( 255 ) ;


table criteria_header ;

        field identity
              datatype identity ( 20 )
              used_for unique_key , display_browse ( 1 );
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel . identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field group_id
              links_to group_header . identity
              used_for security_id;
        field description
              datatype text ( 255 )
              used_for display_browse ( 2 );
        field name
              datatype text ( 100 )
              used_for primary_browse, name;
              


table criteria ;

        field identity
              links_to parent criteria_header . identity as Criteria
              used_for unique_key ;
        field table_name
              datatype identity ( 30 )
              used_for unique_key ;
        field field_name
              datatype identity ( 30 )
              used_for unique_key ;
        field width
              datatype integer
              lower_limit 0
              upper_limit 200 ;
        field description
              datatype text ( 30 ) ;


table criteria_saved ;
              
        field table_name
              datatype identity ( 30 )
              used_for unique_key, display_browse(1) ;
        field identity
              datatype identity ( 40 )
              used_for unique_key, display_browse(2), primary_browse ;
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel . identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field group_id
              links_to group_header . identity
              used_for security_id;
        field description
              datatype text ( 255 )
              used_for display_browse(3) ;
        field task_name 
              datatype text ( 234 );
        field form
              links_to form . name;
        field name
              datatype text ( 100 )
              used_for name;
        field public_criteria
              datatype boolean
              true_word 'Yes'
              false_word 'No'
              default 'Yes' ;
        field has_attachments
              datatype boolean
              used_for has_attachments;


table criteria_condition ;

        field table_name
              links_to parent criteria_saved.table_name as criteria
              used_for unique_key;
        field criteria_saved
              links_to parent criteria_saved.identity as criteria
              used_for unique_key;
        field criteria_order
              datatype integer
              used_for unique_key, ordering;
        field criteria_field
              datatype text (255);
        field operator
              datatype text ( 10 )
              default 'EQUALS'
              prompt_type choose
              choose_type crit_op;
        field value
              datatype text (255);


table criteria_order ;

        field table_name
              links_to parent criteria_saved.table_name as criteria
              used_for unique_key;
        field criteria_saved
              links_to parent criteria_saved.identity as criteria
              used_for unique_key;
        field field_name
              datatype text (255)
              used_for unique_key;
        field order_number
              datatype packed_decimal
              used_for ordering;
        field crit_order
              datatype text ( 10 )
              prompt_type choose
              choose_type crit_ord;

table criteria_variable ;

        field table_name
              links_to parent criteria_saved.table_name as criteria
              used_for unique_key;
        field criteria_saved
              links_to parent criteria_saved.identity as criteria
              used_for unique_key;
        field name
              datatype text (50)
              used_for unique_key, primary_browse;
        field type
              datatype text (20);
        field value
              datatype text (100);
        field report
              links_to report . identity;
        field routine
              datatype text (50);


view samp_job_view on_table sample,
                            job_header ;

        field id_numeric
              used_for unique_key
              links_to sample.id_numeric;
        field job_name
              links_to sample.job_name;
        field job_status
              links_to job_header.job_status;
        field job_description
              links_to job_header.browse_description;
        field job_date_created
              links_to job_header.date_created;
        field job_date_completed
              links_to job_header.date_completed;
        field job_date_received
              links_to job_header.date_received;
        field job_date_to_start
              links_to job_header.date_to_start;
        field job_submitter_oper
              links_to job_header.submitter_oper;
        field job_samples_to_do
              links_to job_header.samples_to_do;
        field job_group_id
              links_to job_header.group_id;
        field job_template_id
              links_to job_header.template_id;
        field job_sample_template
              links_to job_header.sample_template;
        field job_date_authorised
              links_to job_header.date_authorised;
        field job_authoriser
              links_to job_header.authoriser;
        field job_authorisation_notes
              links_to job_header.authorisation_notes;
        field id_text
              links_to sample.id_text;
        field sample_status
              alias status
              links_to sample.status;
        field sample_old_status
              links_to sample.old_status;
        field compared
              links_to sample.compared;
        field on_spec
              links_to sample.on_spec;
        field re_sampled
              links_to sample.re_sampled;
        field original_sample
              links_to sample.original_sample;
        field link_number
              links_to sample.link_number;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field sampled_date
              links_to sample.sampled_date;
        field recd_date
              links_to sample.recd_date;
        field date_started
              links_to sample.date_started;
        field starter
              links_to sample.starter;
        field dateresreq
              links_to sample.dateresreq;
        field date_completed
              links_to sample.date_completed;
        field completer
              links_to sample.completer;
        field dateresavail
              links_to sample.dateresavail;
        field date_authorised
              links_to sample.date_authorised;
        field authoriser
              links_to sample.authoriser;
        field authorisation_notes
              links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field grade_code
              links_to sample.grade_code;
        field tests_to_do
              links_to sample.tests_to_do;
        field on_wks
              links_to sample.on_wks;
        field project_id
              links_to sample.project_id;
        field batch_name
              links_to sample.batch_name;
        field sampling_point
              links_to sample.sampling_point;
        field sample_type
              links_to sample.sample_type;
        field sample_name
              links_to sample.sample_name;
        field description
              links_to sample.description;
        field preparation
              links_to sample.preparation;
        field hazard
              links_to sample.hazard;
        field substance
              links_to sample.substance;
        field priority
              links_to sample.priority;
        field location_id
              links_to sample.location;
        field customer_id
              links_to sample.customer_id;
        field invoice_number
              links_to sample.invoice_number;
        field test_schedule
              links_to sample.test_schedule;
        field template_id
              links_to sample.template_id;
        field comp_prod_name
              links_to sample.comp_prod_name;
        field comp_prod_ver
              links_to sample.comp_prod_ver;
        field comp_prod_grade
              links_to sample.comp_prod_grade;
        field standard
              links_to sample.standard;
        field batch_id
              links_to sample.batch_id;
		field job_lot_id
			  links_to job_header.lot_id;

view c_samp_job_view
        parent_table samp_job_view
        tableset default_table_set;

view archive_sj_view
        parent_table samp_job_view
        tableset archive_table_set;

view samp_test_view on_table sample,
                             test;

        field id_numeric
              links_to sample.id_numeric
              used_for unique_key, primary_browse;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field test_number
              links_to test.test_number
	      used_for unique_key;
        field analysis
              links_to test.analysis
              used_for display_browse (1);
        field test_count
              links_to test.test_count
              used_for display_browse (2);
        field test_status
              links_to test.status
              used_for display_browse (3);
        field instrument
              links_to test.instrument
              used_for display_browse (4);
        field product
              links_to sample . product ;
        field product_version
              links_to sample . product_version ;
        field standard
              links_to sample . standard ;
        field standard_id
              links_to sample . standard_id ;
        field preparation_batch
              links_to test . preparation_batch ;
        field instrument_batch
              links_to test . instrument_batch ;
        field parent_test
              links_to test . parent_test ;
        field job_name
              links_to sample . job_name ;
        field sample_priority
              links_to sample . priority ;
        field test_priority
              links_to test . test_priority ;
        field component_list alias comp_list
              links_to test . component_list ;
        field worksheet alias worksheet_id
              links_to test . worksheet ;
        field sampling_point
              links_to sample.sampling_point;
        field recd_date
              links_to sample.recd_date;

view c_samp_test_view
        parent_table samp_test_view
        tableset default_table_set;

view archive_st_view
        parent_table samp_test_view
        tableset archive_table_set;

view mlp_view on_table mlp_header,
                       mlp_values,
                       mlp_level,
                       mlp_components ;

        field product_id
              links_to mlp_components . product_id
              used_for unique_key, primary_browse;
        field product_version
              links_to mlp_components . product_version
              used_for unique_key, display_browse;
        field analysis_id
              links_to mlp_components . analysis_id
              used_for unique_key, display_browse;
        field component_name
              links_to mlp_components . component_name
              used_for unique_key, display_browse;
        field component_type
              links_to mlp_components . component_type
              used_for display_browse;
        field level_id
              links_to mlp_level . level_id
              used_for unique_key;
        field level_order
              links_to mlp_values . min_limit;
        field continue_checking
              links_to mlp_values . text_spec;
        field message_action
              links_to mlp_level . message_action;
        field report_action
              links_to mlp_level . report_action;
        field result_action
              links_to mlp_level . result_action;
        field display_message
              links_to mlp_level . display_message;
        field report_name
              links_to mlp_level . report_name;
        field routine_name
              links_to mlp_level . routine_name;
        field min_limit
              links_to mlp_values . min_limit;
        field max_limit
              links_to mlp_values . max_limit;
        field text_spec
              links_to mlp_values . text_spec;
        field text_phrase
              links_to mlp_values . text_phrase;
        field boolean_pass
              links_to mlp_values . boolean_pass;
        field name
              links_to mlp_header . name;

select_clause

        SELECT
                MC  . PRODUCT_ID,
                MC  . PRODUCT_VERSION,
                MC  . ANALYSIS_ID,
                MC  . COMPONENT_NAME,
                MC  . COMPONENT_TYPE,
                ML  . LEVEL_ID,
                MHV . MIN_LIMIT,
                MHV . TEXT_SPEC,
                ML  . MESSAGE_ACTION,
                ML  . REPORT_ACTION,
                ML  . RESULT_ACTION,
                ML  . DISPLAY_MESSAGE,
                ML  . REPORT_NAME,
                ML  . ROUTINE_NAME,
                MCV . MIN_LIMIT,
                MCV . MAX_LIMIT,
                MCV . TEXT_SPEC,
                MCV . TEXT_PHRASE,
                MCV . BOOLEAN_PASS,
                MH  . NAME
        FROM
                MLP_HEADER MH,
                MLP_VALUES MHV,
                MLP_LEVEL ML,
                MLP_COMPONENTS MC,
                MLP_VALUES MCV
        WHERE
                MH . ENTRY_CODE      = MHV . ENTRY_CODE      AND
                ML . LEVEL_ID        = MHV . LEVEL_ID        AND
                ML . LEVEL_ID        = MCV . LEVEL_ID        AND
                MC . PRODUCT_ID      = MH  . [IDENTITY]      AND
                MC . PRODUCT_VERSION = MH  . PRODUCT_VERSION AND
                MC . ENTRY_CODE      = MCV . ENTRY_CODE ;

table help_context ;
field identity
      datatype identity( 30 )
      used_for unique_key, display_browse (1) ;
field modified_on
      datatype date
      used_for modified_on ;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field keyword
      datatype text ( 30 );
field title
      datatype text ( 80 )
      used_for display_browse (2);
field mnemonic
      datatype identity ( 10 )
      prompt_type user_defined
      library '$LTE_HELP'
      routine 'prompt_mnemonic';
field modifiable
      datatype boolean
      used_for modifiable;
field remove_flag
      datatype boolean
      used_for remove_flag;
field name
      datatype text ( 100 )
      used_for primary_browse, name ;

table chapter;
field identity
      datatype identity( 20 )
      used_for unique_key, display_browse (1) ;
field modified_on
      datatype date
      used_for modified_on ;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field title
      datatype text ( 80 )
      used_for display_browse (2);
field order_num
      datatype packed_decimal
      used_for ordering;
field name
      datatype text ( 100 )
      used_for primary_browse, name ;

table contents;
field chapter_id
      links_to chapter . identity
      used_for unique_key;
field context_id
      links_to help_context . identity
      used_for unique_key;
field order_num
      datatype packed_decimal
      used_for ordering;

table reporter;
field identity
        datatype packed_decimal
        used_for unique_key, primary_browse;
field title
        datatype text (30)
        used_for display_browse;
field group_id alias group
        links_to group_header.identity
        used_for security_id;

table versioned_c_l_header;

field analysis
                    links_to parent versioned_analysis.identity as versioned_analysis
                    used_for unique_key;
field analysis_version
                    links_to versioned_analysis.analysis_version as versioned_analysis
                    used_for unique_key;
field comp_list
                    datatype identity
                    used_for unique_key, primary_browse;
field description
                    datatype text (255)
                    used_for display_browse;
field group_id
                    links_to group_header . identity
                    used_for security_id;

table versioned_c_l_entry;

field analysis
                    links_to parent versioned_c_l_header.analysis as versioned_c_l_header
                    used_for unique_key;
field analysis_version
                    links_to parent versioned_c_l_header.analysis_version as versioned_c_l_header
                    used_for unique_key;
field comp_list
                    links_to parent versioned_c_l_header.comp_list as versioned_c_l_header
                    used_for unique_key;
field name
                    links_to versioned_component.name 
                    case_sensitive
                    used_for unique_key, name, translation;
field order_number
                    datatype packed_decimal
                    used_for ordering;
field default_value
                    datatype text (234);
field replicate_count
                    datatype integer
                    default     1
                    lower_limit 1
                    upper_limit 999;
field result_entry
                    datatype boolean ;
field create_always
                    datatype boolean
                    true_word  'Yes'
                    false_word 'No'
                    default    'Yes' ;
field spike_value
                    datatype real
                    format '999.99'
                    lower_limit 0.0 ;

field surrogate_mlp links_to mlp_header . identity
                    default NULL ;

table limit_calculation;

	field identity            alias identifier
	      datatype identity
	      used_for unique_key;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name;
		  
	field description
	      datatype text (234)
	      used_for display_browse ;

	field modified_on
	      datatype date
	      used_for modified_on    ;

	field modified_by
	
	      links_to personnel . identity
	      used_for modified_by    ;

	field modifiable
	
	      datatype boolean
	      used_for modifiable     ;

	field removeflag
	
	      datatype boolean
	      used_for remove_flag ;

	field has_attachments

	      datatype boolean
	      used_for has_attachments ;

view samp_job_test_result on_table sample ,
                               job_header ,
                               test       ,
                               result     ;

        field id_numeric
              used_for unique_key
              links_to sample.id_numeric;
        field job_name
              used_for unique_key
              links_to sample.job_name;
        field job_status
              links_to job_header.job_status;
        field job_description
              links_to job_header.browse_description;
        field job_date_created
              links_to job_header.date_created;
        field job_date_completed
              links_to job_header.date_completed;
        field job_date_received
              links_to job_header.date_received;
        field job_date_to_start
              links_to job_header.date_to_start;
        field job_submitter_oper
              links_to job_header.submitter_oper;
        field job_samples_to_do
              links_to job_header.samples_to_do;
        field job_group_id
              links_to job_header.group_id;
        field job_template_id
              links_to job_header.template_id;
        field job_sample_template
              links_to job_header.sample_template;
        field job_date_authorised
              links_to job_header.date_authorised;
        field job_authoriser
              links_to job_header.authoriser;
        field job_authorisation_notes
              links_to job_header.authorisation_notes;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field sample_old_status
              links_to sample.old_status;
        field compared
              links_to sample.compared;
        field on_spec
              links_to sample.on_spec;
        field re_sampled
              links_to sample.re_sampled;
        field original_sample
              links_to sample.original_sample;
        field link_number
              links_to sample.link_number;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field sampled_date
              links_to sample.sampled_date;
        field recd_date
              links_to sample.recd_date;
        field date_started
              links_to sample.date_started;
        field starter
              links_to sample.starter;
        field dateresreq
              links_to sample.dateresreq;
        field date_completed
              links_to sample.date_completed;
        field completer
              links_to sample.completer;
        field dateresavail
              links_to sample.dateresavail;
        field sample_date_authorised
              links_to sample.date_authorised;
        field authoriser
              links_to sample.authoriser;
        field authorisation_notes
              links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field grade_code
              links_to sample.grade_code;
        field tests_to_do
              links_to sample.tests_to_do;
        field on_wks
              links_to sample.on_wks;
        field project_id
              links_to sample.project_id;
        field batch_name
              links_to sample.batch_name;
        field sampling_point
              links_to sample.sampling_point;
        field sample_type
              links_to sample.sample_type;
        field sample_name
              links_to sample.sample_name;
        field description
              links_to sample.description;
        field preparation
              links_to sample.preparation;
        field hazard
              links_to sample.hazard;
        field substance
              links_to sample.substance;
        field priority
              links_to sample.priority;
        field location_id
              links_to sample.location;
        field customer_id
              links_to sample.customer_id;
        field invoice_number
              links_to sample.invoice_number;
        field test_schedule
              links_to sample.test_schedule;
        field template_id
              links_to sample.template_id;
        field comp_prod_name
              links_to sample.comp_prod_name;
        field comp_prod_ver
              links_to sample.comp_prod_ver;
        field comp_prod_grade
              links_to sample.comp_prod_grade;
        field standard
              links_to sample.standard;
        field batch_id
              links_to sample.batch_id;
        field test_number
              used_for unique_key
              links_to test.test_number;
        field analysis
              links_to test.analysis;
        field test_status
              links_to test.status;
        field instrument
              links_to test.instrument;
        field component_name
              used_for unique_key
              links_to result.name;
        field result_type
              links_to result.result_type;
        field result_status
              links_to result.status;
        field result_text
              links_to result.text;
        field result_value
              links_to result.value;
        field units
              links_to result.units;
        field minimum
              links_to result.minimum;
        field maximum
              links_to result.maximum;
        field out_of_range
              links_to result.out_of_range;
        field date_result_entered
              links_to result.entered_on;
        field result_entered_by
              links_to result.entered_by;
        field date_result_authorised
              links_to result.date_authorised;
        field result_authoriser
              links_to result.authoriser;

view samp_test_result on_table sample ,
                               test   ,
                               result ;

        field id_numeric
              used_for unique_key, display_browse(1)
              links_to sample.id_numeric;
        field test_number
              used_for unique_key, display_browse(2)
              links_to test .test_number;
        field component_name
              used_for unique_key, display_browse(4)
              links_to result.name;
        field job_name
              links_to sample.job_name;
        field id_text
              links_to sample.id_text;
        field status
              links_to sample.status;
        field sample_old_status
              links_to sample.old_status;
        field compared
              links_to sample.compared;
        field on_spec
              links_to sample.on_spec;
        field re_sampled
              links_to sample.re_sampled;
        field original_sample
              links_to sample.original_sample;
        field link_number
              links_to sample.link_number;
        field login_date
              links_to sample.login_date;
        field login_by
              links_to sample.login_by;
        field sampled_date
              links_to sample.sampled_date;
        field recd_date
              links_to sample.recd_date;
        field date_started
              links_to sample.date_started;
        field starter
              links_to sample.starter;
        field dateresreq
              links_to sample.dateresreq;
        field date_completed
              links_to sample.date_completed;
        field completer
              links_to sample.completer;
        field dateresavail
              links_to sample.dateresavail;
        field sample_date_authorised
              links_to sample.date_authorised;
        field authoriser
              links_to sample.authoriser;
        field authorisation_notes
              links_to sample.authorisation_notes;
        field product
              links_to sample.product;
        field product_version
              links_to sample.product_version;
        field grade_code
              links_to sample.grade_code;
        field tests_to_do
              links_to sample.tests_to_do;
        field on_wks
              links_to sample.on_wks;
        field project_id
              links_to sample.project_id;
        field batch_name
              links_to sample.batch_name;
        field sampling_point
              links_to sample.sampling_point;
        field sample_type
              links_to sample.sample_type;
        field sample_name
              links_to sample.sample_name;
        field description
              links_to sample.description;
        field preparation
              links_to sample.preparation;
        field hazard
              links_to sample.hazard;
        field substance
              links_to sample.substance;
        field priority
              links_to sample.priority;
        field location_id
              links_to sample.location;
        field customer_id
              links_to sample.customer_id;
        field invoice_number
              links_to sample.invoice_number;
        field test_schedule
              links_to sample.test_schedule;
        field template_id
              links_to sample.template_id;
        field comp_prod_name
              links_to sample.comp_prod_name;
        field comp_prod_ver
              links_to sample.comp_prod_ver;
        field comp_prod_grade
              links_to sample.comp_prod_grade;
        field standard
              links_to sample.standard;
        field batch_id
              links_to sample.batch_id;
        field analysis
              used_for display_browse(3)
              links_to test.analysis;
        field test_status
              links_to test.status;
        field instrument
              links_to test.instrument;
        field replicate_test
              links_to test . replicate_test;
        field test_count
              links_to test . test_count ;
        field result_type
              links_to result.result_type;
        field result_status
              links_to result.status;
        field result_text
              links_to result.text;
        field result_value
              links_to result.value;
        field units
              links_to result.units;
        field minimum
              links_to result.minimum;
        field maximum
              links_to result.maximum;
        field out_of_range
              links_to result.out_of_range;
        field date_result_entered
              links_to result.entered_on;
        field result_entered_by
              links_to result.entered_by;
        field date_result_authorised
              links_to result.date_authorised;
        field result_authoriser
              links_to result.authoriser;


view limit_view on_table mlp_values, mlp_components ;

        field level_entry_code
              links_to mlp_values . entry_code
              used_for unique_key, primary_browse;
        field level_id
              links_to mlp_values . level_id
              used_for unique_key, display_browse;
        field level_order
              links_to mlp_values . min_limit;
        field continue_checking
              links_to mlp_values . text_spec;
        field limit_entry_code
              links_to mlp_values . entry_code
              used_for unique_key;
        field min_limit
              links_to mlp_values . min_limit;
        field max_limit
              links_to mlp_values . max_limit;
        field text_spec
              links_to mlp_values . text_spec;
        field calculation
              links_to mlp_values . calculation;
        field text_phrase
              links_to mlp_values . text_phrase;
        field boolean_pass
              links_to mlp_values . boolean_pass;
        field places
              links_to mlp_components . places;

select_clause

        SELECT
                MHV . ENTRY_CODE,
                MHV . LEVEL_ID,
                MHV . MIN_LIMIT,
                MHV . TEXT_SPEC,
                MCV . ENTRY_CODE,
                MCV . MIN_LIMIT,
                MCV . MAX_LIMIT,
                MCV . TEXT_SPEC,
                MCV . CALCULATION,
                MCV . TEXT_PHRASE,
                MCV . BOOLEAN_PASS,
                MCC . PLACES

        FROM
                MLP_VALUES MHV,
                MLP_VALUES MCV,
                MLP_COMPONENTS MCC

        WHERE
                MCV . LEVEL_ID = MHV . LEVEL_ID AND
                MCV . ENTRY_CODE = MCC .ENTRY_CODE ;

table unit_header;

        field   identity
                alias                   unit_id , symbol_id
                datatype                text(40)
                used_for                unique_key , primary_browse
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
		case_sensitive
                prompt_description      'LTE_UNIT_IDENTITY' ;

        field   system
                alias                   protocol
                datatype                text(4)
                      default           'ENGL'
                prompt_type             choose
                choose_type             UNIT_PROT ;

        field   class
                datatype                text(2)
                      default           'B'
                prompt_type             choose
                choose_type             UNIT_CLASS ;

        field   quantity
                alias                   base_type , type
                datatype                text(10)
                used_for                display_browse(1)
                    default           'A'
                prompt_type             choose
                choose_type             UNIT_TYPE;

        field   description
                alias                   common_name
                datatype                text(60)
                used_for                display_browse(2)
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
                prompt_description      'LTE_UNIT_DESCRIPTION' ;

        field   derivation
                alias                   formula , expression
                datatype                text(40)
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
                default                 '1' ;

        field   complement
                datatype                text(40)
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#';

        field   modified_on
                datatype                date
                used_for                modified_on;

        field   modified_by
                links_to                personnel . identity
                used_for                modified_by;

        field   modifiable
                datatype                boolean
                used_for                modifiable;

        field   removeflag
                datatype                boolean
                used_for                remove_flag;

table unit_alias;

        field   parent_id
                links_to parent         unit_header . identity as unit_header
                used_for                unique_key
                case_sensitive ;

        field   identity
                alias                   alias_id
                datatype                text(40)
                used_for                unique_key , primary_browse
                case_sensitive
                allowed_characters      '0..9a..zA..Z /*^+-.[]()%_#'
                prompt_description      'Alias_ID';

        field   order_number
                datatype                packed_decimal
                used_for                ordering;

TABLE batch_tmpl_header ;

        field identity alias identifier
              datatype identity(10)
              used_for unique_key, display_browse (1);

        field group_id alias group
              links_to group_header.identity
              used_for security_id;

        field description datatype text ( 234 )
              used_for display_browse (2);

        field analysis links_to analysis .identity;

        field limits   links_to mlp_header . identity ;

        field batch_class
              datatype identity ( 10 )
              default  'BASE'
              prompt_type choose
              choose_type BATCH_TYPE ;

        field modified_on
              datatype       date
              used_for       modified_on ;

        field modified_by
              links_to personnel.identity
              used_for modified_by;

        field modifiable
              datatype boolean
              used_for modifiable;

        field removeflag
              datatype boolean
              used_for remove_flag;

        field syntax
              links_to syntax . identity ;

        field edit_criteria
              datatype boolean ;

        field minimum_samples
              datatype integer
              default  1
              lower_limit 0
              upper_limit 999 ;

        field maximum_samples
              datatype integer
              default  0
              lower_limit 0
              upper_limit 999 ;

        field automatic_select
              datatype boolean ;

        field edit_list
              datatype boolean
              true_word  'Yes'
              false_word 'No'
              default    'Yes' ;

        field random_control
              links_to standard . identity ;

        field random_number
              datatype integer
              default  0
              lower_limit 0
              upper_limit 999 ;

        field print_on_creation
              datatype boolean ;

        field printer
              links_to printer . identity ;

        field compression
              datatype text ( 1 )
              prompt_type choose
              choose_type BATCH_COMP
              default  'L' ;

        field name
              datatype text ( 100 )
              used_for primary_browse, name ;

        field has_attachments
              datatype boolean
              used_for has_attachments ;

        field rack_template_id
              links_to lab_rack_template . lab_rack_template_id as rack_template ;

        field rack_template_version
              links_to lab_rack_template . lab_rack_template_version as rack_template ;	  

        field automatic_select_standards
              datatype boolean ;			  

TABLE batch_tmpl_entry ;

        field identity
              links_to parent batch_tmpl_header . identity
              used_for unique_key ;

        field order_number
              datatype packed_decimal
              used_for ordering ,
                        unique_key ;

        field type
              datatype identity ;

        field repeat_count
              datatype integer ;

        field parent
              datatype integer ;

        field limit
              links_to mlp_header . identity ;

        field standard
              links_to standard . identity ;

        field component_list
              links_to comp_list_header . comp_list ;

        field section
              datatype text ( 1 ) ;
			  
TABLE batch_tmpl_standard ;

        field identity
              links_to parent batch_tmpl_header . identity
              used_for unique_key ;

        field order_number
              datatype packed_decimal
              used_for ordering ,
                        unique_key ;			  
			  
        field standard
              links_to standard . identity ;  

TABLE batch_header ;

        field identity
              datatype identity ( 20 )
              prompt_type user_defined
              library '$PROMPT_BATCH'
              routine 'prompt_batch'
              used_for unique_key ;

        field status
              datatype text ( 1 )
              prompt_type choose
              choose_type BATCH_STAT ;

        field date_created
              datatype date ;

        field creator
              links_to personnel . identity ;

        field date_completed
              datatype date ;

        field completer
              links_to personnel . identity ;

        field date_reviewed
              datatype date ;

        field reviewer
              links_to personnel . identity ;

        field date_authorised
              datatype date ;

        field authoriser
              links_to personnel . identity ;

        field authorisation_notes
              datatype text ( 255 ) ;

        field date_cancelled
              datatype date ;

        field canceller
              links_to personnel . identity ;

        field limits
              links_to mlp_header . identity ;

        field analysis
              links_to analysis . identity ;

        field description
              datatype text (255)
              used_for display_browse ;

        field batch_class
              links_to batch_tmpl_header . batch_class ;

        field template_id
              links_to batch_tmpl_header . identity ;

        field review_status
              datatype                 text (1)
              default 'F'
              prompt_type choose       choose_type LIMIT_COMP;

        field cds_project
              datatype text (12)
              prompt_type phrase
              identities
              phrase_type MCPROJECT ;

        field cds_channel_number
              datatype integer ;

        field cds_rsf_name
              datatype text (8) ;

        field cds_comments
              datatype text(60) ;

        field cds_template_name
              datatype text (8);

        field cds_analysis_name
              datatype text (14)
              prompt_type phrase
              identities
              phrase_type MCANAL ;

        field cds_method_name
              datatype text (10)
              prompt_type phrase
              identities
              phrase_type MCTEMP ;

        field cds_control_name
              datatype text (8) ;

        field cds_calibration_name
              datatype text (8) ;

        field cds_subtract_name
              datatype text (14) ;

        field cds_subtract_sample
              datatype integer ;

        field cds_sub_injection alias cds_subtract_injection
              datatype integer ;

        field cds_rvs_calib_name alias cds_rvs_calibration_name
              datatype text (8) ;

        field cds_amount_sample alias cds_amount_sample_field
              datatype text (20) ;

        field cds_instrument
              datatype text (20)
              prompt_type phrase
              identities
              phrase_type MCINST ;

        field cds_append_analysis
              datatype boolean
              true_word 'Append'
              false_word 'Overwrite'
              default 'Overwrite' ;

        field analyst
              links_to personnel . identity ;

        field instrument
              links_to instrument . identity ;

        field start_date
              datatype date ;

        field end_date
              datatype date ;

        field batch_comment
              datatype text ( 255 );
              
        field has_attachments
              datatype boolean
              used_for has_attachments ;

        field workflow_node
              default 'FBBB59FA-DCD3-482F-91C8-D03BFF3FDFA8'
              links_to workflow_node . workflow_node_guid ;

        field entity_template_id
              links_to entity_template . identity as entity_template ;

        field entity_template_version
              links_to entity_template . entity_template_version as entity_template ;

        field rack_template_id
              links_to lab_rack_template . lab_rack_template_id as rack_template ;

        field rack_template_version
              links_to lab_rack_template . lab_rack_template_version as rack_template ;

        field rack_start_position
              datatype text ( 10 ) ;

        field plate_id
              links_to plate . plate_id as plate ;

        field system_batch
              datatype boolean ;

TABLE batch_entry ;

        field identity
              links_to parent batch_header . identity as batch_header
              used_for unique_key ;

        field order_number
              datatype packed_decimal
              used_for ordering ,
                       unique_key ;

        field test
              used_for display_browse
              links_to test . test_number ;

        field type
              used_for display_browse
              datatype identity ;

        field repeat_section
              datatype integer ;

        field review_status
              datatype                 text (1)
              default 'F'
              prompt_type choose       choose_type LIMIT_COMP;

        field template_entry_id
              links_to batch_tmpl_entry . identity as template_entry ;

        field template_entry_order
              links_to  batch_tmpl_entry . order_number as template_entry ;

        field position
              datatype integer
              default -1 ;

        field rack_location
              used_for display_browse
              datatype text (10) ;

        field plate_id
              links_to plate . plate_id as plate ;

        field plate_row_number
              datatype integer
              default -1 ;

        field plate_column_number
              datatype integer
              default -1 ;
			  
TABLE batch_standard ;

        field batch_id
              links_to parent batch_header . identity as batch_header
              used_for unique_key ;

        field standard_id
              links_to standard_versions . identity as standard_version
              used_for unique_key ;

        field version
              links_to standard_versions . version as standard_version ;

        field order_number
              datatype packed_decimal
              used_for ordering ;

TABLE c_batch_header

        parent_table batch_header
        tableset     default_table_set ;

TABLE c_batch_entry

        parent_table batch_entry
        tableset     default_table_set ;

table increments ;

        field major alias table
              datatype text ( 40 )
              used_for unique_key ;

        field minor alias entity
              datatype text ( 40 )
              used_for unique_key ;

        field lastval alias value
              datatype integer ;

        field caching
              datatype integer ;
       
{ Views to implement select on the non versioned tables. }
{ The select statement for the next four views should    }
{ have the same predicates for the versioned_analysis    }
{ table.                                                 }

view analysis_view alias analysis on_table versioned_analysis ;

        field identity alias identifier
              links_to versioned_analysis . identity
              used_for unique_key ;
        field analysis_version
              links_to versioned_analysis . analysis_version;
        field group_id
              links_to versioned_analysis . group_id
              used_for security_id ;
        field analysis_type
              links_to versioned_analysis . analysis_type ;
        field description
              links_to versioned_analysis . description
              used_for display_browse ;
        field insttype_id
              links_to versioned_analysis . insttype_id;
        field instcat_id
              links_to versioned_analysis . instcat_id;
        field preparation_id
              links_to versioned_analysis . preparation_id;
        field expected_time
              links_to versioned_analysis . expected_time;
        field chargecode
              links_to versioned_analysis . chargecode;
        field result_screen
              links_to versioned_analysis . result_screen;
        field modified_on
              links_to versioned_analysis . modified_on
              used_for modified_on ;
        field modified_by
              links_to versioned_analysis . modified_by
              used_for modified_by ;
        field modifiable
              links_to versioned_analysis . modifiable
              used_for modifiable ;
        field removeflag
              links_to versioned_analysis . removeflag
              used_for remove_flag ;
        field calculation
              links_to versioned_analysis . calculation;
        field replicates
              links_to versioned_analysis . replicates;
        field access_flags
              links_to versioned_analysis . access_flags;
        field comp_replicates
              links_to versioned_analysis . comp_replicates;
        field generic_analysis
              links_to versioned_analysis . generic_analysis;
        field approval_reqd
              links_to versioned_analysis . approval_reqd;
        field allow_category
              links_to versioned_analysis . allow_category;
        field approval_status
              links_to versioned_analysis . approval_status ;
        field inspection_plan
              links_to versioned_analysis . inspection_plan ;
        field sampling_plan_type
              links_to versioned_analysis . sampling_plan_type ;
        field auto_validate
              links_to versioned_analysis . auto_validate;
	field instrument_required
	      links_to versioned_analysis . instrument_required;
        field name
              links_to versioned_analysis . name;
        field active
              links_to versioned_analysis . active
              used_for active_flag;
        field active_from
              links_to versioned_analysis . active_from
              used_for active_start_date;
        field active_to
              links_to versioned_analysis . active_to
              used_for active_end_date;
        field workflow_id
              links_to versioned_analysis . workflow_id;
        field entity_template_id
              links_to versioned_analysis . entity_template_id;

select_clause

        SELECT
                A1 . [IDENTITY]             ,
                A1 . ANALYSIS_VERSION       ,
                A1 . GROUP_ID               ,
                A1 . ANALYSIS_TYPE          ,
                A1 . DESCRIPTION            ,
                A1 . INSTTYPE_ID            ,
                A1 . INSTCAT_ID             ,
                A1 . PREPARATION_ID         ,
                A1 . EXPECTED_TIME          ,
                A1 . CHARGECODE             ,
                A1 . RESULT_SCREEN          ,
                A1 . MODIFIED_ON            ,
                A1 . MODIFIED_BY            ,
                A1 . MODIFIABLE             ,
                A1 . REMOVEFLAG             ,
                A1 . CALCULATION            ,
                A1 . REPLICATES             ,
                A1 . ACCESS_FLAGS           ,
                A1 . COMP_REPLICATES        ,
                A1 . GENERIC_ANALYSIS       ,
                A1 . APPROVAL_REQD          ,
                A1 . ALLOW_CATEGORY         ,
                A1 . APPROVAL_STATUS        ,
                A1 . INSPECTION_PLAN        ,
                A1 . SAMPLING_PLAN_TYPE     ,
                A1 . AUTO_VALIDATE          ,
                A1 . INSTRUMENT_REQUIRED    ,
                A1 . NAME                   ,
                A1 . ACTIVE                 ,
                A1 . ACTIVE_FROM            ,
                A1 . ACTIVE_TO              ,
                A1 . WORKFLOW_ID            ,
                A1 . ENTITY_TEMPLATE_ID     

        FROM
                VERSIONED_ANALYSIS A1

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2.[IDENTITY] = A1.[IDENTITY]  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

view component_view alias component on_table versioned_analysis,
                                             versioned_component ;

        field analysis alias analysis_id
              links_to versioned_component . analysis
              used_for unique_key ;
        field analysis_version
              links_to versioned_component . analysis_version ;
        field name
              links_to versioned_component . name
              used_for unique_key ;
        field order_number alias component_number
              links_to versioned_component . order_number
              used_for ordering ;
        field result_type
              links_to versioned_component . result_type ;
        field units
              links_to versioned_component . units ;
        field minimum alias min
              links_to versioned_component . minimum ;
        field maximum alias max
              links_to versioned_component . maximum ;
        field true_word alias extrue
              links_to versioned_component . true_word ;
        field false_word alias exfalse
              links_to versioned_component . false_word ;
        field allowed_characters alias range
              links_to versioned_component . allowed_characters ;
        field calculation alias calculation_id
              links_to versioned_component . calculation ;
        field places
              links_to versioned_component . places ;
        field rep_control
              links_to versioned_component . rep_control ;
        field replicates
              links_to versioned_component . replicates ;
        field sig_figs_number
              links_to versioned_component . sig_figs_number ;
        field sig_figs_rounding
              links_to versioned_component . sig_figs_rounding ;
        field sig_figs_filter
              links_to versioned_component . sig_figs_filter ;
        field minimum_pql
              links_to versioned_component . minimum_pql ;
        field maximum_pql
              links_to versioned_component . maximum_pql ;
        field pql_calculation
              links_to versioned_component . pql_calculation ;
        field formula
              links_to versioned_component . formula ;
        field matrix_no
              links_to versioned_component . matrix_no ;
        field matrix_name
              links_to versioned_component . matrix_name ;
        field column_no
              links_to versioned_component . column_no ;
        field column_name
              links_to versioned_component . column_name ;
        field row_no
              links_to versioned_component . row_no ;
        field row_name
              links_to versioned_component . row_name ;
        field uncertainty_text
              links_to versioned_component . uncertainty_text ;
        field entity_criteria
              links_to versioned_component . entity_criteria ;

select_clause

        SELECT
                C . ANALYSIS,
                C . ANALYSIS_VERSION,
                C . NAME,
                C . ORDER_NUMBER,
                C . RESULT_TYPE,
                C . UNITS,
                C . MINIMUM,
                C . MAXIMUM,
                C . TRUE_WORD,
                C . FALSE_WORD,
                C . ALLOWED_CHARACTERS,
                C . CALCULATION,
                C . PLACES,
                C . REP_CONTROL,
                C . REPLICATES,
                C . SIG_FIGS_NUMBER,
                C . SIG_FIGS_ROUNDING,
                C . SIG_FIGS_FILTER,
                C . MINIMUM_PQL,
                C . MAXIMUM_PQL,
                C . PQL_CALCULATION,
                C . FORMULA,
                C . MATRIX_NO,
                C . MATRIX_NAME,
                C . COLUMN_NO,
                C . COLUMN_NAME,
                C . ROW_NO,
                C . ROW_NAME,
                C . UNCERTAINTY_TEXT,
                C . ENTITY_CRITERIA

        FROM
                VERSIONED_COMPONENT C

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2 . [IDENTITY] = C . ANALYSIS  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

view complist_header_view alias comp_list_header
      on_table versioned_analysis, versioned_c_l_header ;

        field analysis
              links_to versioned_c_l_header . analysis
              used_for unique_key ;
        field analysis_version
              links_to versioned_c_l_header . analysis_version ;
        field comp_list
              links_to versioned_c_l_header . comp_list
              used_for unique_key ;
        field description
              links_to versioned_c_l_header . description
              used_for display_browse ;
        field group_id
              links_to versioned_c_l_header . group_id
              used_for security_id ;

select_clause

        SELECT
                CLH . ANALYSIS,
                CLH . ANALYSIS_VERSION,
                CLH . COMP_LIST,
                CLH . DESCRIPTION,
                CLH . GROUP_ID

        FROM
                VERSIONED_C_L_HEADER CLH

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2 . [IDENTITY] = CLH . ANALYSIS  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

view complist_entry_view alias comp_list_entry
     on_table versioned_analysis, versioned_c_l_entry ;

        field analysis
              links_to versioned_c_l_entry . analysis
              used_for unique_key ;
        field analysis_version
              links_to versioned_c_l_entry . analysis_version ;
        field comp_list
              links_to versioned_c_l_entry . comp_list
              used_for unique_key ;
        field name
              links_to versioned_c_l_entry . name
              used_for unique_key ;
        field order_number
              links_to versioned_c_l_entry . order_number
              used_for ordering ;
        field default_value
              links_to versioned_c_l_entry . default_value ;
        field replicate_count
              links_to versioned_c_l_entry . replicate_count ;
        field result_entry
              links_to versioned_c_l_entry . result_entry ;
        field create_always
              links_to versioned_c_l_entry . create_always ;
        field spike_value
              links_to versioned_c_l_entry . spike_value ;
        field surrogate_mlp
              links_to versioned_c_l_entry . surrogate_mlp ;

select_clause

        SELECT
                CLE . ANALYSIS ,
                CLE . ANALYSIS_VERSION ,
                CLE . COMP_LIST ,
                CLE . NAME ,
                CLE . ORDER_NUMBER ,
                CLE . DEFAULT_VALUE ,
                CLE . REPLICATE_COUNT,
                CLE . RESULT_ENTRY,
                CLE . CREATE_ALWAYS,
                CLE . SPIKE_VALUE,
                CLE . SURROGATE_MLP

        FROM
                VERSIONED_C_L_ENTRY CLE

        WHERE
                ANALYSIS_VERSION = ( SELECT MAX ( ANALYSIS_VERSION )
                                     FROM VERSIONED_ANALYSIS A2
                                     WHERE A2 . [IDENTITY] = CLE . ANALYSIS  AND
                                           A2 . APPROVAL_STATUS = 'A' AND
                                           A2 . ACTIVE          = 'T' AND
                                           A2 . REMOVEFLAG      = 'F' ) ;

table blob_values ;

        field blob_id
              datatype packed_decimal
              used_for unique_key ;
        field is_binary
              datatype boolean;
        field table_name
              datatype identity ( 40 ) ;
        field field_name
              datatype identity ( 40 ) ;
        field blob_field
              datatype blob ;

table archive_job_header
        parent_table job_header
        tableset archive_table_set;

table archive_sample
        prompt_description 'STRUCTURE_SAMPLE'
        noindex
        parent_table sample
        tableset archive_table_set;

index arc_sample_id_text_index unique on id_text ;

index arc_sample_job_name_index on job_name ;

index arc_sample_status_index unique on id_numeric , status ;

table archive_s_formulation
        noindex
        parent_table sample_formulation
        tableset archive_table_set;

table archive_test
        noindex
        parent_table test
        tableset archive_table_set;

index arc_test_i unique on test_number
        rdb_location 'HASH_STORAGE_AREA'
        rdb_specific 'TYPE IS HASHED' ;

index arc_samp_anal_index on sample , analysis ;

index arc_test_analysis_index on analysis ;

table archive_result
        parent_table result
        tableset archive_table_set;

table archive_audit_trans
        parent_table audit_transaction
        tableset archive_table_set;

table archive_audit_event
        parent_table audit_event
        tableset archive_table_set;

index arc_audit_table_no_index on table_name , record_key0;

table archive_audit_data
        parent_table audit_data
        tableset archive_table_set;

index arc_audit_field_index on field;

view archive_audit_values
        parent_table audit_values
        tableset archive_table_set;

view archive_audit_view
        parent_table audit_view
        tableset archive_table_set;

select_clause

        select
                e . event,
                e . [transaction],
                e . record_key0,
                e . table_name,
                e . event_action,
                e . event_reason,
                t . transaction_date,
                t . user_id,
                t . transaction_name
        from
                archive_audit_event e,
                archive_audit_trans t
        where
                e . [transaction] = t . [transaction] ;

TABLE archive_batch_header
        parent_table batch_header
        tableset     archive_table_set ;

TABLE archive_batch_entry
        parent_table batch_entry
        tableset     archive_table_set ;

table archive_workflow_journal
        parent_table workflow_journal
        tableset archive_table_set;

table list_result_format ;

        field identity
              datatype identity
              used_for unique_key, display_browse ( 1 );
        field group_id alias group
              used_for security_id
              links_to group_header . identity;
        field description
              datatype text ( 234 )
              used_for display_browse ( 2 );
        field modified_on datatype date
              used_for modified_on;
        field modified_by links_to personnel.identity
              used_for modified_by;
        field modifiable datatype boolean
              used_for modifiable;
        field removeflag datatype boolean
              used_for remove_flag;
        field form_title
              datatype text ( 234 ) ;
        field replicate_title
              datatype text ( 234 ) ;
        field value_title
              datatype text ( 234 ) ;
        field max_replicates
              datatype integer
              lower_limit 0 ;
        field library
              links_to report . identity ;
        field callback_routine
              datatype identity ( 50 )
              prompt_type user_defined
              library '$PROMPT_ROUTINE'
              routine 'prompt_routine';
        field name
              datatype text ( 100 )
              used_for primary_browse, name ;
        field has_attachments
              datatype boolean
              used_for has_attachments ;

table list_result ;

        field test_number
              links_to result . test_number
              used_for unique_key;
        field name alias component_name
              links_to result . name
              used_for unique_key;
        field replicate_number
              datatype packed_decimal
              used_for unique_key;
        field result_value
              datatype real;
        field result_string
              datatype text (234);

table standard_concentration ;

        field identity
              links_to parent standard_versions . identity as standard_version
              used_for unique_key ;
        field version
              links_to parent standard_versions . version as standard_version
              used_for unique_key ;
        field name  datatype text ( 40 )
              case_sensitive
              used_for unique_key ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field amount
              datatype real
              lower_limit 0.0 ;
        field units
              links_to unit_header.identity;

table inspection_header ;

        field identity alias identifier
              datatype identity
              used_for unique_key, display_browse (1);
        field group_id alias group
              links_to group_header.identity
              used_for security_id ;
        field description
              datatype text ( 234 )
              used_for display_browse (2);
        field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel.identity
              used_for modified_by ;
        field modifiable
              datatype boolean
              used_for modifiable ;
        field removeflag
              datatype boolean
              used_for remove_flag ;
        field inspection_type
              datatype identity
              default 'ROUND'
              prompt_type choose
              choose_type INSP_TYPE;
        field name
              datatype text ( 100 )
              used_for primary_browse, name ;
        field has_attachments
              datatype boolean
              used_for has_attachments ;

table inspection_record ;

        field inspection_identity
              links_to parent inspection_header.identity
              used_for unique_key;
        field order_num
              datatype packed_decimal
              used_for unique_key, ordering;
        field inspection_user_type
              datatype identity
              default 'USER'
              prompt_type choose
              choose_type INSP_USER;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_text
              datatype text ( 234 );

table inspector ;

        field table_name
              datatype text ( 30 )
              used_for unique_key ;
        field record_key0
              datatype text ( 50 )
              used_for unique_key ;
        field version
              datatype packed_decimal
              used_for unique_key ;
        field order_num
              datatype packed_decimal
              used_for unique_key, 
              ordering;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_identity
              links_to inspection_header.identity ;
        field status
              datatype text ( 1 ) ;
        field inspection_text
              datatype text ( 234 ) ;
        field old_status
              datatype text ( 1 ) ;
	field modified_on
              datatype date
              used_for modified_on ;
        field modified_by
              links_to personnel.identity
              used_for modified_by ;
        field approval_user
              links_to personnel . identity ;
        field approval_date
              datatype date ;
        field actual_user
              links_to personnel . identity ;
        field inspection_presenter
              links_to personnel . identity ;

view sample_inspect_view on_table sample, inspector, role_assignment ;

        field id_numeric
              links_to sample.id_numeric
              descending
              used_for unique_key , primary_browse;
        field id_text
              links_to sample.id_text
              used_for display_browse ( 1 );
        field status
              links_to sample.status;
        field version
              links_to inspector . version
              used_for unique_key;
        field order_num
              links_to inspector . order_num
              used_for unique_key;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id alias inspector_personnel_id
              links_to personnel.identity
              used_for unique_key, display_browse ( 2 );
        field role_id
              links_to role_header.identity
              used_for unique_key, display_browse ( 3 );
        field inspection_identity
              links_to inspection_header.identity ;
        field inspection_status
              links_to inspector . status;
        field inspection_text
              links_to inspector . inspection_text;
        field inspection_presenter
              links_to inspector . inspection_presenter;
        field role_personnel_id
              links_to personnel.identity
              used_for unique_key;
        field role_group_id
              links_to group_header.identity
              used_for unique_key;

select_clause

        SELECT
                S . ID_NUMERIC,
                S . ID_TEXT,
                S . STATUS,
                I . VERSION,
                I . ORDER_NUM,
                I . INSPECTION_USER_TYPE,
                I . PERSONNEL_ID,
                I . ROLE_ID,
                I . INSPECTION_IDENTITY,
                I . STATUS,
                I . INSPECTION_TEXT,
                I . INSPECTION_PRESENTER,
                R . OPERATOR_ID,
                R . GROUP_ID

        FROM
                SAMPLE S,
                INSPECTOR I
                LEFT OUTER JOIN ROLE_ASSIGNMENT R ON R.ROLE_ID = I.ROLE_ID 

        WHERE
                I . RECORD_KEY0 = S . ID_NUMERIC AND
                I . TABLE_NAME  ='SAMPLE' ;


view test_inspect_view on_table test, inspector, role_assignment ;

        field test_number
              links_to test.test_number
              used_for unique_key, primary_browse;
        field status
              links_to test . status ;
        field version
              links_to inspector . version ;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_status
              links_to inspector . status;
        field inspection_text
              links_to inspector . inspection_text
              used_for display_browse ( 1 );
        field role_personnel_id
              links_to personnel.identity;

select_clause

        SELECT

                T . TEST_NUMBER,
                T . STATUS,
                I . VERSION,
                I . INSPECTION_USER_TYPE,
                I . PERSONNEL_ID,
                I . ROLE_ID,
                I . STATUS,
                I . INSPECTION_TEXT,
                R . OPERATOR_ID

        FROM
                TEST T,
                INSPECTOR I
                LEFT OUTER JOIN ROLE_ASSIGNMENT R ON R.ROLE_ID = I.ROLE_ID 

        WHERE
                I . RECORD_KEY0 = T . TEST_NUMBER AND
                I . TABLE_NAME  = 'TEST' ;

view job_inspect_view on_table job_header, inspector, role_assignment ;

        field job_name
              links_to job_header . job_name
              used_for unique_key, primary_browse;
        field status
              links_to job_header . job_status ;
        field version
              links_to inspector . version ;
        field inspection_user_type
              links_to inspection_record.inspection_user_type ;
        field personnel_id
              links_to personnel.identity;
        field role_id
              links_to role_header.identity;
        field inspection_status
              links_to inspector . status;
        field inspection_text
              links_to inspector . inspection_text
              used_for display_browse ( 1 );
        field role_personnel_id
              links_to personnel.identity;

select_clause

        SELECT

                J . JOB_NAME,
                J . JOB_STATUS,
                I . VERSION,
                I . INSPECTION_USER_TYPE,
                I . PERSONNEL_ID,
                I . ROLE_ID,
                I . STATUS,
                I . INSPECTION_TEXT,
                R . OPERATOR_ID

        FROM
                JOB_HEADER J,
                INSPECTOR I
                LEFT OUTER JOIN ROLE_ASSIGNMENT R ON R.ROLE_ID = I.ROLE_ID 

        WHERE
                I . RECORD_KEY0 = J . JOB_NAME AND
                I . TABLE_NAME  = 'JOB_HEADER' ;

{ Ad-Hoc reporter templates tables }

table report_tmpl_header ;

        field template_id
              datatype identity ( 20 )
              used_for primary_browse
              used_for unique_key;
        field template_type
              datatype identity
              used_for display_browse ( 1 ) ;
        field description
              used_for display_browse ( 2 )
              datatype text ( 234 );
        field group_id
              used_for security_id
              links_to group_header . identity ;
        field initialised
              datatype boolean ;
        field modified_on
              datatype date
              used_for modified_on;
        field modified_by
              links_to personnel . identity
              used_for modified_by;
        field modifiable
              datatype boolean
              used_for modifiable;

table report_tmpl_doc_header ;

        field template_id
              links_to report_tmpl_header . template_id
              used_for unique_key;
        field font_record
              links_to report_tmpl_font . font_number ;
        field tab_record
              links_to report_tmpl_tabs . tab_number ;
        field none
              datatype boolean ;
        field head_foot_border
              datatype boolean ;
        field box
              datatype boolean ;


table report_tmpl_doc_footer ;

        field template_id
              links_to report_tmpl_header . template_id
              used_for unique_key;
        field font_record
              links_to report_tmpl_font . font_number ;
        field tab_record
              links_to report_tmpl_tabs . tab_number ;
        field none
              datatype boolean ;
        field head_foot_border
              datatype boolean ;
        field box
              datatype boolean ;


table report_tmpl_adv_opts ;

        field template_id
              links_to report_tmpl_header . template_id
              used_for unique_key;
        field server_template
              datatype boolean ;
        field appl_template
              datatype boolean ;
        field template_name
              datatype text (234) ;
        field server_tmpl_name
              datatype text (234) ;
        field run_macro
              datatype boolean ;
        field macro_name
              datatype text (234)
              prompt_type phrase
                noidentities
              phrase_type macro_name ;
        field ss_macro_name
              datatype text (234)
              prompt_type phrase
                noidentities
              phrase_type ss_macro ;
        field doc_to_use
              datatype text (234) ;
        field ss_doc_sheet
              datatype text (2)
              default '1'
              allowed_characters '0..9' ;
        field insert_at_top
              datatype boolean ;
        field insert_at_bottom
              datatype boolean ;
        field insert_at_bookmark
              datatype boolean ;
        field bookmark_name
              datatype text (234)
              prompt_type phrase
                noidentities
              phrase_type bookmark ;


table report_tmpl_layout ;

        field link_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field block_type
              datatype text ( 20 ) ;
        field rec_key0
              datatype packed_decimal ;

table report_tmpl_data_block ;

        field data_block_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field in_border_single
              datatype boolean ;
        field in_border_double
              datatype boolean ;
        field in_border_none
              datatype boolean ;
        field out_border_single
              datatype boolean ;
        field out_border_double
              datatype boolean ;
        field out_border_none
              datatype boolean ;
        field col_widths_auto
              datatype boolean ;
        field col_widths_wrap
              datatype boolean ;
        field col_widths_man
              datatype boolean ;
        field units
              datatype boolean
              true_word 'In'
              false_word 'Cm' ;
        field col_widths_val
              datatype real ;
        field tab_separated
              datatype boolean ;
        field comma_separated
              datatype boolean ;
        field user_separator
              datatype boolean ;
        field separator_value
              datatype text ( 5 ) ;
        field outline
              datatype boolean ;
        field left_border
              datatype boolean ;
        field right_border
              datatype boolean ;
        field top_border
              datatype boolean ;
        field bottom_border
              datatype boolean ;
        field insert_col
              default 'A'
              datatype text (2)
              allowed_characters 'a..zA..Z' ;
        field insert_row
              datatype text (3)
              default '0'
              allowed_characters '0..9' ;
        field font_record
              links_to report_tmpl_font . font_number ;

table report_tmpl_text_block ;

        field data_block_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field insert_col
              default 'A'
              datatype text (2)
              allowed_characters 'a..zA..Z' ;
        field insert_row
              datatype text (3)
              default '0'
              allowed_characters '0..9' ;
        field box_height
              datatype real
              format 9999.99
              default 300.00 ;
        field box_width
              datatype real
              format 9999.99
              default 500.00 ;
        field font_record
              links_to report_tmpl_font . font_number ;
        field tab_record
              links_to report_tmpl_tabs . tab_number ;

table report_tmpl_graph_block ;

        field data_block_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field graph_style
              datatype text (40)
              prompt_type phrase
                noidentities
                valid
              phrase_type graphstyle ;
        field x_axis_field
              datatype text ( 40 ) ;
        field x_axis_text
              datatype text ( 40 ) ;
        field y_axis_field
              datatype text ( 40 ) ;
        field y_axis_text
              datatype text ( 40 ) ;
        field insert_col
              default 'A'
              datatype text (2)
              allowed_characters 'a..zA..Z' ;
        field insert_row
              datatype text (3)
              default '0'
              allowed_characters '0..9' ;
        field chart_height
              datatype real
              format 9999.99
              default 100 ;
        field chart_width
              datatype real
              format 9999.99
              default 200 ;
        field title
              datatype text (40) ;

table report_tmpl_font ;

        field font_number
              datatype packed_decimal
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field order_number
              datatype packed_decimal
              used_for ordering ;
        field font
              datatype text (40)
              default 'Times New Roman'
              prompt_type phrase
                noidentities
                valid
              phrase_type tmpl_fonts;
        field font_size
              datatype integer
              format 99
              default 10
              lower_limit 1 ;
        field bold
              datatype boolean ;
        field underlined
              datatype boolean ;
        field italics
              datatype boolean ;
        field left
              datatype boolean ;
        field right
              datatype boolean ;
        field centre
              datatype boolean ;
        field fill
              datatype boolean ;

table report_tmpl_tabs ;

        field tab_number
              datatype packed_decimal
              used_for ordering
              used_for unique_key;
        field template_id
              links_to report_tmpl_header . template_id ;
        field align_left
              datatype boolean ;
        field align_right
              datatype boolean ;
        field align_centre
              datatype boolean ;
        field align_dec
              datatype boolean ;
        field align_bar
              datatype boolean ;
        field leader_none
              datatype boolean ;
        field leader_full_stop
              datatype boolean ;
        field leader_hyphen
              datatype boolean ;
        field leader_underscore
              datatype boolean ;
        field tab_stops
              datatype text ( 40 )
              allowed_characters '0..9,.' ;
        field units
              datatype boolean
              true_word 'In'
              false_word 'Cm' ;

view inspect_history_view on_table sample,inspector ;

        field id_numeric
              links_to sample.id_numeric
              descending
              used_for unique_key, primary_browse;
        field id_text
              links_to sample.id_text
              used_for display_browse ( 1 ) ;
        field status
              links_to sample.status
              used_for display_browse ( 2 );
        field login_date
              links_to sample.login_date
              used_for display_browse ( 3 );

select_clause

        SELECT DISTINCT
                S . ID_NUMERIC,
                S . ID_TEXT,
                S . STATUS,
                S . LOGIN_DATE

        FROM
                SAMPLE S,
                INSPECTOR I

        WHERE
                I . RECORD_KEY0 = S . ID_NUMERIC AND
                I . TABLE_NAME  ='SAMPLE' ;

TABLE BATCH_SQC_HEADER;

   field identity
            alias               identifier
            datatype            identity (20)
            used_for            unique_key,primary_browse;

   field group_id
            alias               group
            links_to            group_header.identity
            used_for            security_id;

   field description
            datatype            text (255)
            used_for            display_browse (1);

   field modified_on
            datatype            date
            used_for            modified_on;

   field modified_by
            links_to            personnel.identity
            used_for            modified_by;

   field modifiable
            datatype            boolean
            used_for            modifiable;

   field removeflag
            datatype            boolean
            used_for            remove_flag;

   field analysis
            links_to            analysis . identity ;

   field component
            links_to            component . name ;

   field component_2
            links_to            component . name ;

   field standard
            datatype            identity
            prompt_type         phrase
            phrase_type         SQC_STAN ;

   field instrument
            links_to            instrument . identity ;

   field points
            datatype            integer
            default             '20'
            lower_limit         '0'     ;


TABLE BATCH_TMPL_SQC;

   field identity
            links_to            parent batch_tmpl_header . identity
            used_for            unique_key ;

   field chart
            links_to            parent batch_sqc_header . identity
            used_for            unique_key ;

   field order_number
            datatype            packed_decimal
            used_for            ordering;

VIEW BATCH_SQC_ACTIVE_VIEW
{ Batch SQC on Active Batch and Active Data }

ON_TABLE BATCH_HEADER,BATCH_ENTRY,SAMPLE,TEST,RESULT ;

   field batch_header
            links_to            batch_header . identity
            used_for		unique_key, primary_browse;

   field batch_template
            links_to            batch_header . template_id
            used_for		display_browse;

   field analysis
            links_to            test . analysis
            used_for		display_browse;

   field instrument
            links_to            test . instrument
            used_for		display_browse;

   field product
            links_to            sample . product
            used_for		display_browse;

   field product_version
            links_to            sample . product_version
            used_for		display_browse;

   field standard
            links_to            sample . standard_type ;

   field id_numeric
            links_to            sample . id_numeric
            used_for		unique_key ;

   field id_text
            links_to            sample . id_text ;

   field test_number
            links_to            test . test_number
            used_for		unique_key ;

   field name
            links_to            result . name
            used_for		unique_key ;

   field text
            links_to            result . text ;

   field units
            links_to            result . units ;

   field entered_on
            links_to            result . entered_on ;

   field surrogate_mlp
            links_to            result . surrogate_mlp ;

   field surrogate_mlp_version
            links_to            result . surrogate_mlp_version ;

SELECT_CLAUSE

SELECT
   h . [identity]            ,
   h . template_id           ,
   t . analysis              ,
   t . instrument            ,
   s . product               ,
   s . product_version       ,
   s . standard_type         ,
   s . id_numeric            ,
   s . id_text               ,
   r . test_number           ,
   r . name                  ,
   r . text                  ,
   r . units                 ,
   r . entered_on            ,
   r . surrogate_mlp         ,
   r . surrogate_mlp_version
FROM
  batch_header h ,
  batch_entry  e ,
  test         t ,
  sample       s ,
  result       r
WHERE
  ( h . status      <> 'X'            ) AND
  ( e . [identity]  = h . [identity]  ) AND
  ( t . test_number = e . test        ) AND
  ( s . id_numeric  = t . sample      ) AND
  ( r . test_number = e . test        ) AND
  ( r . status IN ( 'A' , 'E' , 'M' ) ) ;


VIEW BATCH_SQC_COMMITTED_VIEW
{ Batch SQC on Commeitted Batch and Active Data }

ON_TABLE C_BATCH_HEADER,C_BATCH_ENTRY,C_SAMPLE,C_TEST,C_RESULT ;

   field batch_header
            links_to            batch_header . identity
            used_for		unique_key;

   field batch_template
            links_to            batch_header . template_id
            used_for		display_browse;

   field analysis
            links_to            test . analysis
            used_for		display_browse;

   field instrument
            links_to            test . instrument
            used_for		display_browse;

   field product
            links_to            sample . product
            used_for		display_browse;

   field product_version
            links_to            sample . product_version
            used_for		display_browse;

   field standard
            links_to            sample . standard_type ;

   field id_numeric
            links_to            sample . id_numeric 
            used_for		unique_key ;

   field id_text
            links_to            sample . id_text ;

   field test_number
            links_to            test . test_number 
            used_for		unique_key ;

   field name
            links_to            result . name 
            used_for		unique_key ;

   field text
            links_to            result . text ;

   field units
            links_to            result . units ;

   field entered_on
            links_to            result . entered_on ;

   field surrogate_mlp
            links_to            result . surrogate_mlp ;

   field surrogate_mlp_version
            links_to            result . surrogate_mlp_version ;

SELECT_CLAUSE

SELECT
   h . [identity]            ,
   h . template_id           ,
   t . analysis              ,
   t . instrument            ,
   s . product               ,
   s . product_version       ,
   s . standard_type         ,
   s . id_numeric            ,
   s . id_text               ,
   r . test_number           ,
   r . name                  ,
   r . text                  ,
   r . units                 ,
   r . entered_on            ,
   r . surrogate_mlp         ,
   r . surrogate_mlp_version
FROM
  c_batch_header h ,
  c_batch_entry  e ,
  c_test         t ,
  c_sample       s ,
  c_result       r
WHERE
  ( h . status      <> 'X'            ) AND
  ( e . [identity]  = h . [identity]  ) AND
  ( t . test_number = e . test        ) AND
  ( s . id_numeric  = t . sample      ) AND
  ( r . test_number = e . test        ) AND
  ( r . status IN ( 'A' , 'E' , 'M' )) ;


TABLE TIMER_SCHEDULE;

        field identity
              datatype            identity
              used_for            unique_key,primary_browse;

        field group_id
              links_to            group_header.identity
              used_for            security_id;

        field description
              datatype            text (255)
              used_for            display_browse;

        field library
              links_to            report . identity ;

        field routine
              datatype            text (50)
              prompt_type         user_defined
              library             '$PROMPT_ROUTINE'
              routine             'prompt_routine';

        field modified_on
              datatype            date
              used_for            modified_on;

        field modified_by
              links_to            personnel.identity
              used_for            modified_by;

        field modifiable
              datatype            boolean
              used_for            modifiable;

        field removeflag
              datatype            boolean
              used_for            remove_flag;



table cgi_script ;

    field identity
                datatype identity (20)
                used_for unique_key, display_browse ( 1 );
    field description datatype text(234)
                used_for display_browse ( 2 );
    field report
                links_to report.identity ;
    field routine
                datatype text (50)
                PROMPT_TYPE user_defined
                LIBRARY '$PROMPT_ROUTINE'
                ROUTINE 'prompt_routine';
    field modified_on
                datatype date
                used_for modified_on ;
    field modified_by
                links_to personnel.identity
                used_for modified_by ;
    field modifiable
                datatype boolean
                used_for modifiable ;
    field removeflag
                datatype boolean
                used_for remove_flag ;
    field security_level
                datatype integer
                lower_limit 0
                upper_limit 10 ;
    field security_area
                datatype text (20)
                allowed_characters '0..9a..zA..Z-_' ;
    field name
                datatype text ( 100 )
                used_for primary_browse, name;
    field has_attachments
                datatype boolean
                used_for has_attachments ;

table client_access ;

        field ip_address
              datatype text ( 39 )
              used_for unique_key ;

        field access_mode
                datatype boolean
                true_word 'Enabled'
                false_word 'Disabled' ;

        field max_sessions
                datatype integer
                format 9999
                default 1
                lower_limit 1
                upper_limit 9999;

view esig_menu_level_view alias esig_menu_level on_table master_menu ;

        field menu_number
            links_to master_menu . procedure_num
            used_for unique_key ;
        field esig_level
            links_to master_menu . esig_level ;
        field esig_reason
            links_to master_menu . esig_reason ;

select_clause
      SELECT
		master_menu . procedure_num ,
		master_menu . esig_level    ,
		master_menu . esig_reason
      FROM
		master_menu ;


table access_log ;

field session_id
        datatype packed_decimal
        used_for unique_key ;
field operator
        links_to personnel . identity
        used_for display_browse ( 1 ) ;
field ip_address
        datatype text (39) ; {IPv6 addresses are eight groups of four hexadecimal digits, separated by a colon}
field server_pid
        datatype text ( 10 ) ;
field server_os_username
        datatype text ( 20 ) ;
field server_name
        datatype text ( 15 ) ;
field server_date
        datatype date ;
field server_date_text
        datatype text ( 23 ) ;
field server_timezone
        datatype text ( 80 ) ;
field server_timezone_dls
        datatype boolean ;
field client_os_username
        datatype text ( 20 ) ;
field client_name
        datatype text ( 15 ) ;
field client_date
        datatype text ( 23 ) ;
field client_timezone
        datatype text ( 80 ) ;
field client_timezone_dls
        datatype boolean ;
field login_type
	datatype identity
	prompt_type choose
	choose_type LOGIN_TYPE
	default '0' ;
field action
        datatype text ( 234) ;
field result
        datatype boolean
        true_word 'Success'
        false_word 'Failed' ;
field logout_date
        datatype date ;

table lims_table ;

        field table_name
                datatype identity (40)
                used_for unique_key, primary_browse;
        field group_field
                datatype identity (20);
        field table_set
                datatype text (234);
        field parent_table
                datatype text (20);

table messaging ;

        field message_number
              datatype packed_decimal
              used_for unique_key ;
        field priority
              datatype integer
              format 9
              default 2
              lower_limit 1
              upper_limit 3 ;
        field read
              datatype boolean ;
        field from_operator_id alias from
              links_to personnel . identity 
              used_for primary_browse ;
        field date_sent
              datatype date ;
        field category
              datatype identity
              prompt_type choose
              choose_type MSG_CATGRY 
              used_for display_browse ( 2 );
        field subject
              datatype text ( 100 )
              used_for display_browse ( 3 );
        field message_text
              datatype text ( 2000 )
              used_for display_browse ( 4 );
        field operator_id alias to
              links_to personnel . identity
              used_for display_browse ;
        field date_read
              datatype date ;
        field removeflag
              datatype boolean
              used_for remove_flag;

index messaging_operator_id on operator_id, read, removeflag ;


table rule ;

        field identity
                datatype identity ( 20 )
                used_for unique_key, display_browse (1);

        field modified_on
                datatype date
                used_for modified_on;

        field modified_by
                links_to personnel.identity
                used_for modified_by;

        field group_id
                used_for security_id
                links_to group_header.identity;

        field removeflag
                datatype boolean
                used_for remove_flag;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field description
                datatype text ( 234 )
                used_for display_browse (2);

        field probation_number
                datatype integer
                lower_limit 0 ;

        field probation_period
                datatype interval
                lower_limit '0 00:00:00.00';
                
        field frequency
                datatype integer
                lower_limit 0 ;

        field interval
                datatype interval
                lower_limit '0 00:00:00.00';

        field VGL_routine
                datatype text ( 50 )
                prompt_type user_defined
                library '$PROMPT_ROUTINE'
                routine 'prompt_routine';

        field VGL_library
                links_to report . identity ;

        field name
                datatype text ( 100 )
                used_for primary_browse, name ;

table rule_count ;

        field rule_id
                links_to parent rule . identity as rules
                used_for unique_key ;

        field counter_id
                datatype text ( 40 )
                used_for unique_key ;

        field usage_count
                datatype integer ;

        field fulltest_count
                datatype integer ;

        field fulltest_date
                datatype date ;

        field start_date
                datatype date ;

table sample_plan_header ;

        field identity
                datatype text(20)
                used_for unique_key, display_browse ( 1 );

        field version
                datatype packed_decimal
                default '         1'
                used_for unique_key, version_number ;

        field modified_on
                datatype date
                used_for modified_on ;

        field modified_by
                links_to personnel . identity
                used_for modified_by ;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field removeflag
                datatype boolean
                used_for remove_flag ;

        field group_id
                links_to group_header . identity
                used_for security_id ;

        field inspection_plan
              links_to inspection_header . identity ;

        field parent_identity
                links_to sample_plan_header . identity ;

        field approval_version
                links_to sample_plan_header . version ;

        field order_number
                datatype packed_decimal
                used_for ordering;

        field criteria_fields
                datatype text ( 200 )
                prompt_type user_defined
                library '$PROMPT_DB'
                routine 'job_browse' ;

        field criteria_operator
                datatype text ( 2 )
                default 'EQ'
                prompt_type choose
                choose_type SPH_OPERAT ;

        field criteria_value
                datatype text ( 234 ) ;

        field criteria_datatype
                datatype text ( 1 )
                prompt_type choose
                choose_type SPH_DATTYP
                default 'F';

        field conditional
                datatype identity
                prompt_type choose
                choose_type SPH_CONDIT
                default 'IF' ;

        field description
                datatype  text ( 234 )
                used_for display_browse ( 2 ) ;

        field status
                datatype text ( 1 )
                default 'V'
                prompt_type choose
                choose_type APPR_STAT
                used_for approval_status ;

        field activation_date
                datatype date ;

        field VGL_routine
                datatype text;

        field VGL_library
                links_to report . identity;

        field is_approval_node
                datatype boolean ;

        field column_set
                links_to column_set_header . identity ;

        field spec_set_identity
                links_to mlp_header . identity ;

        field spec_set_version
                datatype integer ;

        field name
                datatype text ( 100 )
                used_for primary_browse, name ;

        field has_attachments
                datatype boolean
                used_for has_attachments ;

index sph_parent_identity_i on parent_identity, order_number;

table sample_plan_entry ;

        field identity
                used_for unique_key
                links_to sample_plan_header . identity ;

        field version
                used_for unique_key
                links_to sample_plan_header . version ;

        field entry_number
                datatype packed_decimal
                used_for unique_key ;

        field order_number
                datatype packed_decimal
                used_for ordering ;

        field is_analysis
                datatype boolean
                true_word 'Analysis'
                false_word 'Test Schedule'
                default 'Analysis' ;

        field analysis_id
                links_to versioned_analysis . identity ;

        field test_schedule
                links_to test_sched_header . identity ;

        field analysis_version
                datatype packed_decimal
                default '         0';  {A value of zero indicates current version}

        field descriptive_text
                datatype text ( 234 ) ;

        field instrument
                links_to instrument . identity;
                
        field instrument_type
                links_to instrument_template . identity;

        field instrument_category
                links_to instrument_category . identity;

        field component_list
                links_to versioned_c_l_header . comp_list ;

        field replicates
                datatype integer
                default 1
                lower_limit 1;

        field template_id
                links_to samp_tmpl_header . identity ;

table sample_plan_rule ;

        field identity
                used_for unique_key
                links_to sample_plan_header . identity ;

        field version
                used_for unique_key
                links_to sample_plan_header . version ;

        field rule_id
                used_for unique_key
                links_to rule . identity ;

        field order_number
                datatype packed_decimal
                used_for ordering;

table sample_plan_matrix ;

        field identity
                used_for unique_key
                links_to sample_plan_header . identity ;

        field version
                used_for unique_key
                links_to sample_plan_header . version ;

        field rule_id
                used_for unique_key
                links_to sample_plan_rule . rule_id ;

        field analysis_entry_number
                used_for unique_key
                links_to sample_plan_entry . entry_number ;

        field valid
                datatype boolean
                true_word 'Yes'
                false_word 'No'
                default 'Yes' ;


table column_set_header ;

        field identity
                datatype identity ( 10 )
                used_for unique_key, display_browse ( 1 ) ;

        field group_id
                links_to group_header . identity
                used_for security_id ;

        field description
                datatype text ( 234 )
                used_for display_browse ( 2 ) ;

        field modified_on
                datatype date
                used_for modified_on ;

        field modified_by
                links_to personnel . identity
                used_for modified_by ;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field removeflag
                datatype boolean
                used_for remove_flag ;

        field name
                datatype text ( 100 )
                used_for primary_browse, name ;

table column_set_entry ;

        field identity
                links_to parent column_set_header . identity as column_set
                used_for unique_key ;

        field entry_number
                datatype packed_decimal
                used_for unique_key ;

        field order_number
                datatype packed_decimal
                used_for ordering ;

        field field_type
                datatype identity
                prompt_type phrase
                valid
                identities
                phrase_type COL_SET_F ;

        field field_name
                datatype identity ( 20 ) ;

table stat_code ;

    field lower_units
        datatype integer
        used_for unique_key ;

    field stat_type
        datatype identity(1)
        allowed_characters 'AV'
        used_for unique_key ;

    field sampling_level
        datatype identity(3)
        used_for unique_key ;

    field code_letter
        datatype identity(1)
        allowed_characters 'A..S';

table stat_atrib_single ;

    field samp_plan_code
        datatype identity ( 1 )
        used_for unique_key ;

    field insp_level
        datatype identity
        used_for unique_key ;

    field aql_value
        datatype real
        used_for unique_key ;

    field use_code
        datatype identity ( 1 )
        allowed_characters 'A..S'
        default NULL ;

    field sample
        datatype integer
        default NULL ;

    field accept_number
        datatype integer
        default NULL ;


table stat_atrib_double ;

    field samp_plan_code
        datatype identity ( 1 )
        used_for unique_key ;

    field insp_level
        datatype identity
        used_for unique_key ;

    field aql_value
        datatype real
        used_for unique_key ;

    field use_code
        datatype identity ( 1 )
        allowed_characters 'A..S'
        default NULL ;

    field sample
        datatype integer
        default NULL ;

    field accept_number
        datatype integer
        default NULL ;

    field reject_number
        datatype integer
        default NULL ;

    field repeat_accept_number
        datatype integer
        default NULL ;

    field repeat_reject_number
        datatype integer
        default NULL ;

table stat_varbl_single ;

    field samp_plan_code
        datatype identity ( 1 )
        used_for unique_key ;

    field insp_level
        datatype identity
        used_for unique_key ;

    field aql_value
        datatype real
        used_for unique_key ;

    field use_code
        datatype identity ( 1 )
        allowed_characters 'A..S'
        default NULL ;

    field sample
        datatype integer
        default NULL ;

    field accept_number
        datatype real
        default NULL ;

table sampling_procedure ;

        field identity
                datatype identity ( 10 )
                used_for unique_key, display_browse ( 1 ) ;

        field group_id
                links_to group_header . identity
                used_for security_id ;

        field description
                datatype text ( 234 )
                used_for display_browse ( 2 ) ;

        field prompt_once
                datatype boolean ;

        field replicate_number
                datatype integer
                default 1
                lower_limit 1 ;

        field procedure_routine
                datatype text;

        field replicate_routine
                datatype text;

        field VGL_library
                links_to report . identity;

        field modified_on
                datatype date
                used_for modified_on ;

        field modified_by
                links_to personnel . identity
                used_for modified_by ;

        field modifiable
                datatype boolean
                used_for modifiable ;

        field removeflag
                datatype boolean
                used_for remove_flag ;

        field name
                datatype text ( 100 )
                used_for primary_browse, name;
        field has_attachments
                datatype boolean
                used_for has_attachments ;

table incident_template;

field template_id datatype identity
        used_for unique_key, display_browse ( 1 );

field group_id
        links_to group_header . identity
        used_for security_id ;

field initial_status datatype text (1)
        prompt_type choose
        choose_type INIT_STAT
        default 'U' ;

field incident_syntax
        links_to syntax . identity
        default 'INCIDENT' ;

field description
        used_for display_browse ( 2 )
        datatype text ( 234 );

field subject_table datatype identity ( 40 ) ;

field modified_on datatype date
        used_for modified_on ;

field modified_by links_to personnel . identity
        used_for modified_by ;

field modifiable datatype boolean
        used_for modifiable ;

field remove_flag datatype boolean
        used_for remove_flag;

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

field has_attachments
      datatype boolean
      used_for has_attachments ;

table incidents;

field incident_id datatype text ( 30 )
        used_for unique_key, primary_browse;

field status datatype text (1)
        used_for display_browse ( 2 )
        prompt_type choose
        choose_type INC_STATUS ;

field checklist_id
        links_to incident_checklist . checklist_id;

field template_id
        links_to incident_template . template_id;

field review_inspectors
        links_to inspection_header . identity;

field authorise_inspectors
        links_to inspection_header . identity
        used_for inspection;

field review_version
        links_to inspector . version;

field authorise_version
        links_to inspector . version;

field description datatype text ( 234 );

field incident_date datatype date;

field reported_by
        links_to personnel . identity;

field subject_table
        links_to incident_template . subject_table;

field subject_field
        alias subject_key
        datatype text ( 234 );

field location_id
        links_to location . identity;

field remark datatype text ( 50 );

field has_attachments
        datatype boolean
        used_for has_attachments;

field workflow_node
        default '5CCEE254-14C2-43B3-A628-9CCF436F1D5B'
        links_to workflow_node . workflow_node_guid ;

field entity_template_id
        links_to entity_template . identity as entity_template ;

field entity_template_version
        links_to entity_template . entity_template_version as entity_template ;

table incident_checklist;

field checklist_id datatype identity
        used_for unique_key, display_browse ( 1 );

field description datatype text ( 234 )
        used_for display_browse ( 2 );

field group_id
        links_to group_header . identity
        used_for security_id ;

field modified_on datatype date
        used_for modified_on ;

field modified_by links_to personnel . identity
        used_for modified_by ;

field modifiable datatype boolean
        used_for modifiable ;

field remove_flag datatype boolean
        used_for remove_flag;

field name
        datatype text ( 100 )
        used_for primary_browse, name ;

field has_attachments
        datatype boolean
        used_for has_attachments ;

table inc_checklist_actions;

field checklist_id
        links_to parent incident_checklist . checklist_id as incident_checklist
        used_for unique_key, primary_browse;

field action_number datatype packed_decimal
        used_for unique_key, ordering;

field action_taken datatype text ( 234 );

field action_type datatype identity
        prompt_type choose
        choose_type act_res
        default 'TEXT';


table inc_checklist_results;

field incident_id
        links_to incidents . incident_id
        used_for unique_key, primary_browse;

field action_number
        links_to inc_checklist_actions . action_number
        used_for unique_key, ordering;

field checklist_id
        links_to incident_checklist . checklist_id;

field action_type datatype identity
        prompt_type choose
        choose_type act_res 
        default 'TEXT';

field action_taken
	datatype text ( 234 ) ;

field action_result
	datatype text ( 234 ) ;

field blob_file
	links_to blob_values . blob_id ;

field completion_date
	datatype date ;

field completed_by
        links_to personnel . identity ;

table icon;

field identity alias identifier
        datatype identity (30)
        used_for unique_key, display_browse ( 1 )
        prompt_type user_defined
        library '$PROMPT_ICON'
        routine 'prompt_icon';
field description
        datatype text
        used_for display_browse ( 2 );
field icon_source
        datatype identity
        default 'RESOURCE'
        prompt_type choose
        choose_type ICONSOURCE;
field icon_number
        datatype integer
        default -1
        lower_limit -1 ;
field icon_resource
        datatype text ( 234 ) ;
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable datatype boolean
        used_for modifiable;
field removeflag datatype boolean
        used_for remove_flag;
field group_id alias group
        links_to group_header.identity
        used_for security_id;
field name
        datatype text ( 100 )
        used_for primary_browse, name;
field has_attachments
        datatype boolean
        used_for has_attachments ;

table explorer_cabinet;

field identity
        datatype identity ( 30 )
        used_for unique_key, display_browse ( 1 );
field name
        datatype text ( 100 )
        used_for primary_browse, name, translation ;
field description
        datatype text
        used_for display_browse ( 2 );
field group_id
        links_to group_header . identity
        used_for security_id;
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable datatype boolean
        used_for modifiable;
field removeflag datatype boolean
        used_for remove_flag;
field icon_1
        links_to icon . identity
        default 'INT_CLOSED_FOLDER';
field icon_2
        links_to icon . identity
        default 'INT_OPEN_FOLDER';
field user_library
        links_to report . identity;
field creation_routine
        datatype text ( 30 );
field public_folder
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field expand
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field sort_by_name
	datatype boolean;
field explorer_form
	links_to form.name ;
field explorer_form_task
      	datatype text ( 100 );	
field order_number
	datatype packed_decimal
	used_for ordering 
	default '         0';

table explorer_folder;

field cabinet
        links_to parent explorer_cabinet . identity
        used_for unique_key, display_browse ( 1 );
field folder_number alias identity
        datatype packed_decimal
        used_for unique_key;
field name
        datatype text ( 100 )
        used_for primary_browse, name, translation;
field description
        datatype text
        used_for display_browse ( 3 );
field folder_icon_1
        links_to icon . identity
        default 'INT_CLOSED_FOLDER';
field folder_icon_2
        links_to icon . identity
        default 'INT_OPEN_FOLDER';
field data_icon
        links_to icon . identity;
field criteria
        datatype identity;
field table_name
	links_to explorer_hierarchy . table_name
        used_for display_browse ( 2 );
field column_mode
        datatype identity
        default 'BROWSE'
        prompt_type choose
        choose_type COLUMNS;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal
        used_for ordering;
field autosize
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field auto_labtable
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field user_library
        links_to report . identity;
field data_icon_routine
        datatype text ( 30 );
field custom_routine
        datatype text ( 30 );
field data_routine
        datatype text ( 30 );
field criteria_routine
        datatype text ( 30 );
field leave_routine
        datatype text ( 30 );
field tree_icon_routine
        datatype text ( 30 );
field group_exclusive
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field hierarchy alias explorer_hierarchy 
	links_to explorer_hierarchy . hierarchy ;
field criteria_saved_identity
      	links_to criteria_saved . identity;
field explorer_form
	links_to form.name ;
field explorer_form_task
      	datatype text ( 100 );
field show_versions
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field show_removed
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field default_report
	links_to report_template.identity;
field override_default_hierarchy
	datatype boolean;
field include_in_tree
	datatype boolean;
field tree_display_field
	datatype text ( 100 );
field child_form
	links_to form.name ;
field child_form_task
      	datatype text ( 100 );
field default_action
	links_to master_menu . procedure_num;
field removeflag datatype boolean
      used_for remove_flag ;
field override_default_columns
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';
field format_mode
      datatype identity
	 default 'MERGE'
      prompt_type choose
      choose_type APP_MODE;
field icon_mode
      datatype identity
	  default 'MERGE'
      prompt_type choose
      choose_type APP_MODE;
field popup_mode
      datatype identity
      prompt_type choose
	 default 'MERGE'
      choose_type APP_MODE;

table explorer_column;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field column_number alias identity
        datatype packed_decimal
        used_for unique_key, ordering;
field name
        datatype text ( 30 )
        used_for primary_browse, name, translation ;
field description
        datatype text;
field table_name
        datatype identity ( 30 );
field field_name
        datatype identity ( 100 );
field routine
        datatype text ( 30 );
field library
        links_to report . identity;
field width
        datatype integer;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal;

table explorer_column_user;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field column_number alias identity 
        datatype packed_decimal
        used_for unique_key;
field operator_id 
        links_to personnel . identity
        used_for unique_key;
field name
        datatype text ( 30 )
        used_for primary_browse, name ;
field description
        datatype text;
field table_name
        datatype identity ( 30 );
field field_name
        datatype identity ( 30 );
field width
        datatype integer
        lower_limit 1
        upper_limit 255
        default 10;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal
        used_for ordering;

table explorer_rmb;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field rmb_number
        datatype packed_decimal
        used_for unique_key;
field type
        datatype identity
        prompt_type choose
        choose_type RMB_TYPE
        default 'ITEM';
field name
        datatype text ( 100 )
        used_for primary_browse, name ;
field description
        datatype text;
field group_id
        links_to group_header . identity
        used_for security_id;
field order_number
        datatype packed_decimal
        used_for ordering;
field parent_number
        datatype packed_decimal;
field context_routine
        datatype text ( 30 );
field context_library
        links_to report . identity;
field context_field
        datatype text ( 30 );
field context_operator
        datatype text ( 10 )
        prompt_type phrase
        valid
        identities
	phrase_type RMB_OP;
field context_value
        datatype text;
field allow_multiple
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field on_tree
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field refresh
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field menuproc
        links_to master_menu . procedure_num;
field using
        datatype text;
field lock_required
	datatype boolean
	true_word 'True'
	false_word 'False'
	default 'False';
field on_navbar
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field on_grid
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field begin_group
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';

table explorer_group;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . identity as folder
        used_for unique_key;
field group_number
        datatype packed_decimal
        used_for unique_key;
field field_name
        datatype identity ( 30 );
field name
        datatype text ( 100 )
        used_for primary_browse, name, translation ;
field description
        datatype text;
field icon_1
        links_to icon . identity
        default 'INT_CLOSED_FOLDER';
field icon_2
        links_to icon . identity
        default 'INT_OPEN_FOLDER';
field parent_number
        links_to explorer_group . group_number;
field order_number
        datatype packed_decimal
        used_for ordering;
field show_phrase_desc
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field icon_routine
        datatype text ( 30 );
field group_form
	links_to form.name ;
field group_form_task
      	datatype text ( 100 );	
field child_form
	links_to form.name ;
field child_form_task
      	datatype text ( 100 );	
        

table explorer_aux;

field table_name
        datatype identity ( 30 )
        used_for unique_key, display_browse ( 1 );
field identity
        datatype identity
        used_for unique_key, display_browse ( 2 );
field description
        datatype text
        used_for display_browse ( 3 );
field group_id
        links_to group_header . identity
        used_for security_id;
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable
        datatype boolean
        used_for modifiable;
field removeflag
        datatype boolean
        used_for remove_flag;
field title
        datatype text ( 30 );
field from_status
        datatype text ( 20 );
field change_status
        datatype text ( 1 );
field confirm_required
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';
field user_library
        links_to report . identity;
field validation_routine
        datatype text ( 50 );
field action_routine
        datatype text ( 50 );
field post_commit_routine
        datatype text ( 50 );
field pre_change_status_routine
        datatype text ( 50 );
field name
        datatype text ( 100 )
        used_for primary_browse, name;

table explorer_aux_fields;

field table_name
        links_to parent explorer_aux . table_name as explorer_aux
        used_for unique_key, primary_browse;
field identity
        links_to parent explorer_aux . identity as explorer_aux
        used_for unique_key, display_browse ( 1 );
field type
        datatype identity
        used_for unique_key, display_browse ( 2 );
field order_number
        datatype packed_decimal
        used_for unique_key, ordering;
field field_name
        datatype text ( 30 )
        used_for display_browse ( 3 );
field width
        datatype integer
        format 99
        default 10
        lower_limit 1
        upper_limit 50;
field name
        datatype text ( 30 );
field default_value
        datatype text;
field visible
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'True';

table explorer_folder_icon;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . folder_number as folder
        used_for unique_key;
field item_number
	datatype integer        
	used_for unique_key;        
field order_number
	datatype integer        
	used_for ordering;        
field field_name        
 	datatype text (255);        
field operator        
	datatype text ( 10 )        
	default 'EQUALS'        
	prompt_type choose	     	 	      
	choose_type crit_op; 	
field value	
	datatype text (255);    
field icon
        links_to icon . identity;


table explorer_folder_link;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . folder_number as folder
        used_for unique_key;
field order_number
	datatype integer        
	used_for ordering,unique_key;
field collection_name        
 	datatype text (255);        

table explorer_expression;

field cabinet
        links_to parent explorer_folder . cabinet as folder
        used_for unique_key;
field folder_number
        links_to parent explorer_folder . folder_number as folder
        used_for unique_key;
field order_number
	datatype integer        
	used_for ordering,unique_key;
field expression
        datatype text
        used_for primary_browse ;
field fore_color
        datatype identity
        prompt_type phrase
        valid
        identities
        phrase_type COLOR
        default 'NONE';
field back_color
        datatype identity
        prompt_type phrase
        valid
        identities
        phrase_type COLOR
        default 'NONE';
field bold
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field italic
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field strikeout
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';
field underline
        datatype boolean
        true_word 'True'
        false_word 'False'
        default 'False';

{ Lot Management Tables }

table lot_template;

field identity alias identifier
        datatype identity
        used_for unique_key, display_browse ( 1 );
field group_id alias group
        links_to group_header.identity
        used_for security_id;
field description
        datatype text ( 234 )
        used_for display_browse ( 2 );
field modified_on
        datatype date
        used_for modified_on ;
field modified_by
        links_to personnel.identity
        used_for modified_by;
field modifiable
        datatype boolean
        used_for modifiable;
field removeflag
        datatype boolean
        used_for remove_flag;
field syntax
        links_to syntax . identity ;
field default_status
        datatype text (1)
        default 'V'
        prompt_type choose
        choose_type LOT_STAT ;
field job_template
        links_to job_template . identity;
field name
        datatype text ( 100 )
        used_for primary_browse, name ;
field has_attachments
        datatype boolean
        used_for has_attachments ;

table lot_details alias lot;

field lot_id
		alias lot_number, batch_number
		datatype identity ( 30 )
		used_for display_browse, unique_key;
field description
		datatype text ( 234 )
		used_for display_browse ( 2 ) ;
field quantity
		datatype real
		default 0
		lower_limit 0
		upper_limit 1000000
		format 9999999.999 ;
field units
		links_to unit_header . identity;
field template
		links_to lot_template . identity;
field product
		links_to mlp_header . identity as product_link ;
field product_version
		links_to mlp_header . product_version as product_link ;
field status
		datatype text (1)
		used_for display_browse ( 3 )
		prompt_type choose
		choose_type LOT_STAT ;
field certificate
	links_to certificate . id_numeric;
field   has_attachments
		datatype boolean
		used_for has_attachments ;
field name
		datatype text ( 100 )
		used_for primary_browse, name ;
field lot_type
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type LOT_TYPE ;
field track_inventory
		datatype boolean ;
field quantity_remaining
		datatype real
		format 9999999.999 ;
field quantity_reserved
		datatype real
		format 9999999.999 ;
field workflow_node
		default '6CCD643B-61A2-4ED8-9A82-5F5A7365C463'
		links_to workflow_node . workflow_node_guid ;
field entity_template_id
		links_to entity_template . identity as entity_template ;
field entity_template_version
		links_to entity_template . entity_template_version as entity_template ;
field login_date
		datatype date
		used_for display_browse ( 4 )
		default '0' ;
field login_by
		links_to personnel . identity ;
field date_authorised
		datatype date ;
field authoriser
		links_to personnel . identity ;
field approval_reqd 
		datatype boolean ;
field approval_status
		datatype text ( 1 )
		used_for approval_status, display_browse ( 5 )
		default 'A'
		prompt_type choose
		choose_type APPR_STAT ;
field inspection_plan
		links_to inspection_header . identity
		used_for inspection ;
field expiry_date
		datatype date
		default NULL ;
field cert_template_id
            links_to cert_template . cert_template_id as cert_template ;
field cert_template_version
            links_to cert_template . cert_template_version as cert_template
            default '         1' ;
field cert_id
            links_to cert . certificate_id as cert ;
field cert_version
            links_to cert . certificate_version as cert
            default '         1' ;

table lot_relation;

field from_lot
		links_to lot_details . lot_id
		used_for unique_key, primary_browse;
field to_lot
		links_to lot_details . lot_id
		used_for unique_key, display_browse;
field quantity_consumed
		datatype real
		default 0
		lower_limit 0
		upper_limit 1000000
		format 9999999.999 ;
field units
		links_to unit_header . identity ;		
field workflow_node
		default '6CCD643B-61A2-4ED8-9A82-5F5A7365C463'
		links_to workflow_node . workflow_node_guid ;

table working_schedule ;

	field identity
	      links_to working_schedule_header . identity
	      used_for unique_key ;

		field entry_number
			  datatype packed_decimal
			  used_for unique_key ;

		field start_date
			  datatype date ;

		field end_date
			  datatype date ;

		field description
			  datatype    identity
			  prompt_type phrase
			  noidentities
			  phrase_type NON_WORK ;

table working_schedule_header ;

        field identity
	      datatype identity
	      used_for unique_key , display_browse ( 1 ) ;

	field group_id alias group
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 2 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

        field inherits
              datatype text ( 234 ) ;

        field name
              datatype text ( 100 )
              used_for primary_browse, name ;

        field has_attachments
              datatype boolean
              used_for has_attachments ;
            
table explorer_role ;

field cabinet
      links_to parent explorer_folder . cabinet as folder
      used_for unique_key;
field folder_number
      links_to parent explorer_folder . identity as folder
      used_for unique_key;
field role_id
      links_to role_header . identity
      used_for unique_key ;

table explorer_cabinet_role ;

field cabinet
      links_to parent explorer_cabinet . identity as cabinet
      used_for unique_key;
field role_id
      links_to role_header . identity
      used_for unique_key ;

table master_menu ;

field procedure_num
      datatype integer
      lower_limit 1
      used_for unique_key, primary_browse
      prompt_type user_defined
      library '$MENU_MASTER_PROMPT'
      routine 'prompt_menu';
field description
      datatype text ( 234 )
      used_for display_browse ( 1 );
field short_text
      datatype text ( 30 );
field mnemonic
      datatype identity (10)
      used_for display_browse ( 4 );
field library
      links_to report . identity;
field routine
      datatype text ( 50 )
      prompt_type user_defined
      library '$PROMPT_ROUTINE'
      routine 'prompt_routine';
field table_name
      datatype identity ( 40 )
      used_for display_browse ( 5 );
field data_type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type MENU_DATA
      used_for display_browse ( 2 );
field action_type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type MENU_ACTN
      used_for display_browse ( 3 );
field type
      datatype identity
      prompt_type phrase
      default 'MENU'
      valid identities
      phrase_type MENU_TYPE;
field committed
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';
field aux_report
      links_to explorer_aux . identity;
field modified_on
      datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field modifiable
      datatype boolean
      used_for modifiable ;
field removeflag
      datatype boolean
      used_for remove_flag;
field icon
      links_to icon . identity ;
field esig_level
      datatype identity
      prompt_type phrase
      valid
      identities
      phrase_type ESIG_LEVEL ;
field esig_reason
      datatype text ( 80 ) ;
field parameters
      datatype text ( 234 );
field parameters_actions
      datatype identity
      prompt_type choose
      choose_type MNU_PARAM 
      default 'BEFORE';
field limsml_entity
      links_to limsml_entity_action . entity;
field limsml_action
      links_to limsml_entity_action . action;
field category 
      datatype text ( 234 );
field implementation_type 
      datatype identity
      prompt_type choose
      choose_type impl_type 
      default 'VGL' 
      used_for display_browse ( 6 );
field task_name 
      datatype text ( 234 );
field task_parameters 
      datatype text ( 234 );
field window_style 
      datatype text ( 20 );
field has_attachments
      datatype boolean
      used_for has_attachments ;
field menu_group_name 
      datatype text ( 234 ); 
field web_function_name 
      datatype text ( 234 );
field web_enabled
	  datatype boolean
	  true_word 'True'
	  false_word 'False'
	  default 'True';
field web_available
	  datatype boolean
	  true_word 'True'
	  false_word 'False'
	  default 'True';
field web_only
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

index master_menu_mnemonic on mnemonic ;
index master_menu_table    on table_name ;

table role_header ;

field identity
      datatype identity ( 20 )
      used_for unique_key, display_browse (1);
field group_id alias group
      links_to group_header.identity
      used_for security_id;
field description
      datatype text ( 234 )
      used_for display_browse(2);
field modified_on
      datatype date
      used_for modified_on;
field modified_by
      links_to personnel.identity
      used_for modified_by;
field modifiable
      datatype boolean
      used_for modifiable ;
field removeflag
      datatype boolean
      used_for remove_flag;
field name
      datatype text ( 100 )
      used_for primary_browse, name;
field has_attachments
      datatype boolean
      used_for has_attachments ;

table role_entry ;

field procedure_num
      links_to parent master_menu . procedure_num as master_menu
      used_for unique_key ;
field role_id
      links_to parent role_header . identity as role_header
      used_for unique_key ;

table role_assignment ;

field operator_id
      links_to parent personnel . identity
      used_for unique_key ;
field role_id
      links_to parent role_header . identity
      used_for unique_key ;
field group_id
      links_to group_header . identity
      used_for unique_key ;

view role_menu on_table role_assignment,
                        role_header,
                        role_entry,
                        master_menu ;

field operator_id
      links_to role_assignment . operator_id
      used_for unique_key;
field role_id
      links_to role_assignment . role_id
      used_for unique_key;
field group_id
      links_to role_assignment . group_id
      used_for unique_key;
field procedure_num
      links_to role_entry . procedure_num
      used_for unique_key;
field committed
      links_to master_menu . committed ;
field web_enabled
      links_to master_menu . web_enabled ;

select_clause

      SELECT
              ROLE_ASSIGNMENT . OPERATOR_ID ,
              ROLE_ASSIGNMENT . ROLE_ID ,
              ROLE_ASSIGNMENT . GROUP_ID ,
              ROLE_ENTRY      . PROCEDURE_NUM ,
              MASTER_MENU     . COMMITTED,
              MASTER_MENU     . WEB_ENABLED

      FROM
              ROLE_ASSIGNMENT,
              ROLE_HEADER,
              ROLE_ENTRY,
              MASTER_MENU

      WHERE
              ROLE_ASSIGNMENT . ROLE_ID       = ROLE_ENTRY .  ROLE_ID       AND
              ROLE_ENTRY .      PROCEDURE_NUM = MASTER_MENU . PROCEDURE_NUM AND
              ROLE_HEADER .     [IDENTITY]    = ROLE_ENTRY .  ROLE_ID       AND
              ROLE_HEADER .     REMOVEFLAG    = 'F' ;

view role_entry_details on_table role_entry, master_menu;

field role_id
      links_to role_entry . role_id
      used_for unique_key ;
field procedure_num
      links_to role_entry . procedure_num
      used_for unique_key, primary_browse ;
field description
      links_to master_menu . description
      used_for display_browse ( 1 );
field data_type
      links_to master_menu . data_type
      used_for display_browse ( 2 );
field action_type
      links_to master_menu . action_type
      used_for display_browse ( 3 );
field type
      links_to master_menu . type;
field icon
      links_to master_menu . icon;

select_clause

      SELECT

              ROLE_ENTRY  . ROLE_ID       ,
              ROLE_ENTRY  . PROCEDURE_NUM ,
              MASTER_MENU . DESCRIPTION   ,
              MASTER_MENU . DATA_TYPE     ,
              MASTER_MENU . ACTION_TYPE   ,
              MASTER_MENU . TYPE          ,
              MASTER_MENU . ICON

      FROM
              ROLE_ENTRY ,
              MASTER_MENU

      WHERE

              ROLE_ENTRY . PROCEDURE_NUM = MASTER_MENU . PROCEDURE_NUM;

{*************************}
{ Menu import/export view }
{*************************}

view menu_ie_view on_table master_menu ,
                           smw_menu    ;

	field procedure_num
	 	links_to master_menu . procedure_num
	 	used_for primary_browse;

	field description
	 	links_to master_menu . description
	 	used_for display_browse;

	field short_text
	 	links_to master_menu . short_text
	 	used_for display_browse;

	field mnemonic
	 	links_to master_menu . mnemonic ;

	field library
	 	links_to master_menu . library ;

	field routine
	 	links_to master_menu . routine ;

	field type
	 	links_to master_menu . type ;

	field menu_name
	 	links_to smw_menu . menu_name
	 	used_for unique_key ;

	field entry_number
	 	links_to smw_menu . entry_number
	 	used_for unique_key ;

	field menu_number
	 	links_to smw_menu . menu_number ;

	field order_number
	 	links_to smw_menu . order_number ;

	field option_number
	 	links_to smw_menu . option_number ;

	field option_name
	 	links_to smw_menu . option_name ;

select_clause

	SELECT

		master_menu . procedure_num ,
		master_menu . description   ,
		master_menu . short_text    ,
		master_menu . mnemonic      ,
		master_menu . library       ,
		master_menu . routine       ,
		master_menu . type          ,
		smw_menu    . menu_name     ,
		smw_menu    . entry_number  ,
		smw_menu    . menu_number   ,
		smw_menu    . order_number  ,
		smw_menu    . option_number ,
		smw_menu    . option_name

	FROM

		master_menu
		right outer join smw_menu on smw_menu . option_number = master_menu . procedure_num ;


table component_equivalence alias compequiv;

	field destination
		links_to destination . identity
		used_for unique_key;

	field analysis_id
		alias vg_analysis
		links_to component_view . analysis
		used_for unique_key;

	field component_name
		alias vg_component
		links_to component_view . name
		used_for unique_key;

	field foreign_component
		alias foreign_comp
		datatype text (40);

	field report
		links_to report . identity ;

	field routine
		datatype identity (50)
		PROMPT_TYPE user_defined
		LIBRARY '$PROMPT_ROUTINE'
		ROUTINE 'prompt_routine';

	field comp_type
		datatype text (1);

	field removeflag
		datatype boolean
		used_for remove_flag;

table destination;

	field identity
		alias destination
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field type
		alias dest_type
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type 'DEST_TYPE';

	field description
		datatype text (234)
		used_for display_browse ( 2 );

	field report
		links_to report . identity;

	field routine
		datatype identity (50)
		PROMPT_TYPE user_defined
		LIBRARY '$PROMPT_ROUTINE'
		ROUTINE 'prompt_routine';

	field group_id
		alias group
		links_to group_header . identity
		used_for security_id;

	field modified_on
		datatype date
		used_for modified_on ;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field sample_status
		datatype identity
		allowed_characters 'UWVHSCARXI';

	field test_status
		datatype identity
		allowed_characters 'UWVPSCARXI';

	field result_status
		datatype identity
		allowed_characters 'UEMARX';

        field name
                datatype text ( 100 )
                used_for primary_browse, name ;

table data_trail_entry;

	field entry_number
		datatype packed_decimal
		used_for unique_key, primary_browse;

	field table_name
		datatype text ( 30 )
		used_for display_browse ( 1 ) ;

	field record_key0
		datatype text ( 255 )
		used_for display_browse ( 2 ) ;

	field entry_date
		datatype date ;

	field rejected
		datatype boolean ;

	field last_retry_date
		datatype date
		default NULL ;

	field xml_record_1
		datatype text ( 1500 )
		default NULL;

	field xml_record_2
		datatype text ( 1500 )
		default NULL;

	field xml_record_3
		datatype text ( 1500 )
		default NULL;

	field xml_record_4
		datatype text ( 1500 )
		default NULL;

	field xml_record_5
		datatype text ( 1500 )
		default NULL;

	{ more xml_record fields may be added if an xml record }
	{ definition is greater than 5 * 2000 characters       }


table destination_failure;

	field entry_number
		links_to data_trail_entry . entry_number
		used_for unique_key, primary_browse;

	field destination
		links_to destination . identity
		used_for unique_key
		used_for display_browse ( 1 ) ;

	field errors
		datatype text ( 2000 )
		used_for display_browse ( 2 )
		default NULL;


table user_setting ;
	
	field operator
		links_to personnel . identity
		used_for unique_key ;

	field type
		datatype identity(20)
		used_for unique_key ;

	field identity
		datatype identity(40)
		used_for unique_key ;

	field property
		datatype identity(40)
		used_for unique_key , primary_browse ;

	field value
		datatype text(234)
		used_for display_browse ( 1 ) ;


table esig_event ;

	field esig_event_id
		datatype packed_decimal descending
		used_for unique_key ;

	field operator
		links_to personnel . identity ;

	field fullname
		links_to personnel . description
		used_for display_browse ( 1 ) ;

	field server_date
		datatype date ;

	field server_date_text
		datatype text ( 23 ) ;

	field server_timezone
		datatype text ( 80 ) ;

	field server_timezone_dls
		datatype boolean ;

	field server_date_offset
		datatype integer ;

	field ip_address
		datatype text ( 39 ) ;

	field client_name
		datatype text ( 80 ) ;

	field client_date
		datatype text ( 23 ) ;

	field client_timezone
		datatype text ( 80 ) ;

	field client_timezone_dls
		datatype boolean ;

	field menu_number
		links_to esig_menu_level . menu_number ;

	field esig_reason
		links_to esig_menu_level . esig_reason ;

	field signature_comment
		datatype text ( 234 ) ;

	field success
		datatype boolean ;

	field session_id
		links_to access_log . session_id ;

	field description
		datatype text ( 234 );

index esig_server_date on server_date ;

table esig_data ;

	field esig_data_id
		datatype packed_decimal
		used_for unique_key, primary_browse ;

	field esig_event_id
		links_to esig_event . esig_event_id ;

	field table_name
		links_to esig_checksum_fields . table_name
		used_for  display_browse ( 1 ) ;

	field record_key0
		datatype  text ( 255 )
		used_for  display_browse ( 2 ) ;

	field checksum_fields
		links_to esig_checksum_fields . checksum_fields ;

	field checksum
		datatype  text ( 80 ) ;

index esig_data_esig_event_id on esig_event_id, esig_data_id ;
index esig_data_table_key0    on table_name , record_key0 , esig_data_id ;

table esig_checksum_fields ;

	field table_name
		datatype  text ( 30 )
		used_for unique_key, primary_browse ;

	field checksum_fields
		datatype  text ( 2000 ) ;


view esig_data_view on_table esig_event,
                             esig_data ;

	field esig_event_id
	      used_for unique_key
	      links_to esig_event . esig_event_id ;

	field esig_data_id
	      used_for unique_key
	      links_to esig_data . esig_data_id ;

	field table_name
	      links_to esig_data . table_name ;

	field record_key0
	      links_to esig_data . record_key0 ;

	field operator
	      links_to esig_event . operator ;

	field fullname
	      links_to esig_event . fullname ;

	field server_date
	      links_to esig_event . server_date ;

	field esig_reason
	      links_to esig_event . esig_reason ;

	field signature_comment
	      links_to esig_event . signature_comment ;

{ Committed Esig tables }

table c_esig_event
        parent_table esig_event
        tableset default_table_set;

	index c_esig_server_date on server_date ;

table c_esig_data
        parent_table esig_data
        tableset default_table_set;

	index c_esig_data_esig_event_id on esig_event_id, esig_data_id ;
	index c_esig_data_table_key0    on table_name , record_key0 , esig_data_id ;

view c_esig_data_view
        parent_table esig_data_view
        tableset default_table_set;


{ Archived Esig tables }

table archive_esig_event
        parent_table esig_event
        tableset archive_table_set;

	index archive_esig_server_date on server_date ;

table archive_esig_data
        parent_table esig_data
        tableset archive_table_set;

	index archive_esig_data_esig_event    on esig_event_id, esig_data_id ;
	index archive_esig_data_table_key0    on table_name , record_key0 , esig_data_id ;

view archive_esig_data_view
        parent_table esig_data_view
        tableset archive_table_set;

view user_view
	on_table personnel, password ;

	field identity alias identifier 
		links_to personnel.identity
		used_for unique_key, primary_browse;
	field group_id 
		links_to personnel.group_id
		used_for security_id;
	field default_group
		links_to personnel.default_group;
	field description 
		links_to personnel.description
		used_for display_browse;
	field authority 
		links_to personnel.authority;
	field location_id alias location
		links_to personnel.location_id;
	field cost_code 
		links_to personnel.cost_code;
	field modified_on 
		links_to personnel.modified_on
		used_for modified_on;
	field modified_by 
		links_to personnel.modified_by
		used_for modified_by;
	field modifiable 
		links_to personnel.modifiable
		used_for modifiable ;
	field removeflag 
		links_to personnel.removeflag
		used_for remove_flag;

select_clause

        SELECT
		P.[IDENTITY] ,
		P.GROUP_ID ,
		P.DEFAULT_GROUP,
		P.DESCRIPTION ,
		P.AUTHORITY ,
		P.LOCATION_ID ,
		P.COST_CODE ,
		P.MODIFIED_ON ,
		P.MODIFIED_BY ,
		P.MODIFIABLE ,
		P.REMOVEFLAG 

        FROM
                PERSONNEL P, PASSWORD PSW

        WHERE
                P.[IDENTITY] = PSW.[IDENTITY] ;

table calc_function ;

field identity 
	datatype identity(20)
	used_for unique_key, display_browse ( 1 );
field library
	links_to        report.identity;
field routine
	datatype        text (50)
	prompt_type     user_defined
	library         '$prompt_routine'
	routine         'prompt_routine';
field function_type 
	datatype identity
	prompt_type phrase
	identities
	phrase_type FUNC_TYPE;
field return_data_type 
	datatype identity
	default 'NUMERIC'
	prompt_type choose 
	choose_type PARAM_TYPE;
field description 
	datatype text ( 234 )
	used_for display_browse ( 2 );
field group_id alias group
	links_to group_header.identity
	used_for security_id;
field modified_on 
	datatype date 
	used_for modified_on ;
field modified_by 
	links_to personnel.identity
	used_for modified_by;
field modifiable 
	datatype boolean
	used_for modifiable;
field removeflag 
	datatype boolean
	used_for remove_flag;
field name
	datatype text ( 100 )
	used_for primary_browse, name;
field has_attachments
	datatype boolean
	used_for has_attachments ;

table calc_function_parameter ;

field calc_function 
	alias identifier
	links_to parent calc_function . identity
	used_for unique_key, primary_browse;
field parameter
	datatype identity(10)
	used_for unique_key;
field parameter_order alias order_number
	used_for ordering
	datatype integer;
field description datatype text ( 234 )
	used_for display_browse;
field data_type
	datatype identity
	default 'NUMERIC'
	prompt_type choose 
	choose_type PARAM_TYPE;

	
table tab_gui ;

field identity 
	datatype identity(20)
	used_for unique_key, primary_browse;
	
field report_title 
	datatype text ( 234 )
	used_for display_browse ( 1 );

field group_id alias group
	links_to group_header.identity
	used_for security_id;

field modified_on 
	datatype date 
	used_for modified_on ;

field modified_by 
	links_to personnel.identity
	used_for modified_by;

field modifiable 
	datatype boolean
	used_for modifiable;

field removeflag 
	datatype boolean
	used_for remove_flag;

field report_display 
	datatype text ( 10 );
	
field output_file 
	datatype text ( 234 );
	
field report_type
	datatype text ( 10 );	

field preview_data        
	datatype boolean;

field column_sort        
	datatype boolean;
	
field include_audits 
	datatype boolean;
	
field grouping_field 
	datatype text ( 20 );
	
field tableset 
	datatype text ( 10 );
		
field samples_without_tests
	datatype boolean;
		
field off_spec_mark_results        
	datatype boolean;
	
field colour_off_spec_results        
	datatype boolean;

field off_spec_symbol      
	datatype text ( 1 );
		
field off_spec_colour      
	datatype integer;
		
field off_spec_colour_html 
	datatype text ( 10 );
		
field off_spec_strikethrough
	datatype boolean;
		
field off_spec_bold        
	datatype boolean;
		
field off_spec_italic      
	datatype boolean;
		
field off_spec_underlined  
	datatype boolean;
		       	
field include_oper_and_date
	datatype boolean;
		
field include_replicates
	datatype boolean;

field prefix_dates
	datatype boolean;
	

table tab_criteria;

field identity alias tab_id
	links_to tab_gui.identity
	used_for unique_key, primary_browse;

field table_name     
	datatype identity ( 30 ) 
	used_for unique_key
	used_for display_browse ( 1 );

field order_number   
	alias order_field datatype packed_decimal  
	used_for ordering 
	used_for unique_key ;

field field_name
	datatype identity ( 30 )
	used_for display_browse ( 2 );
	
	
field display_name
	datatype text ( 20 );
	 
field link_operator
	datatype text ( 10 ) ;

field oper
	datatype text ( 10 ) 
	used_for display_browse ( 3 );
	
field field_value  
	datatype text ( 255 ) 
	used_for display_browse ( 4 );

field replicate 
	datatype boolean;



table tab_result_criteria;

field identity alias tab_id
	links_to tab_gui.identity
	used_for unique_key , primary_browse;

field order_number   
	alias order_field datatype packed_decimal  
	used_for ordering   
	used_for unique_key ;

field analysis_id
      links_to versioned_analysis.identity
	used_for display_browse ( 1 );

field component_id
	links_to versioned_component.name
	used_for display_browse ( 2 );

field width
	datatype integer
	lower_limit 0
	upper_limit 200 ;


table tab_output_columns;

field identity alias tab_id
	links_to tab_gui.identity
	used_for unique_key , primary_browse;

field table_name     
	datatype identity ( 30 ) 
	used_for unique_key
	used_for display_browse ( 1 );

field field_name
	datatype identity ( 30 )
	used_for unique_key
	used_for display_browse ( 3 );
	
field order_number   
	alias order_field datatype packed_decimal  
	used_for ordering   ;
	
field used
	datatype boolean
	used_for display_browse ( 2 );
	
field column_title
	datatype text ( 20 ) ;
	
field width
	datatype integer
	lower_limit 0
	upper_limit 200 ;


{*******************************************************************************
* INFOMAKER_LINK Table
*******************************************************************************}

table infomaker_link;

field identity
      datatype identity (30)
      used_for unique_key, display_browse ( 1 );

field description
      datatype text
      used_for display_browse ( 2 );

field library
      datatype text ( 100 )
      prompt_type user_defined
      library '$LTE_INFOMAKER'
      routine find_pbl_name    
      used_for display_browse ( 3 );

field report
      datatype text ( 50 )
      prompt_type user_defined
      library '$LTE_INFOMAKER'
      routine 'browse_reports'
      used_for display_browse ( 4 );

field user_library
      links_to report . identity;

field valid_routine
      datatype text ( 50 )
      prompt_type user_defined
      library '$PROMPT_ROUTINE'
      routine 'prompt_routine';

field copies
      datatype integer
      default  1
      lower_limit 1 
      upper_limit 20;

field preview
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'Yes';

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

{*******************************************************************************
* Infomaker_parameters Table
*******************************************************************************}

table infomaker_parameters;

field infomaker_link
      links_to parent infomaker_link . identity
      used_for unique_key;

field identity
      datatype identity
      used_for unique_key
	used_for display_browse ( 1 );

field order_number
      datatype packed_decimal
      used_for ordering;

field description
      datatype text ( 30 )
      used_for display_browse ( 2 );

field default_value
      datatype text ( 30 );

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      used_for display_browse ( 3 )
      default 'FORMAT';

field prompt1
      datatype identity ( 30 )
      used_for display_browse ( 4 )
      default 'TEXT';

field prompt2
      datatype identity ( 30 )
      used_for display_browse ( 5 );

field mandatory
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';
        

table favourite;

	field user_id
		links_to personnel . identity
		used_for unique_key ;

	field table_name
		datatype identity( 30 )
		used_for unique_key , primary_browse ;

	field record_key0
		datatype  text ( 255 )
		used_for unique_key, display_browse ( 1 ) ;

	field date_created
		datatype date
		used_for display_browse ( 2 ) ;

{****************************************}
{* Business Logic Type definition table *}
{****************************************}

table bl_type;

field identity
      datatype identity( 40 )
      used_for unique_key, primary_browse;

field type_vgl_library
      links_to report . identity;

field new_type_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field primary_table
      datatype identity( 40 );

field item_vgl_library
      links_to report . identity;

field new_item_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

table bl_relationship;

field identity
      datatype identity( 40 )
      used_for unique_key, primary_browse;

field relationship_type
      datatype identity( 20 );

field source_type_id
      links_to bl_type . identity;

field destination_type_id
      links_to bl_type . identity;

index bl_rel_srce_type_index on source_type_id ;
index bl_rel_dest_type_index on destination_type_id ;

table bl_relationship_clause;

field relationship_id
      links_to bl_relationship . identity
      used_for unique_key ;

field source_property_id
      datatype identity( 40 )
      used_for unique_key;

field destination_property_id
      datatype identity( 40 )
      used_for unique_key;

{*************************************************}
{ LIMSML Tables                                   }
{*************************************************}

table limsml_entity_action;

field entity
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 1 );

field action
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 2 );

field description
      datatype  text ( 255 )
      used_for display_browse ( 3 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field return_type
      datatype identity
      prompt_type phrase
      identities
      valid
      phrase_type LIMSMLDATA
      default 'DATA';

field name
      datatype text ( 100 )
      used_for primary_browse, name;

table limsml_entity_param;
 
field entity
      links_to parent limsml_entity_action . entity as parent_action
      used_for unique_key, primary_browse;

field action
      links_to parent limsml_entity_action . action as parent_action
      used_for unique_key, display_browse ( 1 );
	
field parameter
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 2 );

field is_mandatory
      datatype boolean;

field description
      datatype text ( 234 );

{*************************************************}
{ User Interface Tables                           }
{*************************************************}

table interface;

field table_name
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 1 );

field interface
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 2 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field type
      datatype identity
      prompt_type phrase
      identities
      valid
      phrase_type INTERFACE
      default 'LTE'
      used_for display_browse ( 3 );

field display_table_name
      datatype text ( 50 )
      used_for display_browse ( 4 );

field header_message
      datatype text ( 100 )
      used_for display_browse ( 5 );

field file_directory
      datatype text ( 50 );

field file_extension
      datatype text ( 20 );

field input_message
      datatype text ( 100 );

field identity_message
      datatype text ( 50 );

field identity2_message
      datatype text ( 50 );

field identity3_message
      datatype text ( 50 );

field identity4_message
      datatype text ( 50 );

field modify_on_message
      datatype text ( 50 );

field modify_by_message
      datatype text ( 50 );

field read_message
      datatype text ( 50 );

field write_message
      datatype text ( 50 );

field approval_message
      datatype text ( 50 );

field default_value
      datatype identity ( 60 )
      allowed_characters '0..9A..Z-_ ';

field help_context
      datatype identity ( 50 );

field report_name
      links_to report . identity;

field list_pre_insert
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_post_insert
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_validation
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_select
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_delete
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_callback
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field list_toolbar
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

table interface_field;

field table_name
      links_to interface . table_name
      used_for unique_key, primary_browse;

field interface
      links_to interface . interface
      used_for unique_key, display_browse ( 2 );

field order_number
      datatype packed_decimal
      used_for unique_key, ordering;

field type
      datatype identity
      default 'FORMAT'
      used_for display_browse ( 3 );

field message
      datatype text ( 50 );

field field_name
      datatype identity ( 30 );

field report_name
      links_to report . identity;

field user_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field add_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field print
      datatype boolean 
      true_word 'Yes'
      false_word 'No'
      default 'Yes';

field list_width
      datatype integer
      default 20;

field mandatory
       datatype boolean
       default 'No'
       true_word 'Yes'
       false_word 'No' ;

field copy
       datatype boolean
       default 'Yes'
       true_word 'Yes'
       false_word 'No' ;

table interface_action;

field table_name
      links_to interface . table_name
      used_for unique_key, primary_browse;

field interface
      links_to interface . interface
      used_for unique_key, display_browse ( 2 );

field order_number
      datatype packed_decimal
      used_for unique_key, ordering;

field type
      datatype identity
      used_for display_browse ( 3 )
      default 'ROUTINE';

field message
      datatype text ( 50 );

field link_table_name
      links_to interface . table_name;

field link_interface
      links_to interface . interface;

field report_name
      links_to report . identity;

field user_routine
      datatype text ( 50 )
      PROMPT_TYPE user_defined
      LIBRARY '$PROMPT_ROUTINE'
      ROUTINE 'prompt_routine';

field required_privilege
      links_to master_menu . procedure_num;

{*************************************************}
{ Web Tables                                      }
{*************************************************}

table web_link;

field identity
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 1 );

field description
      datatype  text ( 255 )
      used_for display_browse ( 2 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field name
      datatype text ( 100 )
      used_for primary_browse, name;

field url
      datatype  text ( 255 )
      default 'http://'
      used_for display_browse ( 3 ) ;

field separate_window
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

view web_menu on_table web_menu_section;

field identity
      links_to web_menu_section . identity
      used_for unique_key ;

select_clause

      SELECT DISTINCT web_menu_section . [identity]
      FROM web_menu_section ;

table web_menu_section;

field identity
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 1 );

field section
      datatype identity ( 20 )
      used_for unique_key, display_browse ( 2 );

field description
      datatype  text ( 255 )
      used_for display_browse ( 3 );

field group_id alias group
      used_for security_id
      links_to group_header . identity;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field order_number
      datatype integer
	  default 1;

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

field icon
      links_to icon . identity
      default 'INT_CLOSED_FOLDER';

field visible
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';

field always_visible
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

field image_link
      datatype text ( 100 ) ;

field introduction
      datatype text ( 2000 )
      default null;

field summary
      datatype text ( 2000 )
      default null;

field show_menu_options
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'True';

table web_menu_item;

field identity
      links_to parent web_menu_section . identity as web_menu_section
      used_for unique_key, primary_browse;

field section
      links_to parent web_menu_section . section as web_menu_section
      used_for unique_key, display_browse ( 2 );

field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field name
      datatype  text ( 50 )
      used_for display_browse ( 3 ) ;

field option_number
      links_to master_menu . procedure_num
      used_for display_browse ( 4 ) ;

field icon
      links_to icon . identity;

field separate_window
      datatype boolean
      true_word 'True'
      false_word 'False'
      default 'False';

field target
      datatype text ( 50 );

{*************************************************}
{ Product Families                                }
{*************************************************}

Table MLP_FAMILY_HEADER;

field family_name 
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 1 );

field family_description 
      datatype text(234)
      used_for display_browse ( 2 );

field group_id 
      links_to group_header.identity
      used_for security_id;	

field modified_on
      datatype date
      used_for modified_on;

field modified_by
      links_to personnel.identity
      used_for modified_by;

field modifiable datatype boolean
      used_for modifiable;

field removeflag 
      datatype boolean
      used_for remove_flag;

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

TABLE MLP_FAMILY;

field family_name
      links_to parent MLP_FAMILY_HEADER.family_name
      used_for unique_key, primary_browse;

field mlp_id
      links_to mlp_latest_version_view.identity
      used_for unique_key, display_browse ( 1 );

field order_num
      datatype packed_decimal
      used_for ordering ;
      
{*************************************************}
{ CoA Tables                                      }
{*************************************************}
{ Obsolete Replaced by CERT_TEMPLATE in SM-12-2 }

table certificate_template ;

field identity 
      datatype identity ( 10 ) 
      used_for unique_key, display_browse ( 1 );

field type
      datatype identity ( 10 )
      prompt_type phrase
      default 'SAMPLE    '
      valid identities
      phrase_type CERT_TYPE
      used_for unique_key,
	       display_browse (2);
                                        
field certificate_version
      datatype packed_decimal
      default '         1'
      used_for unique_key ,
               version_number ,
               display_browse (3) ;
               
field description 
      datatype text ( 255 ) 
      used_for display_browse (4)  ;
      
field modified_on 
      datatype date     
      used_for modified_on;
      
field modified_by 
      links_to personnel.identity 
      used_for modified_by;
      
field modifiable
      datatype boolean
      used_for modifiable;
      
field removeflag  alias remove_flag 
      datatype boolean  
      used_for remove_flag;
      
field group_id alias group links_to group_header.identity 
      used_for security_id;

field syntax_id
      links_to syntax . identity;

field approval_reqd 
      datatype boolean;
      
field approval_status
      datatype text ( 1 )
      used_for display_browse ( 5 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;
      
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

field name
      datatype text ( 100 )
      used_for primary_browse, name ;

field has_attachments
      datatype boolean
      used_for has_attachments ;

{ Obsolete Replaced in SM-12-2 }

table cert_section ;
      
field template
      links_to parent certificate_template . identity
      used_for unique_key;

field template_type
      links_to parent certificate_template . type
      used_for unique_key;

field template_version
      links_to parent certificate_template . certificate_version
      used_for unique_key;
      
field identity 
      datatype identity ( 10 ) 
      used_for unique_key, primary_browse ;  
      
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field type
      datatype identity
      prompt_type phrase
      default 'DATA'
      valid identities
      phrase_type CERT_SECT;
      
field description 
      datatype text ( 80 ) 
      used_for display_browse (1) ;

{ Obsolete Replaced in SM-12-2 }
      
table cert_section_prompt ;


field template
      links_to certificate_template . identity
      used_for unique_key;

field template_type
      links_to certificate_template . type
      used_for unique_key;

field template_version
      links_to certificate_template . certificate_version
      used_for unique_key;

field identity 
      links_to cert_section . identity
      used_for unique_key, primary_browse ;
          
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field description 
      datatype text ( 80 ) 
      used_for display_browse (1) ;

field title_text
      datatype text ( 30 ) ;

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      default 'FORMAT'
      used_for display_browse (2) ;

field prompt1
      datatype identity ( 30 )
      default 'TEXT';

field prompt2
      datatype identity ( 30 );
      
field default_value
      datatype text ( 30 );
      
field prompt_for
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{ Obsolete Replaced in SM-12-2 }

table cert_section_data ;

field template
      links_to certificate_template . identity
      used_for unique_key;

field template_type
      links_to certificate_template . type
      used_for unique_key;
field template_version
      links_to certificate_template . certificate_version
      used_for unique_key;

field identity 
      links_to cert_section . identity
      used_for unique_key, primary_browse ;
        
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field link_table
      datatype identity ( 20 )
      used_for display_browse (1) ;

field link_key1
      datatype identity ( 40 );

field link_field
      datatype identity ( 20 );
      
field criteria
      datatype boolean;
field filter_library
      datatype identity ( 30 );

field filter_routine
      datatype identity ( 30 );

field prompt_for
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{ Obsolete Replaced in SM-12-2 }
      
table cert_section_result ;
      
field template
      links_to certificate_template . identity
      used_for unique_key;

field template_type
      links_to certificate_template . type
      used_for unique_key;

field template_version
      links_to certificate_template . certificate_version
      used_for unique_key;
      
field identity 
      links_to cert_section . identity
      used_for unique_key, 
      primary_browse ;
      
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field type
      datatype text (10);
       
field product
      links_to mlp_header . identity
      used_for display_browse (1) ;
	
field product_version alias version
      links_to mlp_header . product_version;
	
field analysis_id
      links_to versioned_analysis.identity
      used_for display_browse (2) ;
     
field analysis_version
      links_to versioned_analysis.analysis_version;

field component_name
      datatype text ( 40 )
      used_for display_browse (3) ;

field component_type 
      datatype text ( 1 );

field units
      links_to unit_header . identity;

field places 
      datatype integer;

field sig_figs_number 
      datatype integer;
      
field sig_figs_rounding 
      datatype integer;

field sig_figs_filter 
      datatype text(10);

field level_id
      links_to mlp_level . level_id;
      
field criteria
      datatype boolean;

field column_source
      datatype text ( 40 );
      
field column_name
      datatype text ( 40 );
field filter_library
      datatype identity ( 30 );

field filter_routine
      datatype identity ( 30 );

{ Obsolete Replaced in SM-12-2 }

table cert_destination ;

field template
      links_to parent certificate_template . identity
      used_for unique_key;

field template_type
      links_to parent certificate_template . type
      used_for unique_key;

field template_version
      links_to parent certificate_template . certificate_version
      used_for unique_key;

field identity 
      datatype identity ( 10 ) 
      used_for unique_key, primary_browse ;

field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field description 
      datatype text ( 80 ) 
      used_for display_browse (1) ;
      
field type
      datatype identity
      prompt_type phrase
      default 'LIMSREPORT'
      valid identities
      phrase_type CERT_DEST;
      
field report
      datatype text ( 50 );
      
{ Obsolete Replaced by CERT in SM-12-2 }

table certificate ;

field id_numeric
      alias    idnumeric
      datatype packed_decimal
      used_for unique_key, primary_browse;

field id_text
      datatype identity (30)
      used_for display_browse ( 1 );
      
field template
      links_to certificate_template . identity;
      
field template_version
      links_to certificate_template . certificate_version;

field type
      datatype identity
      prompt_type phrase
      valid identities
      phrase_type FIELD_TYPE
      default 'FORMAT'
      used_for display_browse (2) ;
      
field type_identity
      datatype text ( 30 ) ;
            
field description 
      datatype text ( 80 ) 
      used_for display_browse (4) ; 
      
field modified_on 
      datatype date     
      used_for modified_on;
      
field modified_by 
      links_to personnel.identity 
      used_for modified_by;

field preview_on 
      datatype date;
      
field preview_by 
      links_to personnel.identity;
      
field modifiable
      datatype boolean
      used_for modifiable;
      
field group_id alias group links_to group_header.identity 
      used_for security_id;

field approval_reqd 
      datatype boolean;
      
field status
      datatype text ( 1 )
      used_for display_browse ( 3 ) , approval_status
      default 'A'
      prompt_type choose
      choose_type APPR_STAT ;

field report_used
      links_to cert_destination . report;
      
field inspection_plan
      links_to inspection_header . identity
      used_for inspection ;

{ Obsolete Replaced in SM-12-2 }
      
table certificate_entry ;

field id_numeric
      links_to parent certificate . id_numeric 
      used_for unique_key;

field section_id
      links_to cert_section . identity
      used_for unique_key;
      
field order_number
      datatype packed_decimal
      used_for unique_key, ordering ;
      
field text1
      datatype text ( 256 ) ;

field text2
      datatype text ( 256 ) ;
      
field text3
      datatype text ( 256 ) ;
      
field text4
      datatype text ( 256 ) ;
      
field text5
      datatype text ( 256 ) ;
      
field text6
      datatype text ( 256 ) ;
      
field text7
      datatype text ( 256 ) ;
      
field text8
      datatype text ( 256 ) ;
      
field text9
      datatype text ( 256 ) ;
      
field text10
      datatype text ( 256 ) ;
      
field text11
      datatype text ( 256 ) ;      

field text12
      datatype text ( 256 ) ;
      
field text13
      datatype text ( 256 ) ;
      
field text14
      datatype text ( 256 ) ;      
      
field text15
      datatype text ( 256 ) ;
      
view job_lot_view on_table lot_details,
                            job_header,
			     lot_relation;

        field lot_id
              used_for unique_key
              links_to lot_details .lot_id;
	field lot_description
	      links_to lot_details .description;
	field lot_quantity
	      links_to lot_details . quantity;
	field lot_product
              links_to lot_details . product;
	field lot_product_version
              links_to lot_details . product_version;
	field lot_status
	      links_to lot_details . status;
	field from_lot
	      links_to lot_relation . from_lot;
	field to_lot
	      links_to lot_relation . to_lot;
	field job_name
              links_to job_header.job_name;
        field job_status
              links_to job_header.job_status;
        field job_description
              links_to job_header.browse_description;
        field job_date_created
              links_to job_header.date_created;
        field job_date_completed
              links_to job_header.date_completed;
        field job_date_received
              links_to job_header.date_received;
        field job_date_to_start
              links_to job_header.date_to_start;
        field job_submitter_oper
              links_to job_header.submitter_oper;
        field job_samples_to_do
              links_to job_header.samples_to_do;
        field job_group_id
              links_to job_header.group_id;
        field job_template_id
              links_to job_header.template_id;
        field job_sample_template
              links_to job_header.sample_template;
        field job_date_authorised
              links_to job_header.date_authorised;
        field job_authoriser
              links_to job_header.authoriser;
        field job_authorisation_notes
              links_to job_header.authorisation_notes; 

{*******************************************************************************
* Entity Definition
*******************************************************************************}

table entity_definition ;

field model
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;

field identity
      datatype identity ( 50 )
      used_for unique_key, display_browse ( 1 ) ;

field name
      datatype text
      used_for display_browse ( 2 ) ;

field description
      datatype  text
      used_for display_browse ( 3 ) ;

field entity_assembly
      datatype text ( 100 ) ;

field entity_type
      datatype text ( 100 ) ;

field entity_mapper_assembly
      datatype text ( 100 ) ;
            
field entity_mapper_type
      datatype text ( 100 ) ;
                  
field table_name
      datatype identity ( 30 );
      
field base_model
      links_to entity_definition . model ;
      
field base_definition
      links_to entity_definition . identity ;

field default_icon
      links_to icon . identity ;

field primary
      datatype boolean ;

{*******************************************************************************
* Entity definition field
*******************************************************************************}

table entity_definition_field ;

field model 
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;
      
field entity_definition
      links_to entity_definition . identity
      used_for unique_key, display_browse ( 1 ) ;

field column_name
      datatype text ( 32 )
      used_for unique_key, display_browse ( 2 ) ;
      
field field_value
      datatype text ( 50 ) 
      used_for display_browse ( 3 ) ;

{*******************************************************************************
* Entity definition property
*******************************************************************************}

table entity_definition_property ;

field model
      links_to entity_definition . model
      used_for unique_key, primary_browse; 

field entity_definition
      links_to entity_definition . identity
      used_for unique_key, display_browse ( 1 ) ;

field property_name
      datatype text ( 40 ) 
      used_for unique_key
      used_for display_browse ( 2 ) 
      case_sensitive ;

field field_name
      datatype identity ( 30 )
      used_for display_browse ( 3 ) ;
            
field table_relationship
      links_to table_relationship . identity
      used_for display_browse ( 4 ) ;
            
field destination_entity_definition
      links_to entity_definition . identity
      used_for display_browse ( 5 ) ;

field reverse_relationship
      datatype boolean ;

field default_value
      datatype text ;

field link_property_name
      links_to entity_definition_property . property_name
      used_for display_browse ( 6 ) ;
      
field protected_visibility
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

field alias
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

{*******************************************************************************
* Entity Generic Property
*******************************************************************************}

table entity_generic_property ;

field property_name
      datatype text ( 40 ) 
      used_for unique_key
      used_for display_browse ( 1 ) ;

field entity_model
      links_to entity_definition . model
      used_for display_browse ( 2 ) ;

field entity_definition
      links_to entity_definition . identity
      used_for display_browse ( 3 ) ;

{*******************************************************************************
* Table relationship
*******************************************************************************}

table table_relationship ;
      
field identity
      datatype identity ( 50 )
      used_for unique_key , primary_browse ;
      
field source_table
      datatype identity ( 30 )
      used_for display_browse ( 1 );

field type
      datatype text ( 10 )
      used_for display_browse ( 2 );
      
field destination_table
      datatype identity ( 30 )
      used_for display_browse ( 3 );

{*******************************************************************************
* Table relationship clause
*******************************************************************************}
            
table table_relationship_clause ;

field table_relationship
      links_to table_relationship . identity
      used_for unique_key , primary_browse ;

field source_field
      datatype identity ( 30 )
      used_for unique_key
      used_for display_browse ( 1 );
            
field destination_field
      datatype identity ( 30 )
      used_for display_browse ( 2 );

{*******************************************************************************
* Menu Toolbar
*******************************************************************************}

table menu_toolbar ;

field toolbar_name
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;
 
field item_number
      datatype packed_decimal
      used_for unique_key ;

field parent_number
      datatype packed_decimal;

field item_name
      datatype text
      used_for display_browse ( 1 ) ;

field type
      datatype text ( 20 )
      used_for display_browse ( 2 ) ;

field procedure_num 
      links_to master_menu . procedure_num ;

field internal_item_name 
      datatype text ( 40 ) ;

field paint_style
      datatype text ( 40 ) ;

field begin_group
      datatype boolean
      true_word 'Yes'
      false_word 'No'
      default 'No';

field shortcut
	  datatype text ( 20 );


{*******************************************************************************
* Explorer Hierarchy Tables
*******************************************************************************}

table explorer_hierarchy;

field table_name
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 1 );

field hierarchy
      datatype identity ( 40 ) 
      used_for unique_key, display_browse ( 2 );

field description
      datatype text ( 234 )
      used_for display_browse ( 3 );

field group_id
      links_to group_header . identity
      used_for security_id;

field modifiable datatype boolean
      used_for modifiable;

field modified_on datatype date
      used_for modified_on;

field modified_by links_to personnel.identity
      used_for modified_by;

field removeflag datatype boolean
      used_for remove_flag;

field name
      datatype text ( 100 )
      used_for primary_browse, name;

table explorer_hierarchy_level;

field table_name
      links_to parent explorer_hierarchy . table_name as hierarchy_link
      used_for unique_key, primary_browse;

field hierarchy
      links_to parent explorer_hierarchy . hierarchy as hierarchy_link
      used_for unique_key, display_browse ( 1 );

field link_table_name
      datatype identity ( 30 )
      used_for unique_key, display_browse ( 2 );

field order_number alias position
      datatype packed_decimal
      used_for ordering, unique_key;

field tree_display_fields       
      datatype text ( 200 );
	
field link_from_parent          
      datatype text ( 200 );

field link_to_parent            
      datatype text ( 200 );

field criteria
      links_to criteria_saved . identity ;
      
field explorer_form
      links_to form.name ;
      
field explorer_form_task
      datatype text ( 100 );	


{*******************************************************************************
* Menu MyTasks
*******************************************************************************}

table menu_mytasks ;

field mytasks_name
      datatype identity ( 20 )
      used_for unique_key, primary_browse ;
 
field item_number
      datatype packed_decimal
      used_for unique_key, ordering ;

field item_name
      datatype text (234)
      used_for display_browse ( 1 ) ;

field procedure_num 
      links_to master_menu . procedure_num ;

field icon
      links_to icon . identity ;

field parameters
      datatype text ( 234 );

{*******************************************************************************
* Report View r_batch_failures
*******************************************************************************}

view r_batch_failures ;

	field identity 
		links_to batch_header . identity;
		
	field test
		links_to batch_entry . test;
		
	field type 
		links_to batch_entry . type;
		
	field review_status
		links_to batch_entry . review_status;
		
	field component_name
		links_to mlp_components . component_name ;
		
	field units
		links_to mlp_components . units ;
		
	field level_id
		links_to mlp_level . level_id ;
		
	field min_limit
		links_to mlp_values . min_limit ;
		
	field max_limit
		links_to mlp_values . max_limit ;
		
	field text
		links_to result . text ;
		
	field status
		links_to result . status ;
		
	field id_text
		links_to sample . id_text ;
		
	field test_count
		links_to test . test_count ;

oracle_specific_select

	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	UNION
	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  RESULT.STATUS,
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	MINUS
	  SELECT  DISTINCT 
		  BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

sqlserver_specific_select

	  SELECT  DISTINCT 
		  BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	UNION
	  SELECT  DISTINCT 
		  BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  RESULT.STATUS,
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	EXCEPT
	  SELECT  DISTINCT 
		  BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.TYPE,
		  BATCH_ENTRY.REVIEW_STATUS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'Z',
		  SAMPLE.ID_TEXT,
		  TEST.TEST_COUNT
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.REVIEW_STATUS <> 'P' ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_COMPONENTS.PRODUCT_ID = BATCH_HEADER.TEMPLATE_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( MLP_COMPONENTS.ENTRY_CODE <> MLP_HEADER.ENTRY_CODE ) AND
		  ( MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE ) AND
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

{*******************************************************************************
* Report View r_batch_report
*******************************************************************************}

view r_batch_report ;

	field identity
		links_to batch_header . identity;
		
	field test
		links_to batch_entry . test;
		
	field order_number
		links_to batch_entry . order_number;
		
	field type
		links_to batch_entry . type;
		
	field name
		links_to mlp_components . component_name ;
		
	field units
		links_to mlp_components . units ;
		
	field level_id
		links_to mlp_level . level_id ;
		
	field min_limit
		links_to mlp_values . min_limit ;
		
	field max_limit
		links_to mlp_values . max_limit ;
		
	field text
		links_to result . text ;
		
	field boolean_pass
		links_to mlp_values . boolean_pass ;
		
	field result_type
		links_to result . result_type ;
		
	field true_word
		links_to result . true_word ;
		
	field id_text
		links_to sample . id_text ;
		
	field status
		links_to result . status ;
		
	field component_order_number
		links_to component_view . order_number ;
		
oracle_specific_select

	   SELECT BATCH_HEADER.IDENTITY,
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
	     COMPONENT_VIEW,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	 UNION
	  SELECT BATCH_HEADER.IDENTITY,
			 BATCH_ENTRY.TEST,
		 BATCH_ENTRY.ORDER_NUMBER,
		 BATCH_ENTRY.TYPE,
		 COMPONENT_VIEW.NAME,
		 COMPONENT_VIEW.UNITS,
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 RESULT.TEXT,
		  'X',
		 RESULT.RESULT_TYPE,
		 RESULT.TRUE_WORD,
		 SAMPLE.ID_TEXT,
		 RESULT.STATUS,
		 COMPONENT_VIEW.ORDER_NUMBER
	    FROM BATCH_ENTRY,
		 BATCH_HEADER,
		 TEST,
		 COMPONENT_VIEW,
		 SAMPLE,
		 RESULT
	   WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		 ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
		 ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		 ( RESULT.NAME = COMPONENT_VIEW.NAME )
	UNION
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	UNION
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  MLP_VALUES.BOOLEAN_PASS,
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	MINUS
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		    COMPONENT_VIEW,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
	     ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
	     ( RESULT.NAME = COMPONENT_VIEW.NAME )

	MINUS

	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
	     COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	MINUS
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  RESULT.TEXT,
		  'X',
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	MINUS
	   SELECT BATCH_HEADER.IDENTITY,
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.IDENTITY = BATCH_HEADER.IDENTITY ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.IDENTITY = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;

sqlserver_specific_select

	   SELECT BATCH_HEADER.[IDENTITY],
		  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
	     COMPONENT_VIEW,
		  TEST,
		  SAMPLE
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE )
	 UNION
	  SELECT BATCH_HEADER.[IDENTITY],
			 BATCH_ENTRY.TEST,
		 BATCH_ENTRY.ORDER_NUMBER,
		 BATCH_ENTRY.TYPE,
		 COMPONENT_VIEW.NAME,
		 COMPONENT_VIEW.UNITS,
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 'XXXXXXXXXX',
		 RESULT.TEXT,
		  'X',
		 RESULT.RESULT_TYPE,
		 RESULT.TRUE_WORD,
		 SAMPLE.ID_TEXT,
		 RESULT.STATUS,
		 COMPONENT_VIEW.ORDER_NUMBER
	    FROM BATCH_ENTRY,
		 BATCH_HEADER,
		 TEST,
		 COMPONENT_VIEW,
		 SAMPLE,
		 RESULT
	   WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		 ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
		 ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		 ( RESULT.NAME = COMPONENT_VIEW.NAME )
	UNION
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	UNION
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  RESULT.TEXT,
		  MLP_VALUES.BOOLEAN_PASS,
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )
	EXCEPT
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  COMPONENT_VIEW.NAME,
		  COMPONENT_VIEW.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		    COMPONENT_VIEW,
		  TEST,
		  SAMPLE,
		  RESULT
	    WHERE ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) and
		  ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( BATCH_ENTRY.TEST = TEST.TEST_NUMBER ) and
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
	     ( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
	     ( RESULT.NAME = COMPONENT_VIEW.NAME )

	EXCEPT

	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'X',
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
	     COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	EXCEPT
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  'XXXXXXXXXX',
		  RESULT.TEXT,
		  'X',
		  RESULT.RESULT_TYPE,
		  RESULT.TRUE_WORD,
		  SAMPLE.ID_TEXT,
		  RESULT.STATUS,
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
	     ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME )

	EXCEPT
	   SELECT BATCH_HEADER.[IDENTITY],
			  BATCH_ENTRY.TEST,
		  BATCH_ENTRY.ORDER_NUMBER,
		  BATCH_ENTRY.TYPE,
		  MLP_COMPONENTS.COMPONENT_NAME,
		  MLP_COMPONENTS.UNITS,
		  MLP_LEVEL.LEVEL_ID,
		  MLP_VALUES.MIN_LIMIT,
		  MLP_VALUES.MAX_LIMIT,
		  'XXXXXXXXXX',
		  MLP_VALUES.BOOLEAN_PASS,
		  'X',
		  'XXXXXXXXXX',
		  SAMPLE.ID_TEXT,
		  'X',
		  COMPONENT_VIEW.ORDER_NUMBER
	     FROM BATCH_ENTRY,
		  BATCH_HEADER,
		  MLP_COMPONENTS,
		  MLP_HEADER,
		  MLP_LEVEL,
		  MLP_VALUES,
		  TEST,
		  SAMPLE,
		  RESULT,
		  COMPONENT_VIEW
	    WHERE ( BATCH_ENTRY.[IDENTITY] = BATCH_HEADER.[IDENTITY] ) and
		  ( TEST.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
		  ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		  ( MLP_HEADER.[IDENTITY] = SAMPLE.PRODUCT ) and
		  ( MLP_COMPONENTS.ENTRY_CODE = MLP_VALUES.ENTRY_CODE ) and
		  ( MLP_LEVEL.LEVEL_ID = MLP_VALUES.LEVEL_ID ) and
		  ( MLP_COMPONENTS.ANALYSIS_ID = BATCH_HEADER.ANALYSIS ) AND
		  ( RESULT.TEST_NUMBER = BATCH_ENTRY.TEST ) AND
	     ( RESULT.NAME = MLP_COMPONENTS.COMPONENT_NAME ) AND
	     ( COMPONENT_VIEW.ANALYSIS = TEST.ANALYSIS ) AND
	     ( COMPONENT_VIEW.NAME = MLP_COMPONENTS.COMPONENT_NAME ) ;
     
{*******************************************************************************
* Report View r_batch_tmpl_components_list
*******************************************************************************}

view r_batch_tmpl_components_list ;

	field identity
		links_to mlp_header . identity;
	field level_id
		links_to mlp_values . level_id;
	field min_limit
		links_to mlp_values . min_limit;
	field max_limit
		links_to mlp_values . max_limit;
	field boolean_pass
		links_to mlp_values . boolean_pass ;
	field component_name
		links_to mlp_components . component_name ;
	field component_type 
		links_to mlp_components . component_type ;
	field places
		links_to mlp_components . places ;
	field units
		links_to mlp_components . units ;
	field order_number
		links_to versioned_c_l_entry . order_number ;
	field replicate_count
		links_to versioned_c_l_entry . replicate_count ;
	field result_entry
		links_to versioned_c_l_entry . result_entry ;
	field create_always 
		links_to versioned_c_l_entry . create_always ;
	field analysis_version
		links_to versioned_c_l_entry . analysis_version ;
	field spike_value
		links_to versioned_c_l_entry . spike_value ;
	field analysis
		links_to BATCH_TMPL_HEADER.ANALYSIS ;

oracle_specific_select

	SELECT 		MLP_HEADER.IDENTITY,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		COMPONENT_VIEW.NAME,
		COMPONENT_VIEW.RESULT_TYPE,
		COMPONENT_VIEW.PLACES,
		COMPONENT_VIEW.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		COMPONENT_VIEW , 
		MLP_VALUES , 
		MLP_HEADER,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	COMPONENT_VIEW.ANALYSIS = BATCH_TMPL_HEADER.ANALYSIS AND
	      	MLP_VALUES.ENTRY_CODE = MLP_HEADER.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = COMPONENT_VIEW.ANALYSIS and
		VERSIONED_C_L_ENTRY.NAME = COMPONENT_VIEW.NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_HEADER.IDENTITY AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_HEADER.IDENTITY
	UNION
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		MLP_VALUES.MIN_LIMIT ,
		MLP_VALUES.MAX_LIMIT ,
		MLP_VALUES.BOOLEAN_PASS ,
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_COMPONENTS.PRODUCT_ID
	MINUS
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
	      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.IDENTITY = MLP_COMPONENTS.PRODUCT_ID ;


sqlserver_specific_select

	SELECT 		MLP_HEADER.[IDENTITY],
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		COMPONENT_VIEW.NAME,
		COMPONENT_VIEW.RESULT_TYPE,
		COMPONENT_VIEW.PLACES,
		COMPONENT_VIEW.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		COMPONENT_VIEW , 
		MLP_VALUES , 
		MLP_HEADER,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	COMPONENT_VIEW.ANALYSIS = BATCH_TMPL_HEADER.ANALYSIS AND
	      	MLP_VALUES.ENTRY_CODE = MLP_HEADER.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = COMPONENT_VIEW.ANALYSIS and
		VERSIONED_C_L_ENTRY.NAME = COMPONENT_VIEW.NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_HEADER.[IDENTITY] AND
		BATCH_TMPL_HEADER.[IDENTITY] = MLP_HEADER.[IDENTITY]
	UNION
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		MLP_VALUES.MIN_LIMIT ,
		MLP_VALUES.MAX_LIMIT ,
		MLP_VALUES.BOOLEAN_PASS ,
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.[IDENTITY] = MLP_COMPONENTS.PRODUCT_ID
	EXCEPT
	SELECT		MLP_COMPONENTS.PRODUCT_ID,
		MLP_VALUES.LEVEL_ID ,
		'XXXXX',
		'XXXXX',
		'X',
		MLP_COMPONENTS.COMPONENT_NAME,
		MLP_COMPONENTS.COMPONENT_TYPE,
		MLP_COMPONENTS.PLACES,
		MLP_COMPONENTS.UNITS,
		VERSIONED_C_L_ENTRY.order_number ,
		VERSIONED_C_L_ENTRY.replicate_count ,
		VERSIONED_C_L_ENTRY.result_entry ,
		VERSIONED_C_L_ENTRY.create_always ,
		VERSIONED_C_L_ENTRY.analysis_version,
		VERSIONED_C_L_ENTRY.spike_value,
		BATCH_TMPL_HEADER.ANALYSIS 
	FROM 		MLP_COMPONENTS , 
		MLP_VALUES,
		VERSIONED_C_L_ENTRY,
		BATCH_TMPL_HEADER
	WHERE 	MLP_COMPONENTS.ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS AND
		MLP_COMPONENTS.PRODUCT_VERSION = ( SELECT MAX ( PRODUCT_VERSION )
		                                     FROM MLP_COMPONENTS
		                                    WHERE ANALYSIS_ID = BATCH_TMPL_HEADER.ANALYSIS  ) AND
	      	MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
		VERSIONED_C_L_ENTRY.ANALYSIS = MLP_COMPONENTS.ANALYSIS_ID and
		VERSIONED_C_L_ENTRY.NAME = MLP_COMPONENTS.COMPONENT_NAME AND
		VERSIONED_C_L_ENTRY.COMP_LIST = MLP_COMPONENTS.PRODUCT_ID AND
		BATCH_TMPL_HEADER.[IDENTITY] = MLP_COMPONENTS.PRODUCT_ID ;


{*******************************************************************************
* Report View r_sample_worksheet
*******************************************************************************}

view r_sample_worksheet ;

	field worksheet
		links_to worksheet . identity;
	field sample
		links_to test . sample ;
	field test_number
		links_to test . test_number ;
	field analysis
		links_to test . analysis ;
	field test_count
		links_to test . test_count ;
	field name
		links_to result . name ;
	field units
		links_to result . units ;
	field result_type
		links_to result . result_type ;
	field true_word
		links_to result . true_word ;
	field false_word
		links_to result . false_word ;
	field order_number
		links_to result . order_number ;
	field id_text 
		links_to sample . id_text ;
	field date_generated
		links_to worksheet . date_generated ;
	field assigned_operator
		links_to worksheet . assigned_operator ;
	field text
		links_to result . text ;
		
select_clause

	SELECT 
		WORKSHEET.[IDENTITY],
		TEST.SAMPLE,
		TEST.TEST_NUMBER,
		TEST.ANALYSIS,
		TEST.TEST_COUNT,
		RESULT.NAME,
		RESULT.UNITS,
		RESULT.RESULT_TYPE,
		RESULT.TRUE_WORD,
		RESULT.FALSE_WORD,
		RESULT.ORDER_NUMBER,
		SAMPLE.ID_TEXT,
		WORKSHEET.DATE_GENERATED,
		WORKSHEET.ASSIGNED_OPERATOR,
		RESULT.TEXT
	FROM WORKSHEET , TEST, SAMPLE, RESULT
	WHERE 	TEST.WORKSHEET = WORKSHEET.LINK_NUMBER AND
		TEST.SAMPLE = SAMPLE.ID_NUMERIC AND
		TEST.TEST_NUMBER = RESULT.TEST_NUMBER 

UNION

	SELECT DISTINCT
		W2.[IDENTITY],
		T2.SAMPLE,
		T2.TEST_NUMBER,
		T2.ANALYSIS,
		T2.TEST_COUNT,
		VC2.NAME,
		VC2.UNITS,
		VC2.RESULT_TYPE,
		VC2.TRUE_WORD,
		VC2.FALSE_WORD,
		VC2.ORDER_NUMBER,
		S2.ID_TEXT,
		W2.DATE_GENERATED,
		W2.ASSIGNED_OPERATOR,
		' '
	FROM WORKSHEET W2
	JOIN TEST T2 ON T2.WORKSHEET = W2.LINK_NUMBER
	JOIN SAMPLE S2 ON T2.SAMPLE = S2.ID_NUMERIC 
	JOIN VERSIONED_COMPONENT VC2 ON VC2.ANALYSIS = T2.ANALYSIS AND
				     VC2.ANALYSIS_VERSION = T2.ANALYSIS_VERSION
  	 WHERE 	VC2.NAME NOT IN ( SELECT NAME FROM RESULT R2 WHERE R2.TEST_NUMBER = T2.TEST_NUMBER ) AND
		T2.HAS_RESULT_LIST = 'F' ;


{*******************************************************************************
* Report View r_work_profile_components_list
*******************************************************************************}
		
view r_work_profile_components_list ;

	field identity
		links_to test_sched_entry . identity;
		
	field analysis
		links_to versioned_c_l_header . analysis ;
		
	field analysis_version
		links_to versioned_c_l_header . analysis_version ;
		
	field component_name
		links_to versioned_c_l_entry . name ;
		
	field order_number
		links_to versioned_c_l_entry . order_number ;
		
	field units
		links_to versioned_component . units ;
		
	field places
		links_to versioned_component . places ;
		
	field result_type
		links_to versioned_component . result_type ;
		
	field level_id
		links_to mlp_values . level_id ;
		
	field min_limit
		links_to mlp_values . min_limit ;
		
	field max_limit
		links_to mlp_values . max_limit ;
		
	field boolean_pass
		links_to mlp_values . boolean_pass ;
		
	field instrument
		links_to test_sched_entry . instrument_id ;

oracle_specific_select

	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_HEADER , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	UNION
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT ,TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME 
	UNION
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       MLP_VALUES.LEVEL_ID ,
	       MLP_VALUES.MIN_LIMIT ,
	       MLP_VALUES.MAX_LIMIT,
	       MLP_VALUES.BOOLEAN_PASS,
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES ,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	MINUS
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	MINUS
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	MINUS
	SELECT TEST_SCHED_ENTRY.IDENTITY,
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME ;

sqlserver_specific_select

	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_HEADER , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	UNION
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT ,TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME 
	UNION
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       MLP_VALUES.LEVEL_ID ,
	       MLP_VALUES.MIN_LIMIT ,
	       MLP_VALUES.MAX_LIMIT,
	       MLP_VALUES.BOOLEAN_PASS,
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES ,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	EXCEPT
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME
	EXCEPT
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       999,
	       'X',
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER,VERSIONED_COMPONENT , TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST
	EXCEPT
	SELECT TEST_SCHED_ENTRY.[IDENTITY],
	       VERSIONED_C_L_HEADER.ANALYSIS,
	       VERSIONED_C_L_HEADER.ANALYSIS_VERSION,
	       VERSIONED_C_L_ENTRY.NAME,
	       VERSIONED_C_L_ENTRY.ORDER_NUMBER,
	       VERSIONED_COMPONENT.UNITS,
	       VERSIONED_COMPONENT.PLACES,
	       VERSIONED_COMPONENT.RESULT_TYPE,
	       'XXXXX',
	       'XXXXX',
	       'XXXXX',
	       'X',
	       TEST_SCHED_ENTRY.INSTRUMENT_ID
	FROM  VERSIONED_C_L_ENTRY,VERSIONED_C_L_HEADER, MLP_COMPONENTS , MLP_VALUES,VERSIONED_COMPONENT,
	      TEST_SCHED_ENTRY
	WHERE VERSIONED_C_L_ENTRY.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_C_L_ENTRY.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_C_L_HEADER.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      VERSIONED_C_L_ENTRY.COMP_LIST = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.ANALYSIS_ID = VERSIONED_C_L_HEADER.ANALYSIS AND
	      MLP_COMPONENTS.PRODUCT_ID = TEST_SCHED_ENTRY.COMPONENT_LIST AND
	      MLP_COMPONENTS.COMPONENT_NAME = VERSIONED_C_L_ENTRY.NAME AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      MLP_VALUES.ENTRY_CODE = MLP_COMPONENTS.ENTRY_CODE AND
	      VERSIONED_COMPONENT.ANALYSIS = VERSIONED_C_L_HEADER.ANALYSIS AND
	      VERSIONED_COMPONENT.ANALYSIS_VERSION = VERSIONED_C_L_HEADER.ANALYSIS_VERSION AND
	      VERSIONED_COMPONENT.NAME = VERSIONED_C_L_ENTRY.NAME ;
      
{*******************************************************************************
* Report View r_worksheet
*******************************************************************************}

view r_worksheet ;

	field worksheet 
		links_to worksheet . identity ;
		
	field description
		links_to versioned_analysis . description ;
		
	field minimum
		links_to versioned_component . minimum ;
		
	field maximum
		links_to versioned_component . maximum ;

	field units
		links_to versioned_component . units ;
		
	field name
		links_to versioned_component . name ;

	field calculation
		links_to versioned_analysis . calculation ;

	field analysis
		links_to versioned_analysis . identity ;
	
	field result_type
		links_to versioned_component . result_type ;

	field true_word
		links_to versioned_component . true_word ;

	field false_word
		links_to versioned_component . false_word ;
		
	field operator
		links_to worksheet . assigned_operator ;

	field date_generated
		links_to worksheet . date_generated ;

	field personnel
		links_to personnel . description ;

	field order_number
		links_to versioned_component . order_number ;

oracle_specific_select

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		WORKSHEET
	   LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR 
	  WHERE ( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) 

	UNION

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		VERSIONED_COMPONENT.MINIMUM,
		VERSIONED_COMPONENT.MAXIMUM,
		VERSIONED_COMPONENT.UNITS,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		VERSIONED_COMPONENT.ORDER_NUMBER
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	 LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.IDENTITY ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' )

	MINUS

	 SELECT WORKSHEET.IDENTITY,
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.IDENTITY,
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	LEFT OUTER JOIN PERSONNEL ON PERSONNEL.IDENTITY = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.IDENTITY ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' ) ;

sqlserver_specific_select

	 SELECT WORKSHEET.[IDENTITY],
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.[IDENTITY],
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		WORKSHEET
	   LEFT OUTER JOIN PERSONNEL ON PERSONNEL.[IDENTITY] = WORKSHEET.ASSIGNED_OPERATOR 
	  WHERE ( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) 

	UNION

	 SELECT WORKSHEET.[IDENTITY],
		VERSIONED_ANALYSIS.DESCRIPTION,
		VERSIONED_COMPONENT.MINIMUM,
		VERSIONED_COMPONENT.MAXIMUM,
		VERSIONED_COMPONENT.UNITS,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.[IDENTITY],
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		VERSIONED_COMPONENT.ORDER_NUMBER
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	 LEFT OUTER JOIN PERSONNEL ON PERSONNEL.[IDENTITY] = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.[IDENTITY] ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' )

	EXCEPT

	 SELECT WORKSHEET.[IDENTITY],
		VERSIONED_ANALYSIS.DESCRIPTION,
		99999999.9,
		99999999.9,
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		VERSIONED_ANALYSIS.CALCULATION,
		VERSIONED_ANALYSIS.[IDENTITY],
		'X',
		'XXXXXXXXXX',
		'XXXXXXXXXX',
		WORKSHEET.ASSIGNED_OPERATOR,
		WORKSHEET.DATE_GENERATED,
		PERSONNEL.DESCRIPTION,
		'XXXXXXXXXX'
	   FROM VERSIONED_ANALYSIS,
		VERSIONED_COMPONENT,
		WORKSHEET
	LEFT OUTER JOIN PERSONNEL ON PERSONNEL.[IDENTITY] = WORKSHEET.ASSIGNED_OPERATOR
	  WHERE ( VERSIONED_COMPONENT.ANALYSIS = VERSIONED_ANALYSIS.[IDENTITY] ) AND
		( VERSIONED_ANALYSIS.ANALYSIS_VERSION = '         1' ) AND
		( VERSIONED_COMPONENT.ANALYSIS_VERSION = '         1' ) ;

{*******************************************************************************
* Report View r_worksheet_body
*******************************************************************************}      

view r_worksheet_body ;

	field worksheet
		links_to worksheet . identity ;
		
	field id_numeric
		links_to test . sample ;
		
	field test_count
		links_to test . test_count ;
		
	field test_number
		links_to test . test_number ;
		
	field id_text
		links_to sample . id_text ;
		
	field name
		links_to versioned_component . name ;
	

	field order_number
		links_to versioned_component . order_number ;
		
	field result_type
		links_to versioned_component . result_type ;
		
	field true_word
		links_to versioned_component . true_word ;
		
	field false_word
		links_to versioned_component . false_word ;
		
	field units
		links_to versioned_component . units ;
		
	field result_text
		links_to result . text ;

oracle_specific_select

	 SELECT WORKSHEET.IDENTITY,
		TEST.SAMPLE,   
		TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION )

	UNION

	  SELECT WORKSHEET.IDENTITY,
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		RESULT.TEXT
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME)

	MINUS

	  SELECT WORKSHEET.IDENTITY,
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND 
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME) ;
	
sqlserver_specific_select

	 SELECT WORKSHEET.[IDENTITY],
		TEST.SAMPLE,   
		TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION )

	UNION

	  SELECT WORKSHEET.[IDENTITY],
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		RESULT.TEXT
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME)

	EXCEPT

	  SELECT WORKSHEET.[IDENTITY],
		 TEST.SAMPLE,   
		 TEST.TEST_COUNT,
		TEST.TEST_NUMBER,   
		 SAMPLE.ID_TEXT,
		VERSIONED_COMPONENT.NAME,
		VERSIONED_COMPONENT.ORDER_NUMBER,
		VERSIONED_COMPONENT.RESULT_TYPE,
		VERSIONED_COMPONENT.TRUE_WORD,
		VERSIONED_COMPONENT.FALSE_WORD,
		VERSIONED_COMPONENT.UNITS,
		'XXXXXXXXXX'
	    FROM WORKSHEET,
		 TEST, 
		 SAMPLE,   
		 VERSIONED_COMPONENT,
		RESULT
	   WHERE ( TEST.WORKSHEET = WORKSHEET.LINK_NUMBER ) AND 
		 ( SAMPLE.ID_NUMERIC = TEST.SAMPLE ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS = TEST.ANALYSIS ) AND
		 ( VERSIONED_COMPONENT.ANALYSIS_VERSION = TEST.ANALYSIS_VERSION ) AND
		( RESULT.TEST_NUMBER = TEST.TEST_NUMBER ) AND
		( RESULT.NAME = VERSIONED_COMPONENT.NAME) ;
			


table instrument_template;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		used_for security_id
		links_to group_header . identity;

	field description
		datatype text ( 255 )
		used_for display_browse ( 2 );

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;

	field instructions
		datatype text ( 255 );    

	field sop_reference
		datatype text(100);	

	field manufacturer
		links_to supplier.identity;

	field operator_id alias operator
		links_to personnel . identity;

	field requires_calibration
		datatype boolean;

	field calibration_plan
		datatype text ( 255 );

	field calib_contractor
		links_to supplier.identity;

	field calib_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field calib_sample_template
		links_to samp_tmpl_header.identity;

	field requires_servicing
		datatype boolean;

	field service_intv
		datatype interval
		lower_limit '0 00:00:00.00';

	field service_contractor
		links_to supplier.identity;

	field service_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field instrument_category
		links_to instrument_category . identity;

	field custom_icon
		links_to icon . identity 
		default 'INT_INST_TMP';

	field use_maintenance
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

table instrument_part_template;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		used_for security_id
		links_to group_header . identity;

	field description
		datatype text ( 255 )
		used_for display_browse ( 2 );

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;       

	field instructions
		datatype text ( 255 ); 

	field sop_reference
		datatype text(100);

	field operator_id alias operator
		links_to personnel . identity;

	field manufacturer
		links_to supplier.identity;    

	field requires_calibration
		datatype boolean;

	field calibration_plan
		datatype text ( 255 );

	field calib_contractor
		links_to supplier.identity;

	field calib_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field requires_servicing
		datatype boolean;

	field service_interval
		datatype interval
		lower_limit '0 00:00:00.00';

	field service_contractor
		links_to supplier.identity;

	field service_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field use_maintenance
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';

table instrument_part_link_template noindex;

	field instrument_template
		links_to parent instrument_template.identity
		used_for unique_key;

	field instrument_part_template
		links_to instrument_part_template.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field mandatory
		datatype boolean;

index inst_part_link_temp_inst on instrument_template, instrument_part_template;
index inst_part_link_temp_part on instrument_part_template, instrument_template;


table instrument_property_template;

	field instrument_template
		links_to parent instrument_template.identity
		used_for unique_key;

	field identity
		links_to result.name
		used_for unique_key;

	field property_type
		datatype identity
		prompt_type choose
		choose_type INST_PROP
		default 'CONSTANT';

	field value
		datatype text (255);

	field units
	      links_to unit_header.identity;


table instrument_part ;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		used_for security_id
		links_to group_header . identity;

	field description
		datatype text ( 255 )
		used_for display_browse ( 2 );

	field modifiable datatype boolean
		used_for modifiable;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;

	field removeflag datatype boolean
		used_for remove_flag;       

	field status
		prompt_type choose
		choose_type INSTP_STAT
		default'U'
		datatype text ( 1 );

	field manufacturer
		links_to supplier.identity;        

	field template
		links_to instrument_part_template.identity;

	field serial_no
		datatype text ( 78 );

	field instructions
		datatype text ( 255 );

	field location_id alias location
		links_to location . identity;

	field available
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'Yes' ;

	field retired
		datatype boolean
		true_word 'Yes'
		false_word 'No'
		default 'No' ;

	field operator_id alias operator
		links_to personnel . identity;

	field date_installed
		datatype date;

	field date_assigned
		datatype date;

	field sop_reference
		datatype text (100);

	field requires_calibration
		datatype boolean;

	field calibration_plan
		datatype text ( 255 );

	field last_calib_date
		datatype date;

	field next_calib_date
		datatype date;

	field calib_contractor
		links_to supplier.identity;

	field calib_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field requires_servicing
		datatype boolean;

	field service_interval
		datatype interval
		lower_limit '0 00:00:00.00';

	field last_service_date
		datatype date;

	field next_service_date
		datatype date;

	field service_contractor
		links_to supplier.identity;

	field service_lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field use_maintenance
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T';


table instrument_part_link noindex;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field instrument_part
		links_to instrument_part.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field instrument_part_template
		links_to instrument_part_template.identity;

	field mandatory
		datatype boolean;


index inst_part_link_inst on instrument, instrument_part;
index inst_part_link_part on instrument_part, instrument;
	
	
table instrument_event;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field identity
		datatype packed_decimal
		used_for unique_key, ordering;

	field event_type
		datatype identity
		prompt_type choose
		choose_type INST_EVNT;

	field comments
		datatype text(255);

	field entered_on
		datatype date;

	field entered_by
		links_to personnel.identity;


table instrument_part_event;

	field instrument_part
		links_to parent instrument_part.identity
		used_for unique_key;

	field identity
		datatype packed_decimal
		used_for unique_key, ordering;

	field event_type
		datatype identity
		prompt_type choose
		choose_type INSTP_EVNT;

	field comments
		datatype text(255);

	field entered_on
		datatype date;

	field entered_by
		links_to personnel.identity;


table instrument_property;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field identity
		links_to result.name
		used_for unique_key;

	field property_type
		datatype identity
		prompt_type choose
		choose_type INST_PROP
		default 'CONSTANT';

	field value
		datatype text (255);

	field units
	      links_to unit_header.identity;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;


table instrument_calib_sample;

	field instrument
		links_to parent instrument.identity
		used_for unique_key;

	field order_num
		datatype packed_decimal
		used_for unique_key, ordering;

	field sample
		links_to sample . id_numeric;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;


table maintenance;

	field maintenance_guid
		datatype guid
		used_for unique_key ;

	field table_name
		datatype text ( 30 );

	field record_key0
		datatype text ( 50 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field description
		datatype text ( 234 )
		used_for display_browse(1);

	field type
		datatype identity
		prompt_type choose
		choose_type MNT_TYPE
		default 'GEN_MNT';

	field status
		datatype identity
		prompt_type choose
		choose_type MNT_STAT
		default 'V';

	field workflow_id
		links_to workflow . workflow_guid;

	field auto_login
		datatype boolean;

	field plan
		datatype text ( 255 );

	field lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field last_maintenance_date
		datatype date;

	field next_maintenance_date
		datatype date
		default '0'
		used_for display_browse(2);

	field use_completion_date
		datatype boolean
		true_word 'T'
		false_word 'F'
		default 'T' ;

	field contractor
		links_to supplier.identity;

	field sample
		links_to sample.id_numeric;

	field owner
		links_to  personnel . identity;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table maintenance_sample;

	field maintenance
		links_to parent maintenance.maintenance_guid
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field sample
		links_to sample . id_numeric;

	field modified_on datatype date
		used_for modified_on;

	field modified_by links_to personnel.identity
		used_for modified_by;


table label_template;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field version
		datatype packed_decimal
		default '         1'
		used_for unique_key, version_number, display_browse (2);

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse(3);

	field data_entity_definition
		datatype identity ( 50 );

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field is_devexpress
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'False';

	field label_specification
		links_to label_specification.identity ;

	field approval_status
		datatype text ( 1 )
		used_for display_browse ( 4 ) , approval_status
		default 'A'
		prompt_type choose
		choose_type APPR_STAT ;

	field inspection_plan
		links_to inspection_header . identity
		used_for inspection ;

	field active
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'True'
		used_for active_flag;

	field active_from
		datatype date
		used_for active_start_date;

	field active_to
		datatype date
		used_for active_end_date;

table schedule;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field location
		links_to location.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field start_date
		datatype date
		default '0';

	field end_date
		datatype date;

	field active
		datatype boolean;
		
	field schedule_group
		links_to schedule_group.identity;
	
	field calendar
		links_to schedule_calendar.identity;
		
	field schedule_group_controlled
		datatype boolean;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field use_workflow
		datatype boolean ;

	field job_template
		links_to job_template.identity;

	field filter_job
		datatype text( 500 )
		default 'GetDate( [DateToStart] ) == GetDate( ClientNow() )';

	field job_criteria_id
		links_to criteria_saved . identity as job_criteria
		default 'JOB_SCHED_LOGIN' ;

	field job_criteria_table
		links_to criteria_saved . table_name as job_criteria
		default 'JOB_HEADER' ;
		
	field job_workflow_id
	    links_to workflow . workflow_guid as job_workflow ;

	field job_workflow_version
	    links_to workflow . workflow_version as job_workflow ;

table schedule_group;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field location
		links_to location.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field force_schedule_control
		datatype boolean;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field active
		datatype boolean;

	field start_date
		datatype date
		default '0';

	field end_date
		datatype date;

	field calendar
		links_to schedule_calendar.identity;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table schedule_point;

	field schedule
		links_to parent schedule.identity
		used_for unique_key, display_browse ( 1 );

	field sample_point
		links_to sample_point.identity
		used_for unique_key, display_browse ( 2 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field sample_template
		links_to samp_tmpl_header.identity;

	field pre_schedule
		datatype interval
		default '0000 1';
		
	field active
		datatype boolean;

	field last_login
		datatype date;
	
	field collect_public_holiday
		datatype boolean;

	field collect_downtime
		datatype boolean;

	field product
		links_to mlp_latest_version_view.identity;

	field sample_workflow_id
	    links_to workflow . workflow_guid as sample_workflow ;

	field sample_workflow_version
	    links_to workflow . workflow_version as sample_workflow ;


table schedule_point_analysis;

	field schedule
		links_to parent schedule_point.schedule as schedule_point
		used_for unique_key, display_browse ( 2 );

	field schedule_point
		links_to parent schedule_point.sample_point as schedule_point
		used_for unique_key, display_browse ( 3 );
		
	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field analysis
		links_to versioned_analysis . identity;
		
	field component_list
		links_to versioned_c_l_header . comp_list;

	field replicate_count
		datatype integer
		default 1
		lower_limit 1;

	field run_window
		datatype interval
		default '0000 4';

	field frequency
		datatype text ( 500 )
		default 'TIME=(0:00)';

	field instrument
		links_to instrument . identity;
		
	field active
		datatype boolean;
	
	field collect_public_holiday
		datatype boolean;

	field collect_downtime
		datatype boolean;

table schedule_point_test_schedule;

	field schedule
		links_to parent schedule_point.schedule as schedule_point
		used_for unique_key, display_browse ( 2 );

	field schedule_point
		links_to parent schedule_point.sample_point as schedule_point
		used_for unique_key, display_browse ( 3 );
		
	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;
		
	field test_schedule
		links_to test_sched_header.identity
		used_for display_browse ( 1 );

	field run_window
		datatype interval
		default '0000 4';

	field frequency
		datatype text ( 500 )
		default 'TIME=(0:00)';
		
	field active
		datatype boolean;
	
	field collect_public_holiday
		datatype boolean;

	field collect_downtime
		datatype boolean;

table schedule_calendar;

	field identity
		datatype identity
		used_for unique_key , display_browse ( 1 );

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id alias group
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text ( 234 )
		used_for display_browse ( 2 );

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table schedule_calendar_period;

	field schedule_calendar
		links_to parent schedule_calendar . identity
		used_for unique_key, display_browse ( 2 );
		
	field identity
		datatype packed_decimal
		used_for ordering
		used_for unique_key, display_browse ( 1 );		
		
	field name 
		datatype text ( 100 )
		used_for primary_browse, name ;

	field description
		datatype text ( 234 )
		used_for display_browse ( 3 );
	
	field all_day
		datatype boolean;
		
	field start_date
		datatype date;

	field end_date
		datatype date;

	field type
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type NON_WORK
		default 'PUBLIC_HOL';

table language;

	field identity
		datatype identity
		used_for unique_key, display_browse(1);

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field icon
		links_to icon . identity;
		
	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse(2);

	field locale
		datatype text (20);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field language_code
		datatype text(5);

table stock;

	field identity
		datatype identity (20)
		used_for unique_key, display_browse (1);

	field name
		datatype text (100)
		used_for primary_browse, name;

	field description
		datatype text (234)
		used_for display_browse (2);

	field group_id
		links_to group_header.identity
		used_for security_id;

	field stock_type
		datatype identity
		default 'C'
		prompt_type choose
		choose_type STOCK_TYPE;

	field operator_id
		links_to personnel.identity;

	field default_location
		links_to location.identity;

	field stock_batch_label_template
		links_to label_template.identity;

	field substance
		links_to substance.identity;

	field track_inventory
		datatype boolean
		true_word'True'
		false_word 'False'
		default'True';

	field target_amount
		datatype real
		lower_limit 0.0;

	field inventory_unit
		links_to unit_header.identity;

	field preferred_supplier
		links_to supplier.identity;
		
	field preferred_order_amount
		datatype real
		lower_limit 0.0;

	field preferred_order_unit
		links_to unit_header.identity;

	field shelf_life
		datatype interval
		lower_limit '0 00:00:00.00';

	field reorder_on_shelf_life
		datatype boolean;

	field reorder_amount
		datatype real
		lower_limit 0.0;

	field reorder_on_amount
		datatype boolean;

	field reorder_percentage
		datatype real
		lower_limit 0
		upper_limit 100;

	field reorder_on_percentage
		datatype boolean;

	field reorder_unit
		links_to unit_header.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field standard
		links_to standard . identity ;

table stock_property;

	field stock
		links_to parent stock.identity
		used_for unique_key;

	field identity
		links_to result.name
		used_for unique_key;

	field value
		datatype text (255);

	field units
		links_to unit_header.identity;


table supplier;

	field identity
		datatype identity (20)
		used_for unique_key, display_browse ( 1 );

	field group_id
		links_to group_header.identity
		used_for security_id;

	field name
		datatype text ( 100 )
		used_for primary_browse, name;
	
	field description 
		datatype text ( 234 ) 
		used_for display_browse ( 2 );

	field address1
		datatype text (78);

	field address2
		datatype text (78);

	field city
		datatype text (78);

	field state_county
		datatype text (78);

	field zip_postalcode
		datatype text (78);

	field country
		datatype text (78);

	field fax
		datatype text (78);

	field email
		datatype text (78);

	field web_page
		datatype text (78);

	field phone_num
		datatype text (78);

	field contact
		datatype text (78);

	field rating
		datatype identity
		default 'S'
		prompt_type choose
		choose_type SUPP_RAT;

	field category
		datatype identity
		default 'N'
		prompt_type choose
		choose_type SUPP_CAT;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;


table supplier_detail;

	field supplier
		links_to parent supplier.identity
		used_for unique_key;

	field stock
		links_to parent stock.identity
		used_for unique_key, display_browse(1);

	field supplier_code
		datatype text (78)
		used_for unique_key, display_browse(2);

	field lead_time
		datatype interval
		lower_limit '0 00:00:00.00';

	field supplier_description
		datatype text (234)
		used_for display_browse(3);

	field supplier_quantity
		datatype real
		lower_limit 0.0
		used_for display_browse(4);

	field supplier_unit
		links_to unit_header.identity
		used_for display_browse(5);

	field cost
		datatype real
		format '9999999.99'
		lower_limit 0.0
		used_for display_browse(6);

table versioned_analysis_stock_use;

	field analysis
		links_to parent versioned_analysis.identity as parent_analysis
		used_for unique_key;

	field analysis_version
		links_to parent versioned_analysis.analysis_version as parent_analysis
		used_for unique_key;

	field stock
		links_to stock.identity
		used_for unique_key;

	field consumed_flag
		datatype boolean
		default 'T'
		true_word 'T'
		false_word 'F';

	field amount_required
		datatype real
		lower_limit 0.0;

	field unit
		links_to unit_header.identity;


table stock_batch;

	field stock
		links_to parent stock.identity
		used_for unique_key;

	field stock_batch
		datatype packed_decimal
		used_for unique_key, display_browse (1);

	field stock_batch_id
		datatype text (31)
		used_for display_browse (2);

	field stock_order
		links_to stock_order.stock_order_number;

	field source_stock_batch_id
		datatype text (31);

	field status
		datatype identity
		default 'V'
		prompt_type choose
		choose_type STK_B_STAT
		used_for display_browse (7);

	field description
		datatype text ( 234 );

	field location
		used_for display_browse (4)
		links_to location.identity;
	
	field supplier
		links_to supplier.identity;

	field batch
		datatype text ( 78 )
		used_for display_browse (3);
	
	field expiry_date
		datatype date;

	field initial_amount
		used_for display_browse (5)
		datatype real
		lower_limit 0.0;

	field unit
		used_for display_browse (6)
		links_to unit_header.identity
		case_sensitive;

	field date_created
		datatype date;

	field created_by
		links_to personnel . identity;

	field modified_on
		datatype date
		used_for modified_on, display_browse (9);

	field modified_by
		links_to personnel . identity
		used_for modified_by, display_browse (8);

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field standard_id
		links_to standard_versions . identity as standard ;

	field standard_version
		links_to standard_versions . version as standard ;

index stock_batch_stock_loc_batch on stock, location, batch;
index stock_batch_batch on batch, stock;
index stock_batch_sbi unique on stock_batch_id;


table stock_batch_property;

	field stock
		links_to parent stock_batch.stock as parent_stock_batch
		used_for unique_key;

	field stock_batch
		links_to parent stock_batch.stock_batch as parent_stock_batch
		used_for unique_key, display_browse (1);

	field identity
		links_to result.name
		used_for unique_key;

	field value
		datatype text (255);

	field units
		links_to unit_header.identity
		case_sensitive;


table stock_inventory;

	field stock
		used_for unique_key
		links_to parent stock_batch.stock as stock_batch_inventory;

	field stock_batch
		used_for unique_key, display_browse (1)
		links_to parent stock_batch.stock_batch as stock_batch_inventory ;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering, display_browse (2);

	field stock_batch_id
		datatype text (31);

	field use_type
		used_for display_browse (3)
		datatype identity
		default 'TEST'
		prompt_type choose
		choose_type STOCK_USE;

	field test
		links_to test.test_number;

	field source_stock_batch_id
		datatype text (31);

	field comments
		datatype text ( 234 );

	field consumed_flag
		datatype boolean
		default 'T'
		true_word 'T'
		false_word 'F';

	field amount
		used_for display_browse (4)
		datatype real
		lower_limit 0.0;

	field unit
		used_for display_browse (5)
		links_to unit_header.identity
		case_sensitive;

	field date_created
		datatype date;

	field created_by
		links_to personnel . identity;

	field modified_on
		datatype date
		used_for modified_on, display_browse (6);

	field modified_by
		links_to personnel . identity
		used_for modified_by, display_browse (7);

index stock_inventory_test_stock on test, stock;
index stock_inventory_stock_batch on stock, stock_batch;


table stock_order;

	field stock_order_number
		datatype packed_decimal
		used_for unique_key;

	field description
		datatype text (234)
		used_for display_browse (1);

	field order_date
		datatype date
		used_for display_browse (3);

	field estimated_delivery_date
		datatype date;

	field received_date
		datatype date;

	field supplier
		links_to supplier.identity
		used_for display_browse (2);

	field purchase_requisition
		datatype text(78);
		
	field status
		datatype identity
		default 'W'
		prompt_type choose
		choose_type STK_O_STAT
		used_for display_browse (4);

	field total_cost
		datatype real
		format '9999999.99'
		lower_limit 0.0;

	field cost_override
		datatype boolean ;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;


table stock_order_item;

	field stock_order_number
		links_to parent stock_order.stock_order_number
		used_for unique_key;

	field item_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field stock
		links_to stock.identity;

	field supplier_code
		datatype text(78);

	field supplier_description
		datatype text (234);

	field supplier_quantity
		datatype real
		lower_limit 0.0;

	field supplier_unit
		links_to unit_header.identity
		case_sensitive;

	field number_ordered
		datatype integer;

	field quantity_ordered
		datatype real
		lower_limit 0.0;

	field unit
		links_to unit_header.identity
		case_sensitive;

	field received
		datatype boolean;

	field quantity_received
		datatype real
		lower_limit 0.0;

	field batch
		datatype text ( 78 );

	field expiry_date
		datatype date;

	field location
		links_to location.identity;

	field cost
		datatype real
		format '9999999.99'
		lower_limit 0.0;

table training_course;

	field identity
		datatype identity (20)
		used_for unique_key, display_browse(1);

	field group_id
		links_to group_header . identity
		used_for security_id;

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field description
		datatype text (234)
		used_for display_browse(2);

	field external
		datatype boolean;

	field type
		datatype text (10)
		default 'SAFETY'
		prompt_type choose
		choose_type TRAIN_TYPE;

	field retest_interval
		datatype interval
		lower_limit '0 00:00:00.00';

	field retest_grace_period_interval
		datatype interval
		lower_limit '0 00:00:00.00';
	
	field retest_warning_period_interval
		datatype interval
		lower_limit '0 00:00:00.00';
	
	field operator_id
		links_to personnel.identity;

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;

	field has_attachments
		datatype boolean
		used_for has_attachments ;

table personnel_training;

	field personnel
		links_to parent personnel . identity as parent_personnel
		used_for unique_key, primary_browse;
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse;
	field competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;
	field date_completed
		datatype date;
		
index personnel_tc_index on training_course;


table versioned_analysis_training;

	field versioned_analysis
		links_to parent versioned_analysis . identity as parent_analysis
		used_for unique_key, primary_browse;
	field analysis_version
		links_to parent versioned_analysis.analysis_version as parent_analysis
		used_for unique_key, display_browse (1);
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse (2);
	field minimum_competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;
		
index versioned_anal_tc_index on training_course;


table instrument_training;

	field instrument
		links_to parent instrument . identity as parent_instrument
		used_for unique_key, primary_browse;
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse;
	field minimum_competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;

index instrument_tc_index on training_course;
		
		
table preparation_training;

	field preparation
		links_to parent preparation . identity as parent_preparation
		used_for unique_key, primary_browse;
	field training_course
		links_to training_course . identity
		used_for unique_key, display_browse;
	field minimum_competence
		datatype text (10)
		default '3'
		prompt_type CHOOSE
		choose_type TRAIN_COMP;

index preparation_tc_index on training_course;

table location_type;

	field identity alias identifier
		datatype identity (50)
		used_for unique_key, display_browse (1);
		
	field name
		datatype text ( 100 )
        	used_for primary_browse, name ;

	field group_id alias group
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse (2);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;
		
	field assignable_default
		datatype boolean;
	
	field default_icon
			links_to icon . identity
 		default 'INT_WORLD';

	field has_attachments
		datatype boolean
		used_for has_attachments ;
		
	field storage_type
	      datatype text(30);

	field storage_unit
	      links_to unit_header . identity ;

	field storage_capacity
	      datatype real
	      format 999999.999;
		  
	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;


table location_type_assign_entry ;
 
                field location_type_id
                      links_to parent location_type . identity as location_type
                      used_for unique_key ;
 
                field order_number
                      used_for unique_key, ordering
                      datatype packed_decimal  ;
 
                field assignable_type
                      datatype text ( 100 ) ;
 
                field assignable_evaluation
                      datatype text ( 500 )  ;
 
table location_assign_entry ;
 
                field location_id
                      links_to parent location . identity as thing
                      used_for unique_key ;
 
                field order_number
                      used_for unique_key, ordering
                      datatype packed_decimal  ;
 
                field assignable_type
                      datatype text ( 100 )  ;
 
                field assignable_evaluation
                      datatype text ( 500 ) ;



table location_type_list;

	field parent_location_type 
		links_to parent location_type . identity
		used_for unique_key
		used_for display_browse (2);

	field location_type
		links_to location_type . identity
		used_for unique_key
		used_for display_browse (1);

table substance;

	field identity
		datatype identity
		used_for unique_key, display_browse ( 1 );

	field group_id
		links_to group_header.identity
		used_for security_id;

	field description 
		datatype text ( 234 ) 
		used_for display_browse ( 2 );

	field name
		datatype text ( 100 )
		used_for primary_browse, name;

	field definition_type
		datatype identity
		default 'CHIP'
		prompt_type choose
		choose_type SUBDEFTYPE;

	field GHS_signal_word
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_SIG;

	field SDS
		datatype text ( 100 );

	field MSDS
		datatype text ( 100 );

	field health
		datatype identity
		default '0'
		prompt_type choose
		choose_type HAZ_HEALTH;

	field flammability
		datatype identity
		default '0'
		prompt_type choose
		choose_type HAZ_FLAM;

	field instability
		datatype identity
		default '0'
		prompt_type choose
		choose_type HAZ_INST;

	field special
		datatype identity
		prompt_type choose
		choose_type HAZ_SPEC;

	field handling_instructions
		datatype text(234);

	field storage_instructions
		datatype text(234);

	field disposal_instructions
		datatype text(234);

	field modified_on 
		datatype date 
		used_for modified_on;

	field modified_by 
		links_to personnel.identity
		used_for modified_by;

	field modifiable 
		datatype boolean 
		used_for modifiable;

	field removeflag 
		datatype boolean 
		used_for remove_flag;
	field has_attachments
		datatype boolean
		used_for has_attachments ;

table substance_hazard;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field hazard
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type HAZ_SYMB;

table substance_safety;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field safety
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type HAZ_SAFE;

table substance_risk;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field risk
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type HAZ_RISK;

table substance_ghs_pictogram;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field pictogram
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_PICT;

table substance_ghs_hazard;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field ghs_hazard
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_HAZ;

table substance_ghs_precautionary;

	field substance
		links_to parent substance.identity
		used_for unique_key;

	field order_number
		datatype packed_decimal
		used_for unique_key, ordering;

	field precaution
		datatype identity
		prompt_type phrase
		valid
		identities
		phrase_type GHS_PREC;

table report_template;

	field identity
		datatype identity ( 30 )
		used_for unique_key, display_browse ( 1 );

	field version
		datatype packed_decimal
		default '         1'
		used_for unique_key, version_number, display_browse (2);

	field name 
		datatype text ( 100 )
		used_for primary_browse, name;

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse;

	field data_entity_definition
		datatype identity ( 50 );

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
		datatype boolean
		used_for remove_flag;
		
	field publish
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'True';

	field has_attachments
		datatype boolean
		used_for has_attachments ;

	field criteria
			links_to criteria_saved . identity;
	field criteriaSearch
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'True';
	field is_template
		datatype boolean
			true_word 'True'
		        false_word 'False'
		        default 'False';
							
	field master_template
		links_to report_template.identity as master_template_link;

	field master_template_version
		links_to report_template.version as master_template_link;

	field approval_status
		datatype text ( 1 )
		used_for display_browse ( 4 ) , approval_status
		default 'A'
		prompt_type choose
		choose_type APPR_STAT ;
	field inspection_plan
		links_to inspection_header . identity
		used_for inspection ;

	field active
		datatype boolean
		true_word 'True'
		false_word 'False'
		default 'True'
		used_for active_flag;

	field active_from
		datatype date
		used_for active_start_date;

	field active_to
		datatype date
		used_for active_end_date;

	field use_master_template_config
		datatype boolean;


{*************************************************}
{ Form Designer Tables                            }
{*************************************************}

table form;

	field name
	      datatype identity ( 30 )
	      allowed_characters      '0..9a..zA..Z _'
	      case_sensitive
	      used_for unique_key, primary_browse;

	field form_entity_definition
	      datatype identity ( 50 )
	      used_for display_browse(1);

	field type
	      datatype identity
	      default 'PROPERTY'
	      prompt_type choose
	      choose_type FORM_TYPE
	      used_for display_browse ( 2 );

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 3 );

	field title
	      datatype text ( 100 )
	      used_for display_browse ( 4 );

	field group_id alias group
	      used_for security_id
	      links_to group_header . identity;

	field modifiable datatype boolean
	      used_for modifiable;

	field modified_on datatype date
	      used_for modified_on
	      used_for display_browse ( 5 );

	field modified_by links_to personnel.identity
	      used_for modified_by
	      used_for display_browse ( 6 );

	field removeflag datatype boolean
	      used_for remove_flag;

	field spellcheck_details 
	      datatype boolean;
		  
	field include_details 
	      datatype boolean;

	field file_directory
	      datatype text ( 50 );

	field file_extension
	      datatype text ( 20 );

	field form_xml
	      datatype text ( 50 );

	field category
	      datatype identity
	      default 'GENERAL'
	      prompt_type choose
	      choose_type FORM_CAT
	      used_for display_browse ( 7 );

	field default_icon
	      links_to icon . identity
	      default 'INT_FORMS';

	field window_style
	      datatype text ( 20 );

	field show_welcome_page
	      datatype boolean;

	field has_errors
	      datatype boolean;

	field page_extension 
	      datatype text ( 234 ) ;

table form_page;

	field form
	      links_to parent form.name as form
	      used_for unique_key ;
	      
	field page
	      links_to form . name
	      used_for unique_key, display_browse ( 1 ) ; 

	field order_num
	      datatype  packed_decimal
	      used_for  ordering;


{*************************************************}
{ Workflow Tables                                 }
{*************************************************}

table workflow;

	field workflow_guid
	      datatype guid
	      used_for unique_key ;

	field workflow_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field table_name
	      datatype identity ( 30 )
	      used_for display_browse ( 2 ) ;

	field workflow_type
	      datatype identity
	      prompt_type choose
	      choose_type WFLOW_TYPE
	      used_for display_browse ( 3 )
	      default 'GENERAL';

	field group_id
	      links_to group_header.identity
	      used_for security_id ;

	field description datatype text ( 255 )
	      used_for display_browse ( 4 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;
	      
	field include_in_menu
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;	

	field menu_icon_id
	      links_to icon . identity as icon ;

	field menu_text
	      datatype text ( 100 ) ;

	field sub_menu_group
	      datatype text ( 100 ) ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;
	      
	field active_from
	      datatype date
	      used_for active_start_date;
	      
	field active_to
	      datatype date
	      used_for active_end_date;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

table workflow_role ;

	field workflow_id
	      used_for unique_key, display_browse ( 1 )
	      links_to parent workflow . workflow_guid as workflow ;

	field workflow_version
	      used_for unique_key, display_browse ( 2 )
	      links_to parent workflow . workflow_version as workflow ;

	field role_id
	      links_to role_header . identity
	      used_for unique_key ;

table workflow_node ;

	field workflow_node_guid   
	      datatype guid
	      used_for unique_key ;

	field workflow_id
	      links_to parent workflow . workflow_guid as workflow ;

	field workflow_version
	      links_to parent workflow . workflow_version as workflow ;
	      
	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field parent_node   
	      links_to workflow_node . workflow_node_guid as parent_node ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description datatype text ( 255 )
	      used_for display_browse ( 1 ) ;

	field node_type
	      datatype text ( 30 ) ;

	field parameters_ext
	      datatype text ( 4000 ) ;

	field default_workflow_id
	      links_to workflow . workflow_guid;

	field action_table_name
	      links_to workflow_action_type . table_name as action_type ;

	field action_type_id
	      links_to workflow_action_type . identity as action_type ;

	field state_table_name
	      links_to workflow_state . table_name as required_state ;

	field state_identity
	      links_to workflow_state . identity as required_state ;

	field event_table_name
	      links_to workflow_event_type . table_name as event_type ;

	field event_type_id
	      links_to workflow_event_type . identity as event_type ;

	field entity_template_id
	      links_to entity_template . identity;

index workflow_node_workflow on workflow_id, workflow_version, order_number ;

index workflow_node_parent on parent_node, order_number ;

table workflow_link ;

	field table_name
	      datatype text ( 30 )
	      used_for unique_key ;

	field record_key0
	      datatype text ( 100 )
	      used_for unique_key ;

	field workflow_node   
	      links_to workflow_node . workflow_node_guid ;

table workflow_action_type ;

	field table_name
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field description datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;

	field include_in_menu
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False'
	      used_for display_browse ( 4 ) ;

	field icon_id
	      links_to icon . identity as icon ;

	field menu_text
	      datatype text ( 100 ) ;

	field sub_menu_group
	      datatype text ( 100 ) ;

	field action_task
	      datatype text ( 100 ) ;

table workflow_action_role ;

	field workflow_action_type_table
	      links_to parent workflow_action_type . table_name as workflow_action_type
	      used_for unique_key;

	field workflow_action_type_id
	      links_to parent workflow_action_type . identity as workflow_action_type
	      used_for unique_key;

	field role_id
	      links_to role_header . identity
	      used_for unique_key ;

table workflow_state ;

	field table_name
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field description datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;

	field icon_id
	      links_to icon . identity as icon ;

	field any_condition_match
	      datatype boolean ;

	field track
	      datatype boolean ;

table workflow_state_condition ;

	field table_name
	      used_for unique_key 
	      links_to parent workflow_state . table_name as workflow_state ;

	field workflow_state_id
	      used_for unique_key, display_browse ( 1 )
	      links_to parent workflow_state . identity as workflow_state ;

	field order_number
	      datatype packed_decimal
	      used_for unique_key, ordering ;

	field property
	      datatype text ( 100 ) 
	      used_for unique_key, display_browse ( 2 ) ;

	field operator
	      datatype text ( 10 )
	      default '='
	      prompt_type phrase
	      noidentities
	      phrase_type WFLOW_S_OP
	      used_for display_browse ( 3 ) ;

	field type
	      datatype identity
	      prompt_type choose
	      choose_type WF_COND_TY
	      default 'V'
	      used_for display_browse ( 4 ) ;

	field value
	      datatype text ( 255 )
	      used_for display_browse ( 5 ) ;
      
table workflow_event_type ;

	field table_name
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field description datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag datatype boolean
	      used_for remove_flag ;

table workflow_journal ;

	field identity
	      datatype packed_decimal
	      used_for unique_key ;

	field table_name
	      datatype text ( 30 ) ;

	field entity_record
	      datatype text ( 100 ) ;

	field entry_type
	      datatype identity
	      prompt_type phrase
	      valid 
	      identities
	      phrase_type WFLOW_JOUR ;

	field entry_name
	      datatype identity ( 30 ) ;

	field enter_states
	      datatype text ( 200 ) ;

	field exit_states
	      datatype text ( 200 ) ;

	field performed_on
	      datatype date ;

	field performed_by
	      links_to personnel . identity ;

table workflow_status_event ;

	field table_name
	      links_to workflow_event_type . table_name 
	      used_for display_browse ( 1 ) , unique_key ;

	field status_from
	      datatype text (1) 
	      used_for unique_key;

	field status_to
	      datatype text (1) 
	      used_for unique_key;

	field event_type_id
	      links_to workflow_event_type . identity
	      used_for display_browse ( 2 ) ;


{*************************************************}
{ Entity Template Tables                          }
{*************************************************}

table entity_template ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field entity_template_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 );

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 3 ) ;

	field table_name
	      datatype text ( 30 )
	      used_for display_browse ( 4 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;

	field active_from
	      datatype date
	      used_for active_start_date;

	field active_to
	      datatype date
	      used_for active_end_date;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table entity_template_property ;

	field property_name	
	      datatype text ( 100 )
	      used_for unique_key ;

	field entity_template_id
	      links_to parent entity_template . identity as entity_template
	      used_for unique_key ;

	field entity_template_version
	      links_to parent entity_template . entity_template_version as entity_template
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering,unique_key ; 

	field title	
	      datatype text ( 100 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field prompt_type	
	      prompt_type choose
	      choose_type ent_tmp_pt
	      default 'PROMPT'
	      datatype text ( 10 ) ;

	field filter_by	
	      datatype text ( 100 ) ;
	      
	field criteria
	      links_to criteria_saved . identity ;	      

	field category	
	      datatype text ( 100 ) ;
		  
	field default_type	
	      prompt_type choose
	      choose_type ENT_TMP_DT
	      default 'VALUE'
	      datatype text ( 10 ) ;

	field cell_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field display_rule
	      datatype text ( 500 );
	      
table entity_template_field ;

      	field table_name
      	      datatype identity ( 30 )
     	      used_for unique_key, display_browse ( 1 ) ;
	      
      	field field_name
      	      datatype identity ( 30 )
     	      used_for unique_key, display_browse ( 2 ) ;
     
{*************************************************}
{ Attachments/Notes                               }
{*************************************************}

table attachment;

	field attachment_guid
	      datatype guid
	      used_for unique_key ;

	field table_name
	      datatype text ( 30 ) ;

	field record_key0
	      datatype text ( 100 ) ;

	field version
	      datatype packed_decimal
	      default '         1'
	      used_for version_number ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field attachment
	      datatype text ( 250 ) ;

	field comments
	      datatype text ( 2000 ) ;

	field type
	      datatype identity
	      default 'FILE'
	      prompt_type choose
	      choose_type ATT_TYPE
	      used_for display_browse ( 1 ) ;

	field category
	      datatype identity
	      default 'GENERAL'
	      prompt_type choose
	      choose_type ATT_CAT
	      used_for display_browse ( 2 ) ;

	field created_date 
	      datatype date 
	      default '0' ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

{*************************************************}
{ Daily Toolbar                                   }
{*************************************************}

table daily_toolbar ;

	field user_id
	      links_to personnel . identity
	      used_for unique_key, primary_browse ;
 
	field item_number
	      datatype packed_decimal
	      used_for unique_key ;

	field parent_number
	      datatype packed_decimal ;

	field item_name
	      datatype text
	      used_for display_browse ( 1 ) ;

	field type
	      datatype text ( 20 )
	      used_for display_browse ( 2 ) ;

	field procedure_num 
	      links_to master_menu . procedure_num ;

	field internal_item_name 
	      datatype text ( 40 ) ;

	field paint_style
	      datatype text ( 40 ) ;

	field begin_group
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field shortcut
	      datatype text( 20 ) ;

table modular_report ;

	field identity
	      datatype identity ( 40 )
	      used_for unique_key, display_browse ( 1 ) ;

	field version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field entity_type
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field criteria
	      links_to criteria_saved . identity ;

	field master_template_identity
	      links_to report_template . identity as master_template ;

	field master_template_version
	      links_to report_template . version as master_template ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field use_master_template_config
	      datatype boolean ;

table modular_report_item;

	field modular_report_id
	      links_to parent modular_report . identity as modular_report 
	      used_for unique_key ;

	field modular_report_version
	      links_to parent modular_report . version as modular_report
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field report_template_id	  
	      links_to report_template . identity as report_template ;

	field report_template_version
	      links_to report_template . version as report_template ;

{*************************************************}
{ Web Client Tables                               }
{*************************************************}

table web_favorite ;

    field favorite_guid
          datatype text ( 36 )
          used_for unique_key ;

    field operator
          links_to personnel . identity ;

    field display_name
          datatype text ( 100 ) ;

    field parent_favorite_guid
          datatype text ( 36 ) ;

    field favorite_type
          datatype text ( 50 )
          prompt_type phrase
          phrase_type WEBFAVTYP ;

    field operation
          datatype text ( 500 ) ;

table web_recent_items ;

	field operator
	      links_to personnel . identity
	      used_for unique_key ;

	field display_name
	      datatype text ( 100 )
	      used_for unique_key ;

	field url
	      datatype text ( 300 ) ;

	field record_timestamp
	      datatype date ;


table chromeleon ;

	field identity
	      datatype identity ( 30 )
	      used_for unique_key, display_browse ( 1 ) ;

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field web_api_server
	      datatype text ( 255 ) ;

	field web_api_port
	      datatype integer 
	      default 8082
	      lower_limit 1 
	      upper_limit 65535 ;

	field web_api_path
	      datatype text ( 255 ) ;

	field web_api_timeout
	      datatype integer
	      default 60000
	      lower_limit 1 
	      upper_limit 1000000 ;

	field web_api_use_ssl
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field vault_name
	      datatype text ( 200 ) ;

	field vault_uri
	      datatype text ( 2000 ) ;

	field server_name
	      datatype text ( 200 ) ;

	field get_remote_instruments
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field get_sample_positions
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

table chromeleon_property ;

	field chromeleon_id
	      links_to parent chromeleon . identity as chromeleon
	      used_for unique_key ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field entity
	      datatype identity
	      prompt_type choose
	      choose_type CHROM_ENT
	      default 'INJECTION'
	      used_for display_browse ( 1 ) ;

	field property
	      datatype text ( 50 )
	      prompt_type phrase
	      phrase_type CHROM_PROP
	      used_for display_browse ( 2 ) ;

	field table_name
	      datatype identity ( 30 )
	      used_for display_browse ( 3 ) ;
	      
	field field_name
	      datatype identity ( 30 )
	      used_for display_browse ( 4 ) ;

	field expression
	      datatype text ( 500 ) ;

table chromeleon_instrument ;

	field chromeleon_id
	      links_to parent chromeleon . identity as chromeleon
	      used_for unique_key ;

	field instrument_id 
	      links_to instrument . identity as instrument
	      used_for unique_key, primary_browse ;

	field chromeleon_instrument
	      datatype text ( 255 )
	      used_for display_browse ( 1 ) ;

	field chromeleon_instrument_uri
	      datatype text ( 2000 )
	      used_for display_browse ( 2 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field autosampler_positions
	      datatype text ( 4000 ) ;

table chromeleon_mapping ;

	field identity
	      datatype identity ( 60 )
	      allowed_characters '0..9A..Z_-/()$+ '
	      used_for unique_key ;

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 4 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field chromeleon_id
	      links_to chromeleon_instrument . chromeleon_id as chromeleon_instrument
	      used_for display_browse ( 1 ) ;

	field instrument_id
	      links_to chromeleon_instrument . instrument_id as chromeleon_instrument
	      used_for display_browse ( 2 ) ;

	field analysis_id
	      links_to analysis_view . identity as analysis
	      used_for display_browse ( 3 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field processing_method_folder_uri
	      datatype text ( 2000 ) ;

	field processing_method
	      datatype text ( 255 ) ;

	field processing_method_uri
	      datatype text ( 2000 ) ;

	field eworkflow
	      datatype text ( 255 ) ;

	field eworkflow_uri
	      datatype text ( 2000 ) ;

	field allow_unknown
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field allow_adhoc
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field default_expression
	      datatype text ( 255 )
	      default 'peak.amount'
	      prompt_type phrase
	      phrase_type CHROM_EXP ;

	field unknown_peak_name_expression
	      datatype text ( 255 )
	      default 'peak.amount'
	      prompt_type phrase
	      phrase_type CHROM_EXP ;

	field default_sequence_folder_uri
	      datatype text ( 2000 ) ;

	field sequence_syntax
	      links_to syntax . identity
	      default 'CHROM_SEQ' ;

	field sequence_entry_syntax
	      links_to syntax . identity
	      default 'CHROM_INJ' ;

	field default_volume
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0 
	      upper_limit 100000 ;

	field translate_types
	      datatype boolean ;

	field default_position
	      datatype text ( 20 ) ;

	field allow_rename
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field overwrite_inj_names
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field allow_folder_change
	      datatype boolean
	      default 'Yes'
	      true_word 'Yes'
	      false_word 'No' ;

	field check_send_flag
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field result_signals
	      datatype text ( 500 ) ;

	field unknown_peak_prefix
	      datatype text ( 30 )
	      default 'Unknown Peak@' ;

	field update_standards
	      datatype boolean ;

	field report_from_eworkflow
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field report_template
	      datatype text ( 250 ) ;

	field report_template_uri
	      datatype text ( 2000 ) ;

	field report_template_folder_uri
	      datatype text ( 2000 ) ;

	field report_to_sequence
	      datatype boolean ;

	field volume_expression
	      datatype text ( 500 ) ;

	field istd_amount_expression
	      datatype text ( 500 ) ;

	field dilution_expression
	      datatype text ( 500 ) ;

	field weight_expression
	      datatype text ( 500 ) ;

	field comment_expression
	      datatype text ( 500 ) ;

	field advanced_mapping
	      datatype boolean ;

	field check_lock_flag
	      datatype boolean ;

	field exclude_from_ready_check
	      datatype boolean ;

	field sequence_send_to_lims
	  datatype text ( 1 )
	      default 'N'
	      prompt_type choose
	      choose_type CHROM_SEND ;

	field check_sequence_send
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field injection_send_to_lims
	      datatype text ( 1 )
	      default 'Y'
	      prompt_type choose
	      choose_type CHROM_SEND ;

	field check_injection_send
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field download_immediately
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;

	field adhoc_units
	      links_to unit_header . identity ;

	field replicate_id_expression
	      datatype text ( 500 ) ;

	field overwrite_eworkflow
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field queue_sequence
	       datatype boolean ;

	field run_sequence
	       datatype boolean ;

	field sub_instrument_filter
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;
		  
	field queue_optional
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;
		  
	field ignore_warnings
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;

	field workflow_filter
	      datatype text ( 32 ) ;

table chromeleon_mapping_result ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field component_name
	      links_to component_view . name
	      used_for unique_key, primary_browse ;

	field chromeleon_name
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field expression
	      datatype text ( 255 )
	      default 'peak.amount'
	      prompt_type phrase
	      phrase_type CHROM_EXP ;

	field signal_name
	      datatype text ( 100 ) ;

table chromeleon_mapping_standard ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field standard_id
	      links_to standard . identity as standard
	      used_for unique_key, primary_browse ;

	field chromeleon_level
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

table chromeleon_mapping_component ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping_standard . chromeleon_mapping_id as chromeleon_mapping_standard
	      used_for unique_key, display_browse ( 1 ) ;
		  
	field standard_id
	      links_to parent chromeleon_mapping_standard . standard_id as chromeleon_mapping_standard
	      used_for unique_key, primary_browse ;		  

	field concentration_name
		  links_to standard_concentration . name
	      used_for unique_key, display_browse ( 2 ) ;
		  
	field chromeleon_name
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;
		  
table chromeleon_mapping_property ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field entity
	      datatype identity
	      prompt_type choose
	      choose_type CHROM_ENT
	      default 'INJECTION'
	      used_for display_browse ( 2 ) ;

	field property
	      datatype text ( 50 )
	      prompt_type phrase
	      phrase_type CHROM_PROP
	      used_for display_browse ( 3 ) ;

	field table_name
	      datatype identity ( 30 )
	      used_for display_browse ( 4 ) ;
	      
	field field_name
	      datatype identity ( 30 )
	      used_for display_browse ( 5 ) ;

	field expression
	      datatype text ( 500 )
	      used_for display_browse ( 6 ) ;

table chromeleon_mapping_std_prop ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field table_name
	      datatype identity ( 30 )
		  used_for display_browse ( 2 ) ;

	field condition
	      datatype text ( 500 )
		  used_for display_browse ( 3 ) ;

	field component_name
	      datatype text ( 500 )
	      used_for display_browse ( 4 ) ;

	field custom_variable_name
	      datatype text ( 500 )
	      used_for display_browse ( 5 ) ;

	field custom_variable_value
	      datatype text ( 500 )
	      used_for display_browse ( 6 ) ;
		  
table chromeleon_mapping_sub_inst ;

	field chromeleon_mapping_id
	      links_to parent chromeleon_mapping . identity as chromeleon_mapping
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field chromeleon_id
	      links_to chromeleon_instrument . chromeleon_id as chromeleon_instrument;

	field instrument_id
	      links_to chromeleon_instrument . instrument_id as chromeleon_instrument;
		  
table chromeleon_sequence ;

	field identity
	      datatype packed_decimal
	      used_for unique_key ;

	field name	
	      datatype text ( 100 )
	      allowed_characters ' 0..9a..zA..Z-_(),.'
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 6 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field chromeleon_id
	      links_to chromeleon_instrument . chromeleon_id as chromeleon_instrument
	      used_for display_browse ( 1 ) ;

	field instrument_id
	      links_to chromeleon_instrument . instrument_id as chromeleon_instrument
	      used_for display_browse ( 2 ) ;

	field analysis_id
	      links_to analysis_view . identity as analysis
	      used_for display_browse ( 3 ) ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 4 )
	      default 'V'
	      prompt_type choose
	      choose_type CHROM_STAT ;

	field sequence_uri
	      datatype text ( 2000 )
	      used_for display_browse ( 5 ) ;

	field sequence_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field processing_method_folder_uri
	      datatype text ( 2000 ) ;

	field processing_method
	      datatype text ( 255 ) ;

	field processing_method_uri
	      datatype text ( 2000 ) ;

	field eworkflow
	      datatype text ( 255 ) ;

	field eworkflow_uri
	      datatype text ( 2000 ) ;

	field start_vial_position
	      datatype text ( 5 ) ;

	field send_approved
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field batch_id
	      links_to batch_header . identity as batch ;

	field injection_volume
	      datatype real
	      default 1
	      format '9999999.9999'
	      lower_limit 0 
	      upper_limit 100000 ;

	field comments
	      datatype text ( 255 ) ;

	field report_template_uri
	      datatype text ( 2000 ) ;

	field chromeleon_mapping_id
	      links_to chromeleon_mapping . identity as chromeleon_mapping_link ;

table chromeleon_sequence_entry ;

	field chromeleon_sequence_id
	      links_to parent chromeleon_sequence . identity as chromeleon_sequence
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field test_number
	      links_to test . test_number
	      used_for display_browse ( 2 ) ;

	field name	
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field sample_type	
	      prompt_type phrase
	      phrase_type CHROM_TYPE
	      valid identities
	      default 'UNKNOWN'
	      datatype identity ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 4 )
	      default 'V'
	      prompt_type choose
	      choose_type CHROM_ISTA ;

	field vial_position
	      datatype text ( 5 )
	      used_for display_browse ( 3 ) ;

	field volume
	      datatype real
		  default 0
	      format '9999999.9999'
	      lower_limit 0 
	      upper_limit 100000 ;

	field sample_uri
	      datatype text ( 2000 )
	      used_for display_browse ( 5 ) ;

	field instrument_method_folder_uri
	      datatype text ( 2000 ) ;

	field instrument_method
	      datatype text ( 255 ) ;

	field instrument_method_uri
	      datatype text ( 2000 ) ;

	field processing_method_folder_uri
	      datatype text ( 2000 ) ;

	field processing_method
	      datatype text ( 255 ) ;

	field processing_method_uri
	      datatype text ( 2000 ) ;

	field send_results
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field batch_id
	      links_to batch_entry . identity as batch_entry ;

	field batch_order_number
	      links_to batch_entry . order_number as batch_entry ;

	field concentration_level
	      datatype text ( 100 ) ;

	field dilution_factor
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0
	      upper_limit 100000 ;

	field internal_standard_amount
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0
	      upper_limit 100000 ;

	field weight
	      datatype real
	      default 0
	      format '9999999.9999'
	      lower_limit 0
	      upper_limit 100000 ;

	field replicate_id
	      datatype text ( 100 ) ;

	field comments
	      datatype text ( 100 ) ;

	field spike_group
	      datatype text ( 100 ) ;

	field is_locked
	      datatype boolean ;

index chrom_seq_entry_test_index on test_number ;

table chromeleon_sequence_log;

	field chromeleon_sequence_id
	      links_to parent chromeleon_sequence . identity as chromeleon_sequence
	      used_for unique_key, display_browse ( 1 ) ;

	field order_number
	      used_for unique_key, ordering
	      datatype packed_decimal ;

	field date_created
	      datatype date
	      used_for display_browse ( 2 ) ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 3 )
	      default 'U'
	      prompt_type choose
	      choose_type CHROM_RCS ;

	field operator
	      links_to personnel . identity ;

	field instrument
	      links_to instrument . identity;

	field instrument_trained
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field instrument_in_calibration
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field instrument_in_service
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

	field method_trained
	      datatype boolean
	      default 'No'
	      true_word 'Yes'
	      false_word 'No' ;

table lot_inventory ;

	field lot_id
	      used_for unique_key
	      links_to parent lot_details . lot_id ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field to_lot
	      links_to lot_details . lot_id ;

	field comments
	      datatype text ( 255 ) ;

	field consumed_flag
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field quantity
	      used_for display_browse ( 1 )
	      datatype real ;

	field units
	      used_for display_browse ( 2 )
	      links_to unit_header . identity ;

	field date_created
	      datatype date 
	      default '0' ;

	field created_by
	      links_to personnel . identity ;

	field usage
	      datatype identity
	      prompt_type choose
	      choose_type LOT_USAGE
	      used_for display_browse ( 3 ) ;

	field lot_reservation_id
	      datatype packed_decimal ;

table lot_reservation ;

	field lot_reservation_guid
	      datatype guid
	      used_for unique_key ;

	field lot_id
	      used_for unique_key
	      links_to parent lot_details . lot_id ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field workflow_node
	      default '4DAE56B4-CEA6-4915-8866-14E3652AA6E4'
	      links_to workflow_node . workflow_node_guid ;

	field comments
	      datatype text ( 255 ) ;

	field quantity_reserved
	      used_for display_browse ( 1 )
	      datatype real ;

	field quantity_taken
	      used_for display_browse ( 2 )
	      datatype real ;

	field units
	      used_for display_browse ( 3 )
	      links_to unit_header . identity ;

	field date_created
	      datatype date 
	      default '0' ;

	field created_by
	      links_to personnel . identity ;

	field modified_on datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel.identity
	      used_for modified_by ;

	field status                                  
	      datatype identity
	      prompt_type choose
	      choose_type LOTRESSTAT
	      used_for display_browse ( 4 ) ;

table report_layout_header ;

	field identity
	      datatype identity ( 40 )
	      used_for unique_key, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 2 ) ;

	field table_name
	      datatype text ( 100 ) ;

	field is_default
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field use_default_fields
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field master_template
	      links_to report_template . identity as master_template_link ;

	field master_template_version
	      links_to report_template.version as master_template_link ;

	field use_master_template_config
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field output_type
	      datatype identity
	      prompt_type choose
	      choose_type LISTPRINT
	      default 'PRINT'
	      used_for display_browse ( 3 ) ;

	field language 
	      links_to language . identity ;

	field include_text 
	      datatype boolean ;

	field file_directory
	      datatype text ( 50 ) ;

	field file_extension
	      datatype text ( 20 ) ;

table report_layout_field ;

	field report_layout_header
	      links_to parent report_layout_header . identity
	      used_for unique_key, primary_browse ;

	field field_name
	      datatype text ( 250 )
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field description
	      datatype text ( 30 ) ;

	field width
	      datatype integer
	      default 20 ;

	field field_repeats
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;
		  
	field format_string
	      datatype text ( 250 );		  

table report_layout_link ;

	field report_layout_header
	      links_to parent report_layout_header . identity
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field report_layout_header_link
	      links_to report_layout_header . identity ;

	field table_name
	      datatype text ( 100 ) ;

	field relationship_name
	      datatype text ( 250 ) ;

table instrument_category;

	field identity
	    datatype identity ( 30 )
	    used_for unique_key, display_browse ( 1 );
	
	field name
	    datatype text ( 100 )
	    used_for primary_browse, name ;
	
	field group_id alias group
	    used_for security_id
	    links_to group_header . identity;
	
	field description
	    used_for display_browse ( 2 )
	    datatype text ( 255 );
	
	field modifiable datatype boolean
	    used_for modifiable;
	
	field modified_on datatype date
	    used_for modified_on;
	
	field modified_by links_to personnel.identity
	    used_for modified_by;
	
	field removeflag
	    datatype boolean
	    used_for remove_flag;
		
	field has_attachments
	    datatype boolean
	    used_for has_attachments ;

	field custom_icon
		links_to icon . identity 
		default 'GEAR_INV';
		
table parameter_type ;

	field identity
	      used_for unique_key, display_browse ( 1 )
	      datatype identity ( 20 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field type
	      datatype identity
	      default 'N'
	      prompt_type choose
	      choose_type LE_PTYPE ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field default_name
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field units
	      links_to unit_header.identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;
		  
	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula datatype text ( 500 )
		default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table job_parameter ;

	field job
	      links_to parent job_header . job_name
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header.identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula datatype text ( 500 )
		default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table sample_parameter ;

	field sample
	      links_to parent sample . id_numeric
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

field rounding_formula datatype text ( 500 )
      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table test_parameter ;

	field test
	      links_to parent test . test_number
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

field rounding_formula datatype text ( 500 )
      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table entity_template_parameter ;

	field parameter_name
	      datatype text ( 100 )
	      used_for unique_key ;

	field entity_template_id
	      links_to parent entity_template . identity as entity_template
	      used_for unique_key ;

	field entity_template_version
	      links_to parent entity_template . entity_template_version as entity_template
	      used_for unique_key ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field default_value
	      links_to parameter_type . default_value ;

	field category
	      links_to parameter_type . category ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      links_to parameter_type . table_name ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      links_to parameter_type . minimum ;

	field maximum
	      links_to parameter_type . maximum ;

	field target_value
	      links_to parameter_type . target_value ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula datatype text ( 500 )
		 default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table incident_parameter ;

	field incident_id
	      links_to parent incidents . incident_id
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_rounding
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;
		  
	field order_number
	      used_for ordering
	      datatype packed_decimal ;

table c_job_parameter
        parent_table job_parameter
        tableset default_table_set ;

table c_sample_parameter
        parent_table sample_parameter
        tableset default_table_set ;

table c_test_parameter
        parent_table test_parameter
        tableset default_table_set ;

table lab_method ;

	field lab_method_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field lab_method_workflow_id
	      links_to workflow . workflow_guid as lab_method_workflow ;

	field lab_method_workflow_version
	      links_to workflow . workflow_version as lab_method_workflow ;

	field sop_reference
	      datatype text ( 500 ) ;

	field lab_method_type
	      datatype identity
	      prompt_type choose
	      choose_type LE_MTYPE ;

	field execution_style
	      datatype identity
	      prompt_type choose
	      default 'LINEAR'
	      choose_type LE_ESTYLE ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field is_gxp
	      datatype boolean
	      default 'True'
	      true_word 'True'
	      false_word 'False' ;

	field introduction_blob
	      links_to blob_values . blob_id ;

	field prerequisites_blob
	      links_to blob_values . blob_id ;

	field summary_blob
	      links_to blob_values . blob_id ;

	field table_name
	      datatype text ( 50 ) ;

	field criteria
	      links_to criteria_saved . identity ;

	field name_expression
	      datatype text ( 500 )
	      default 'Syntax("LE_TASK")' ;

	field execution_inspection_plan
	      links_to inspection_header . identity ;

	field require_review_comments
	      datatype boolean ;

	field batch_template_id
	      links_to batch_tmpl_header . identity as batch_template ;

	field is_executable
	      datatype boolean
	      default 'T'
	      true_word 'T'
	      false_word 'F' ;

	field returns_entity
	      datatype boolean
	      default 'F'
	      true_word 'T'
	      false_word 'F' ;

	field return_table_name
	      datatype text ( 50 ) ;

	field incident_template_id
	      links_to incident_template . template_id as incident_template ;
		  
	field incident_workflow_id
	      links_to workflow . workflow_guid ;

	field return_data_parameter_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as return_data_parameter ;

	field rack_template_id
	      links_to lab_rack_template . lab_rack_template_id as rack_template ;

	field rack_template_version
	      links_to lab_rack_template . lab_rack_template_version as rack_template ;

	field chromeleon_mapping_id
	      links_to chromeleon_mapping . identity as chromeleon_mapping ;

	field batch_step_id
	      links_to lab_method_step . lab_method_step_id as batch_step ;

	field batch_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as batch_step_parameter ;

	field chromeleon_seq_step_id
	      links_to lab_method_step . lab_method_step_id as chromeleon_sequence_step ;

	field chromeleon_seq_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as chromeleon_sequence_step_parameter ;

	field instrument_step_id
	      links_to lab_method_step . lab_method_step_id as instrument_step ;

	field instrument_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as instrument_step_parameter ;

	field review_out_of_range
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;
		  
	field review_incidents
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;
		  
	field review_audits
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;
		  
	field review_manual_overrides
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field plate_step_id
	      links_to lab_method_step . lab_method_step_id as plate_step ;

	field plate_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as plate_step_parameter ;

table lab_method_step ;

	field lab_method_step_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_id
	      links_to parent lab_method . lab_method_id as lab_method ;

	field lab_method_version
	      links_to parent lab_method . lab_method_version as lab_method ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description
	      datatype text ( 500 )
	      used_for display_browse ( 4 ) ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field step_workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field instruction_blob
	      links_to blob_values . blob_id ;

	field allow_comments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_attachments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_modification
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field auto_start
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field analysis_id
	      links_to versioned_analysis . identity as default_analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as default_analysis ;

	field use_latest_version
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'T' ;

	field name_expression
	      datatype text ( 500 ) ;

	field complete_name_expression
	      datatype text ( 500 ) ;

	field step_minimum_interval
	      datatype interval ;

	field step_maximum_interval
	      datatype interval ;

	field create_esig
	      datatype boolean ;

	field cross_check_user
	      links_to personnel . identity ;

	field cross_check_role
	      links_to role_header . identity ;

	field data_context_step_id
	      links_to lab_method_step . lab_method_step_id as data_context_step ;

	field data_context_step_param_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as data_context_step_parameter ;

	field next_step_id
	      links_to lab_method_step . lab_method_step_id as next_step ;

	field next_step_condition
	      datatype text ( 500 ) ;

	field require_review_comments
	      datatype boolean ;

	field auto_validate
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field esig_reason
	      datatype text ( 80 ) ;

	field is_sub_method
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;

	field lab_method_link_id
	      links_to lab_method . lab_method_id as lab_method_link ;

	field lab_method_link_version
	      links_to lab_method . lab_method_version as lab_method_link ;

	field lab_method_link_latest
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field batch_show
	      datatype boolean ;

	field batch_rack_show
	      datatype boolean ;

	field batch_modifiable
	      datatype boolean ;

	field chromeleon_show
	      datatype boolean ;

	field chromeleon_modifiable
	      datatype boolean ;

	field chromeleon_update
	      datatype boolean ;

	field allow_removal
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field enable_workflow_button
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field workflow_button_name
	      datatype text ( 200 ) ;
		  
	field workflow_button_runonce
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field workflow_button_autosave
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

table lab_method_step_variable ;

	field lab_method_step_variable_id
	      datatype guid
	      used_for unique_key ;

	field variable_name
	      datatype text
	      used_for primary_browse, name ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step;

	field expression
	      datatype text ( 500 )
	      used_for display_browse ( 1 ) ;

table lab_method_step_parameter ;

	field lab_method_step_parameter_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field description
	      datatype text ( 500 ) ;

	field parameter_type
	      default 'BOOLEAN'
	      links_to parameter_type . identity as parameter_type;

	field default_value
	      datatype text ( 500 ) ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field mandatory_criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field create_as_parameter
	      datatype boolean ;

	field create_from_parameter
	      datatype boolean ;

	field parameter_name
	      datatype text ( 100 ) ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field prompt_type
	      prompt_type choose
	      choose_type LE_PMTYPE
	      default 'MANDATORY'
	      datatype text ( 10 ) ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field create_as_result
	      datatype boolean ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field component_name
	      links_to versioned_component . name ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field lab_parsing_script_variable
	      datatype text ( 100 ) ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

	field source_type_id
	      default 'NONE'
	      datatype identity
	      prompt_type choose
	      choose_type LE_ITYPE ;

	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

	field instrument_used
	      links_to instrument . identity ;

	field instrument_expression
	      datatype text ( 500 ) ;

	field only_read_on_focus
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;

	field save_on_read
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;

	field copy_to_batch
	      datatype boolean ;

	field batch_slot_type
	      prompt_type choose
	      choose_type BATCH_ENTR
	      default 'SAMPLE'
	      datatype text ( 10 ) ;

	field batch_slot
	      datatype packed_decimal
	      default '         0' ;

	field workflow_id
	      links_to workflow . workflow_guid as workflow_create_entity ;

	field workflow_version
	      links_to workflow . workflow_version as workflow_create_entity ;

	field copy_to_batch_control
	      datatype boolean ;

	field value_from_lab_execution_id
	      links_to lab_method . lab_method_id as value_from_lab_execution ;

	field value_from_lab_execution_ver
	      links_to lab_method . lab_method_version as value_from_lab_execution ;

	field require_creation
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;
		  
	field data_creation_latest
	      datatype boolean
	      default 'T'
	      false_word 'F'
	      true_word 'T' ;

	field copy_to_chromeleon
	      datatype boolean ;

	field phrase_valid_only
	      datatype boolean ;

	field samples_batch
	      datatype boolean ;
		  
	field rounding_formula datatype text ( 500 )
		default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_filter
	      links_to sig_figs . identity;
		  
	field refresh_instructions
	      datatype boolean
	      default 'F'
	      false_word 'F'
	      true_word 'T' ;

table lab_method_step_substance ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step
	      used_for unique_key ;

	field substance_id
	      links_to substance . identity
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field comments
	      datatype text ( 500 ) ;

table lab_method_step_prereq ;

	field lab_method_step_id
	      links_to parent lab_method_step . lab_method_step_id as lab_method_step
	      used_for unique_key ;

	field lab_method_step_prereq_id
	      links_to lab_method_step . lab_method_step_id as lab_method_step_prereq
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field comments
	      datatype text ( 500 ) ;

table lab_method_training ;

	field lab_method_id
	      links_to parent lab_method . lab_method_id as lab_method
	      used_for unique_key, primary_browse ;

	field lab_method_version
	      links_to parent lab_method . lab_method_version as lab_method
	      used_for unique_key, display_browse ( 1 ) ;

	field training_course
	      links_to training_course . identity
	      used_for unique_key, display_browse ( 2 ) ;

	field minimum_competence
	      datatype identity
	      default '3'
	      prompt_type CHOOSE
	      choose_type TRAIN_COMP ;

table lab_parsing_script ;

	field lab_parsing_script_id
	      used_for unique_key
	      datatype guid ;

	field lab_parsing_script_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field type
	      datatype text ( 100 );

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field command_script_blob
	      links_to blob_values . blob_id ;

	field test_file_blob
	      links_to blob_values . blob_id ;

	field test_file_code_page
	      datatype integer
	      default 1252 ;

	field test_instrument
	      links_to instrument . identity ;

	field test_context
	      datatype text ( 100 ) ;

	field test_stored_data_path
	      datatype text ( 100 ) ;

	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

table lab_mapping ;

	field lab_mapping_id
	      used_for unique_key
	      datatype guid ;

	field lab_mapping_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field mapping_script_blob
	      links_to blob_values . blob_id ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

table lab_alias ;

	field lab_alias_id
	      used_for unique_key
	      datatype guid ;

	field lab_alias_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field use_default
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field default_translation
            default 'No Translation'
	      datatype text ( 100 ) ;

table lab_alias_entry ;

	field lab_alias_entry_id
	      used_for unique_key
	      datatype guid ;

	field lab_alias_id
	      links_to parent lab_alias . lab_alias_id as lab_alias
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_alias . lab_alias_version as lab_alias
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field context
	      datatype text ( 100 ) ;
		  
	field analysis_id
	      links_to versioned_analysis . identity as analysis_context ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis_context ;

	field raw_input
	      datatype text ( 500 ) ;

	field input
	      datatype text ( 500 ) ;

	field output
	      datatype text ( 500 ) ;

table lab_import_definition ;

	field lab_import_definition_id
	      used_for unique_key
	      datatype guid ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field lab_parsing_script_id
	      links_to lab_parsing_script . lab_parsing_script_id as lab_parsing_script ;

	field lab_parsing_script_version
	      links_to lab_parsing_script . lab_parsing_script_version as lab_parsing_script ;

	field lab_mapping_id
	      links_to lab_mapping . lab_mapping_id as lab_mapping ;

	field lab_mapping_version
	      links_to lab_mapping . lab_mapping_version as lab_mapping ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias ;

	field lab_data_source_id
	      links_to lab_data_source . lab_data_source_id as lab_data_source ;

	field lab_data_source_version
	      links_to lab_data_source . lab_data_source_version as lab_data_source ;

table lab_execution ;

	field lab_execution_id
	      datatype guid
	      used_for unique_key ;

	field lab_method_id
	      links_to lab_method . lab_method_id as lab_method ;

	field lab_method_version
	      links_to lab_method . lab_method_version as lab_method ;

	field lab_method_name
	      links_to lab_method . name ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field next_step_id
	      links_to lab_method_step . lab_method_step_id as next_step ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 2 )
	      default 'U'
	      prompt_type choose
	      choose_type LE_ESTAT ;

	field lab_method_type
	      datatype identity
	      prompt_type choose
	      choose_type LE_MTYPE ;

	field execution_style
	      datatype identity
	      prompt_type choose
	      default 'LINEAR'
	      choose_type LE_ESTYLE ;

	field is_gxp
	      datatype boolean
	      default 'True'
	      true_word 'True'
	      false_word 'False' ;

	field date_created
	      datatype date ;

	field created_by
	      links_to personnel . identity ;

	field date_started
	      datatype date ;

	field started_by
	      links_to personnel . identity ;

	field date_completed
	      datatype date ;

	field completed_by
	      links_to personnel . identity ;

	field date_stopped
	      datatype date ;

	field stopped_by
	      links_to personnel . identity ;
		  
	field date_canceled
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field date_assigned
	      datatype date ;

	field assigned_by
	      links_to personnel . identity ;

	field assigned_to
	      links_to personnel . identity ;

	field date_reviewed
	      datatype date ;

	field reviewed_by
	      links_to personnel . identity ;

	field review_comments
	      datatype text ( 500 ) ;

	field review_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_REVIEWS ;

	field date_authorized
	      datatype date ;

	field authorized_by
	      links_to personnel . identity ;

	field date_rejected
	      datatype date ;

	field rejected_by
	      links_to personnel . identity ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field out_of_range
	      datatype boolean ;

	field old_status
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type LE_ESTAT ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field batch
	      links_to batch_header . identity ;

	field session_variable
	      datatype integer
	      default 0;

	field created_by_step_parameter_id
	      links_to lab_execution_step_parameter . lab_execution_step_param_id as created_by_step_parameter ;

	field chromeleon_mapping_id
	      links_to chromeleon_mapping . identity as chromeleon_mapping ;

	field chromeleon_sequence_id
	      links_to chromeleon_sequence . identity as chromeleon_sequence ;

	field instrument_id
	      links_to instrument . identity as instrument ;

	field plate_id
	      links_to plate . plate_id as plate ;

table lab_execution_link_history;

	field lab_execution_id
	      links_to parent lab_execution . lab_execution_id as lab_execution
	      used_for unique_key ;

	field order_num
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field lab_method_step_id
	      links_to lab_method_step . lab_method_step_id as lab_method_step ;

	field lab_execution_target
	      links_to lab_execution_step . lab_execution_step_id as lab_execution_target ;

table lab_execution_link ;

	field lab_execution_link_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_id
	      links_to parent lab_execution . lab_execution_id as lab_execution ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field link_type
	      prompt_type choose
	      choose_type LE_LTYPE
	      default 'PARAMETER'
	      datatype text ( 10 ) ;

	field usage
	      prompt_type choose
	      choose_type LE_LUSAGE
	      default 'REFERENCE'
	      datatype text ( 10 ) ;

table lab_execution_step ;

	field lab_execution_step_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_id
	      links_to parent lab_execution . lab_execution_id as lab_execution ;

	field lab_method_step_id
	      links_to lab_method_step . lab_method_step_id as lab_method_step ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 3 )
	      default 'V'
	      prompt_type choose
	      choose_type LE_SSTAT ;

	field step_type
	      links_to parameter_type . identity as parameter_type ;

	field allow_comments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_attachments
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field allow_modification
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field auto_start
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field comments
	      datatype text ( 500 ) ;

	field date_created
	      datatype date ;

	field created_by
	      links_to personnel . identity ;

	field date_started
	      datatype date ;

	field started_by
	      links_to personnel . identity ;

	field date_completed
	      datatype date ;

	field completed_by
	      links_to personnel . identity ;

	field date_canceled
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field date_reviewed
	      datatype date ;

	field reviewed_by
	      links_to personnel . identity ;

	field review_comments
	      datatype text ( 500 ) ;

	field review_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_REVIEWS ;

	field variable_ext
	      datatype text ( 4000 ) ;

	field out_of_range
	      datatype boolean ;

	field create_esig
	      datatype boolean ;

	field old_status
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type LE_SSTAT ;

	field cross_check_user
	      links_to personnel . identity ;

	field cross_check_role
	      links_to role_header . identity ;

	field cross_check_date
	      datatype date ;

	field cross_check_by
	      links_to personnel . identity ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field parent_table_name
	      datatype identity ( 50 ) ;

	field parent_record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field batch_initialized
	      datatype boolean;

	field chromeleon_update
	      datatype boolean ;

	field allow_removal
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field modified
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field enable_workflow_button
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field workflow_button_name
	      datatype text ( 200 ) ;
		  
	field workflow_button_runonce
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;

	field workflow_button_autosave
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
	field workflow_button_has_run
	      datatype boolean
	      true_word 'T'
	      false_word 'F'
	      default 'F' ;
		  
table lab_execution_step_parameter ;

	field lab_execution_step_param_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_step_id
	      links_to parent lab_execution_step . lab_execution_step_id as lab_execution_step ;

	field lab_method_step_parameter_id
	      links_to lab_method_step_parameter . lab_method_step_parameter_id as lab_method_step_parameter ;

	field order_num
	      datatype packed_decimal
	      used_for ordering ;

	field name
	      links_to lab_method_step_parameter . name
	      used_for primary_browse, name ;

	field description
	      links_to lab_method_step_parameter . description
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field parameter_type
	      links_to parameter_type . identity as parameter_type;

	field table_name
	      links_to lab_method_step_parameter . table_name ;

	field phrase_type_id
	      links_to lab_method_step_parameter . phrase_type_id ;

	field value
	      datatype text ( 500 )
	      used_for display_browse ( 2 ) ;

	field date_value
	      datatype date ;

	field comments
	      datatype text ( 500 ) ;

	field out_of_range
	      datatype boolean ;

	field mandatory_criteria
	      links_to lab_method_step_parameter . mandatory_criteria ;

	field validation_criteria
	      links_to lab_method_step_parameter . validation_criteria ;

	field create_as_parameter
	      links_to lab_method_step_parameter . create_as_parameter ;

	field create_from_parameter
	      links_to lab_method_step_parameter . create_from_parameter ;

	field units
	      links_to lab_method_step_parameter . units ;

	field places
	      links_to lab_method_step_parameter . places ;

	field minimum
	      links_to lab_method_step_parameter . minimum ;

	field maximum
	      links_to lab_method_step_parameter . maximum ;

	field target_value
	      links_to lab_method_step_parameter . target_value ;

	field prompt_type
	      links_to lab_method_step_parameter . prompt_type ;

	field true_word
	      links_to lab_method_step_parameter . true_word ;

	field false_word
	      links_to lab_method_step_parameter . false_word ;

	field target_boolean
	      links_to lab_method_step_parameter . target_boolean ;

	field create_as_result
	      links_to lab_method_step_parameter . create_as_result ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field component_name
	      links_to versioned_component . name ;

	field parameter_name
	      datatype text ( 100 ) ;

	field result_error
	      datatype text ( 255 ) ;

	field copy_to_batch
	      datatype boolean ;

	field batch_slot_type
	      prompt_type choose
	      choose_type BATCH_ENTR
	      default 'SAMPLE'
	      datatype text ( 10 ) ;

	field batch_slot
	      datatype packed_decimal
	      default '         0' ;

	field workflow_create_id
	      links_to workflow . workflow_guid as workflow_create_entity ;

	field workflow_create_version
	      links_to workflow . workflow_version as workflow_create_entity ;

	field copy_to_batch_control
	      datatype boolean ;

	field copy_to_chromeleon
	      datatype boolean ;

	field chromeleon_sequence_id
	      links_to chromeleon_sequence_entry . chromeleon_sequence_id as chromeleon_sequence_entry ;

	field chromeleon_sequence_entry_id
	      links_to chromeleon_sequence_entry . order_number as chromeleon_sequence_entry ;

	field manually_entered
	      datatype boolean 
	      true_word 'True'
	      false_word 'False'
	      default 'False' ;

	field default_value
	      datatype text ( 500 ) ;

	field raw_value
	      datatype text ( 500 ) ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field phrase_valid_only
	      datatype boolean ;

	field samples_batch
	      datatype boolean ;
		  
field rounding_formula datatype text ( 500 )
      default NULL ;

	field sig_figs_number datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_rounding datatype integer
	      default -1
	      lower_limit -1
	      upper_limit 9;
		  
	field sig_figs_filter
	      links_to sig_figs . identity;
	
table lab_execution_step_link ;

	field lab_execution_step_link_id
	      datatype guid
	      used_for unique_key ;

	field lab_execution_step_id
	      links_to parent lab_execution_step . lab_execution_step_id as lab_execution_step ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field link_type
	      prompt_type choose
	      choose_type LE_LTYPE
	      default 'PARAMETER'
	      datatype text ( 10 ) ;

	field usage
	      prompt_type choose
	      choose_type LE_LUSAGE
	      default 'REFERENCE'
	      datatype text ( 10 ) ;

table lab_data_source ;

	field lab_data_source_id
	      used_for unique_key
	      datatype guid ;

	field lab_data_source_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field data_source
	      datatype text ( 100 ) ;

	field log_raw_data_to_file
		 datatype boolean
		 true_word 'True'
	     false_word 'False'
	     default 'False';

	field raw_data_log_folder
		 datatype text ( 120 )
		 default 'GetFolder(&apos;smp$datastore&apos;)';
		 
	field raw_data_log_filename
		 datatype text ( 100 )
		 default '[Timestamp]';
	
	field raw_data_log_extension
		 datatype text ( 10 )
		 default 'txt';	
	
	field raw_data_store_method
	      datatype text ( 3 )
	      default 'RAW'
	      prompt_type choose
	      choose_type DSMETHOD ;
		  
table lab_data_source_setting ;

	field lab_data_source_setting_id
	      used_for unique_key
	      datatype guid ;

	field lab_data_source_id
	      links_to parent lab_data_source . lab_data_source_id as lab_data_source
	      used_for unique_key ;

	field lab_data_source_version
	      links_to parent lab_data_source . lab_data_source_version as lab_data_source
	      used_for unique_key ;

	field setting_name
	      datatype text ( 500 ) ;

	field setting_value
	      datatype text ( 500 ) ;

	field order_num
	      used_for ordering
	      datatype packed_decimal ;

table lab_rack_template ;

	field lab_rack_template_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field number_of_rows
	      datatype integer
	      lower_limit 1
	      default 3 ;

	field number_of_columns
	      datatype integer
	      lower_limit 1
	      default 3 ;

	field cell_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field cell_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field column_heading_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field row_heading_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field icon_size
	      datatype integer
	      lower_limit 1
	      default 32 ;

	field empty_icon
	      links_to icon . identity
	      default 'WELL_EMPTY' ;

	field fill_order
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_RFORDER
	      default 'LTRTTB' ;

	field row_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_RALABEL ;

	field custom_row_labels
	      datatype text ( 100 ) ;

	field column_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type LE_RALABEL ;

	field custom_column_labels
	      datatype text ( 100 ) ;

	field size_mode
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type LE_RASM
	      default  'N' ;

	field rack_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_FFFFFF' ;

	field focused_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_A9A9A9' ;

	field out_of_range_icon
	      links_to icon . identity ;

	field group_samples
	      datatype boolean ;

	field group_standards
	      datatype boolean ;

	field plate_mode
	      datatype boolean ;

	field plate_type_id
	      links_to plate_type . plate_type_id as plate_type ;

	field plate_type_version
	      default '         1'
	      links_to plate_type . plate_type_version as plate_type ;

	field plate_fill_order_id
	      links_to plate_fill_order . plate_fill_order_id as plate_fill_order ;

	field plate_fill_order_version
	      default '         1'
	      links_to plate_fill_order . plate_fill_order_version as plate_fill_order ;

	field plate_appearance_id
	      links_to plate_appearance . plate_appearance_id as plate_appearance ;

	field plate_appearance_version
	      default '         1'
	      links_to plate_appearance . plate_appearance_version as plate_appearance ;

table lab_rack_icon ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field batch_entry_type
	      used_for unique_key
	      datatype text ( 14 )
	      prompt_type choose
	      choose_type BATCH_ENTR ;

	field icon
	      links_to icon . identity ;

table lab_rack_test_status_icon ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field test_status
	      used_for unique_key
	      datatype text ( 14 )
	      prompt_type choose
	      choose_type TEST_STAT ;

	field icon
	      links_to icon . identity ;

table lab_rack_icon_expression ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 100 ) ;

	field icon
	      links_to icon . identity ;

table lab_rack_overlay_expression ;

	field lab_rack_icon_id
	      used_for unique_key
	      datatype guid ;

	field lab_rack_template_id
	      links_to parent lab_rack_template . lab_rack_template_id as lab_rack_template
	      used_for unique_key ;

	field lab_alias_version
	      links_to parent lab_rack_template . lab_rack_template_version as lab_rack_template
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 100 ) ;

	field icon
	      links_to icon . identity ;

table retain_test_plan ;

	field identity
	      used_for unique_key, display_browse ( 1 )
	      datatype identity ( 20 ) ;

	field version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field test_frequency
	      datatype text ( 500 )
	      default 'TIME=(0:00)' ;

	field test_schedule_id
	      links_to test_sched_header . identity as test_schedule ;

	field test_workflow_id
	      links_to workflow . workflow_guid as test_workflow ;

	field test_workflow_version
	      links_to workflow . workflow_version as test_workflow ;

	field sample_workflow_id
	      links_to workflow . workflow_guid as sample_workflow ;

	field sample_workflow_version
	      links_to workflow . workflow_version as sample_workflow ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field pre_schedule
	      datatype interval
	      default '0000 0' ;

	field use_latest_version
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;
		  
{=====================================}
{Stores components for various schemas}
{=====================================}
table schema_layout ;
	field schema_guid
		used_for unique_key
		datatype guid ;

	field schema_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
		used_for primary_browse, name
		datatype text (100);

	field group_id
		links_to group_header . identity 
		used_for security_id;

	field description
		used_for display_browse ( 3 )
		datatype text (255);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field removeflag
		used_for remove_flag
		datatype boolean;

	field custom_icon
		links_to icon . identity 
		default 'SCHEMA';

	field icon_overlay
		links_to icon . identity ;

	field comments_a
		datatype text (4000);

	field comments_b
		datatype text (4000);

	field comments_c
		datatype text (4000);

	field comments_d
		datatype text (4000);

	field comments_e
		datatype text (4000);

	field comments_f
		datatype text (4000);

	field comments_g
		datatype text (4000);

	field comments_h
		datatype text (4000);

	field comments_i
		datatype text (4000);

	field comments_j
		datatype text (4000);

	field comments_k
		datatype text (4000);

	field comments_l
		datatype text (4000);

	field comments_m
		datatype text (4000);

	field comments_n
		datatype text (4000);

	field comments_o
		datatype text (4000);

	field comments_p
		datatype text (4000);

	field comments_q
		datatype text (4000);

	field comments_r
		datatype text (4000);

	field comments_s
		datatype text (4000);

	field comments_t
		datatype text (4000);

	field comments_u
		datatype text (4000);

	field comments_v
		datatype text (4000);

	field comments_w
		datatype text (4000);

	field comments_x
		datatype text (4000);

	field comments_y
		datatype text (4000);

	field comments_z
		datatype text (4000);

	field eof_comment
		datatype text (1024);

	field dbase_is_oracle
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field dbase_is_sqlserver
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field packed_decimal_as_integer
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field use_nvarchar
		datatype boolean
		default 'N'
		true_word 'Y'
		false_word 'N';

	field minimum_date
		datatype date;

	field sql_collation
		datatype text (32);

	field sql_collation_case_sensitive
		datatype text (32);

	field td_location_oracle
		datatype text (32);

	field td_location_sql_server
		datatype text (32);

	field td_location_ingres
		datatype text (32);

	field td_location_rdb
		datatype text (32);

	field id_location_sql_server
		datatype text (32);

	field id_location_oracle
		datatype text (32);

	field id_location_ingres
		datatype text (32);

	field id_location_rdb
		datatype text (32);
		
	field supported_languages
		datatype text ( 256 );
	
	field default_language
		datatype text ( 10 );

	field auto_translate_name
		datatype boolean;
	
	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;
		  
	field approval_status
		used_for display_browse ( 4 ), approval_status
		datatype text (1)
		default 'A'
		prompt_type choose
			choose_type APPR_STAT;

	field inspection_plan
		links_to inspection_header . identity 
		used_for inspection;

	field entity_icons
		datatype boolean;

	field has_attachments
		used_for has_attachments
		datatype boolean;

table schema_table ;
	field schema_guid
		links_to parent  schema_layout . schema_guid  as schema_layout
		used_for unique_key;

	field schema_version
		links_to parent  schema_layout . schema_version  as schema_layout
		used_for unique_key, display_browse ( 1 ), version_number;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field active
		used_for active_flag
		datatype boolean
		default 'True'
		true_word 'True'
		false_word 'False';

	field active_from
		used_for active_start_date
		datatype date;

	field active_to
		used_for active_end_date
		datatype date;

	field has_attachments
		used_for has_attachments
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field comments
		datatype text (4000);

	field read_only
		datatype boolean;

	field unmanaged
		datatype boolean;

	field no_index
		datatype boolean;

	field no_buffer
		datatype boolean;

	field insert_audit
		datatype integer
		default 2;

	field modify_audit
		datatype integer
		default 2;

	field delete_audit
		datatype integer
		default 2;

	field full_description
		datatype text (256);

	field aliases
		datatype text (256);

	field physical_name
		datatype text (100);

	field data_source
		datatype text (100);

	field table_set
		datatype text (100);

	field renamed_table
		datatype text (100);

	field prompt_description
		datatype text (100);

	field parent_table_guid
		links_to schema_table . schema_guid  as parent_table;

	field parent_table_version
		links_to schema_table . schema_version  as parent_table;

	field parent_table_id
		links_to schema_table . identity  as parent_table;
		
	field sqlserver_specific
		datatype text (500);

	field oracle_specific
		datatype text (500);

	field sqlserver_location
		datatype text (500);

	field oracle_location
		datatype text (500);

table schema_sequence ;
	field schema_guid
		links_to parent  schema_layout . schema_guid  as schema_layout
		used_for unique_key;

	field schema_version
		links_to parent  schema_layout . schema_version  as schema_layout
		used_for unique_key, display_browse ( 1 ), version_number;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field order_number
		used_for ordering
		datatype packed_decimal;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field comments
		datatype text (4000);

	field major_key
		datatype text (50);

	field minor_key
		datatype text (50);

table schema_table_collection ;
	field schema_guid
		links_to parent  schema_table . schema_guid  as schema_table
		used_for unique_key, primary_browse;

	field schema_version
		links_to parent  schema_table . schema_version  as schema_table
		used_for unique_key, display_browse ( 1 ), version_number;

	field table_id
		links_to parent  schema_table . identity  as schema_table
		used_for unique_key;

	field identity
		used_for unique_key
		datatype identity (40);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field link_table_guid
		links_to schema_table_field . schema_guid  as link_field;

	field link_table_version
		links_to schema_table_field . schema_version  as link_field;

	field link_table_id
		links_to schema_table_field . table_id  as link_field;

	field link_field_id
		links_to schema_table_field . identity  as link_field;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field comments
		datatype text (512);

table schema_table_index ;
	field schema_guid
		links_to parent  schema_table . schema_guid  as schema_table
		used_for unique_key, primary_browse;

	field schema_version
		links_to parent  schema_table . schema_version  as schema_table
		used_for unique_key, display_browse ( 1 ), version_number;

	field table_id
		links_to parent  schema_table . identity  as schema_table
		used_for unique_key;

	field identity
		used_for unique_key
		datatype identity (40);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field fields
		datatype text (512);

	field is_unique
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field comments
		datatype text (512);

	field sqlserver_specific
		datatype text (500);

	field oracle_specific
		datatype text (500);

	field sqlserver_location
		datatype text (500);

	field oracle_location
		datatype text (500);

table schema_table_field ;
	field schema_guid
		links_to parent  schema_table . schema_guid  as schema_table
		used_for unique_key;

	field schema_version
		links_to parent  schema_table . schema_version  as schema_table
		used_for unique_key, display_browse ( 1 ), version_number;

	field table_id
		links_to parent  schema_table . identity  as schema_table
		used_for unique_key;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field order_number
		used_for ordering
		datatype packed_decimal;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field field_type
		datatype text (30);

	field comments
		datatype text (512);

	field aliases
		datatype text (256);

	field textual_length
		datatype integer
		default 10
		format 9999999999;

	field descending
		datatype boolean;

	field link_table_guid
		links_to schema_table_field . schema_guid  as link_field;

	field link_table_version
		links_to schema_table_field . schema_version  as link_field;

	field link_table_id
		links_to schema_table_field . table_id  as link_field;

	field link_field_id
		links_to schema_table_field . identity  as link_field;

	field link_name
		datatype text (100);

	field prompt_description
		datatype text (256);

	field read_only
		datatype boolean;

{needs to be converted from string to target type}
	field default_field_value
		datatype text (100);

	field phrase_type
		datatype text (100);

	field phrase_identities
		datatype boolean;

	field phrase_display_description
		datatype boolean;

	field prompt_type
		datatype text (40)
		prompt_type choose
			choose_type SF_PHTYPE;

	field phrase_is_choose
		datatype boolean;

	field phrase_is_valid
		datatype boolean;
	
	field phrase_no_identities
		datatype boolean;

	field prompt_library
		datatype text (100);

	field prompt_routine
		datatype text (100);

	field true_word
		datatype text (234);

	field false_word
		datatype text (234);

	field allowed_chars
		datatype text (512);

	field upper_limit
		datatype text (32);

	field lower_limit
		datatype text (32);

	field override
		datatype boolean;

	field format
		datatype text (100);

	field case_sensitive
		datatype boolean;

	field is_guid
		datatype boolean;

	field is_key
		datatype boolean;

	field valid_reference
		datatype boolean;

	field links_to_parent
		datatype boolean;

{fields in table object model need to be virtual using values below}
	field is_modifiable_field
		datatype boolean;

	field is_modified_on_field
		datatype boolean;

	field is_modified_by_field
		datatype boolean;

	field is_group_field
		datatype boolean;

	field is_order_field
		datatype boolean;

	field is_version_field
		datatype boolean;

	field is_approval_status_field
		datatype boolean;

	field is_inspection_field
		datatype boolean;

	field is_browse_field
		datatype boolean;

	field browse_order
		datatype integer
		format 9999999999;

	field is_primary_browse
		datatype boolean;

	field is_active_flag_field
		datatype boolean;

	field is_active_start_date_field
		datatype boolean;

	field is_active_end_date_field
		datatype boolean;

	field is_name_field
		datatype boolean;

	field is_remove_flag
		datatype boolean;

	field is_has_attachments_field
		datatype boolean;
	
	field audit_mode
		datatype integer
		default 2;

	field is_assignable_flag
		datatype boolean;

	field is_full_description
		datatype boolean;
	
	field is_translatable
		datatype boolean;

	field is_translation
		datatype boolean;

table schema_view ;
	field schema_guid
		links_to parent  schema_layout . schema_guid  as schema_layout
		used_for unique_key, primary_browse;

	field schema_version
		links_to parent  schema_layout . schema_version  as schema_layout
		used_for unique_key, display_browse ( 1 ), version_number;

	field identity
		used_for unique_key
		datatype identity (40);

	field active
		used_for active_flag
		datatype boolean
		default 'True'
		true_word 'True'
		false_word 'False';

	field active_from
		used_for active_start_date
		datatype date;

	field active_to
		used_for active_end_date
		datatype date;

	field has_attachments
		used_for has_attachments
		datatype boolean;

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field comments
		datatype text (512);

	field read_only
		datatype boolean;

	field unmanaged
		datatype boolean;

	field no_index
		datatype boolean;

	field no_buffer
		datatype boolean;

	field full_description
		datatype text (256);

	field aliases
		datatype text (256);

	field physical_name
		datatype text (100);

	field data_source
		datatype text (100);

	field table_set
		datatype text (100);

	field renamed_table
		datatype text (100);

	field prompt_description
		datatype text (100);

	field select_clause_a
	      datatype text (4000);

	field select_clause_b
	      datatype text (4000);

	field select_clause_c
	      datatype text (4000);

	field select_clause_d
	      datatype text (4000);

	field select_clause_e
	      datatype text (4000);

	field select_clause_f
	      datatype text (4000);

	field select_clause_g
	      datatype text (4000);

	field select_clause_h
	      datatype text (4000);

	field select_clause_i
	      datatype text (4000);

	field select_clause_j
	      datatype text (4000);

	field oracle_select_clause_a
	      datatype text (4000);

	field oracle_select_clause_b
	      datatype text (4000);

	field oracle_select_clause_c
	      datatype text (4000);

	field oracle_select_clause_d
	      datatype text (4000);

	field oracle_select_clause_e
	      datatype text (4000);

	field oracle_select_clause_f
	      datatype text (4000);

	field oracle_select_clause_g
	      datatype text (4000);

	field oracle_select_clause_h
	      datatype text (4000);

	field oracle_select_clause_i
	      datatype text (4000);

	field oracle_select_clause_j
	      datatype text (4000);

	field sql_server_select_clause_a
	      datatype text (4000);

	field sql_server_select_clause_b
	      datatype text (4000);

	field sql_server_select_clause_c
	      datatype text (4000);

	field sql_server_select_clause_d
	      datatype text (4000);

	field sql_server_select_clause_e
	      datatype text (4000);

	field sql_server_select_clause_f
	      datatype text (4000);

	field sql_server_select_clause_g
	      datatype text (4000);

	field sql_server_select_clause_h
	      datatype text (4000);

	field sql_server_select_clause_i
	      datatype text (4000);

	field sql_server_select_clause_j
	      datatype text (4000);

	field parent_table_guid
		links_to schema_table . schema_guid  as parent_table;

	field parent_table_version
		links_to schema_table . schema_version  as parent_table;

	field parent_table_id
		links_to schema_table . identity  as parent_table;



table schema_view_field ;
	field schema_guid
		links_to parent  schema_view . schema_guid  as schema_view
		used_for unique_key;

	field schema_version
		links_to parent  schema_view . schema_version  as schema_view
		used_for unique_key, display_browse ( 1 ), version_number;

	field view_id
		links_to parent  schema_view . identity  as schema_view
		used_for unique_key;

	field identity
		used_for unique_key, primary_browse
		datatype identity (40);

	field modified_on
		used_for modified_on
		datatype date;

	field modified_by
		links_to personnel . identity 
		used_for modified_by;

	field modifiable
		used_for modifiable
		datatype boolean;

	field order_number
		used_for ordering
		datatype packed_decimal;

	field field_type
		datatype text (30);

	field comments
		datatype text (512);

	field aliases
		datatype text (256);

	field textual_length
		datatype integer
		default 10
		format 9999999999;

	field descending
		datatype boolean;

	field link_table_guid
		links_to schema_table_field . schema_guid  as link_field;

	field link_table_version
		links_to schema_table_field . schema_version  as link_field;

	field link_table_id
		links_to schema_table_field . table_id  as link_field;

	field link_field_id
		links_to schema_table_field . identity  as link_field;

	field link_name
		datatype text (100);

	field prompt_description
		datatype text (256);

	field read_only
		datatype boolean;

{needs to be converted from string to whatever}
	field default_field_value
		datatype text (100);

	field phrase_type
		datatype text (100);

	field phrase_identities
		datatype boolean;

	field phrase_display_description
		datatype boolean;

	field prompt_type
		datatype text (40)
		prompt_type choose
			choose_type SF_PHTYPE;

	field phrase_is_choose
		datatype boolean;

	field phrase_is_valid
		datatype boolean;

	field prompt_library
		datatype text (100);

	field prompt_routine
		datatype text (100);

	field true_word
		datatype text (234);

	field false_word
		datatype text (234);

	field allowed_chars
		datatype text (512);

	field upper_limit
		datatype text (32);

	field lower_limit
		datatype text (32);

	field override
		datatype boolean;

	field format
		datatype text (100);

	field case_sensitive
		datatype boolean;

	field is_guid
		datatype boolean;

	field is_key
		datatype boolean;

	field valid_reference
		datatype boolean;

	field links_to_parent
		datatype boolean;

{fields in table object model need to be virtual using values below}
	field is_modifiable_field
		datatype boolean;

	field is_modified_on_field
		datatype boolean;

	field is_modified_by_field
		datatype boolean;

	field is_group_field
		datatype boolean;

	field is_order_field
		datatype boolean;

	field is_version_field
		datatype boolean;

	field is_approval_status_field
		datatype boolean;

	field is_inspection_field
		datatype boolean;

	field is_browse_field
		datatype boolean;

	field browse_order
		datatype integer
		format 9999999999;

	field is_active_flag_field
		datatype boolean;

	field is_active_start_date_field
		datatype boolean;

	field is_active_end_date_field
		datatype boolean;

	field is_name_field
		datatype boolean;

	field is_remove_flag
		datatype boolean;

	field is_has_attachments_field
		datatype boolean;

	field is_primary_browse
		datatype boolean;

table cert_template ;

	field cert_template_id
	      datatype guid
	      used_for unique_key ;

	field cert_template_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field certificate_type
	      datatype identity 
	      prompt_type choose
	      used_for display_browse ( 2 )
	      default 'SAMPLE'
	      choose_type CERT_TYPE ;

	field style
	      datatype identity
	      prompt_type choose
	      choose_type CERT_STYL
	      used_for display_browse ( 3 )
	      default 'GENERAL' ;

	field name_expression
	      datatype text ( 500 )
	      default 'Syntax("CERT_NAME")' ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description 
	      datatype text ( 255 )
	      used_for display_browse ( 4 ) ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable 
	      datatype boolean
	      used_for modifiable ;

	field removeflag
	      datatype boolean
	      used_for remove_flag ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;
	      
	field active_from
	      datatype date
	      used_for active_start_date;
	      
	field active_to
	      datatype date
	      used_for active_end_date;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field certificate_inspection_plan
	      links_to inspection_header . identity ;

	field filter_lot
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field filter_job
	      datatype text ( 500 )
	      default '[JobStatus]=="A"' ;

	field filter_sample
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field filter_test
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field filter_result
	      datatype text ( 500 )
	      default '[Status]=="A"' ;

	field entity_template_id
	      links_to entity_template . identity as entity_template 
	      default 'DEFAULT_CERT' ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;

	field entry_template_id
	      links_to entity_template . identity as entry_template
	      default 'DEFAULT_CERT_RESULT' ;

	field entry_template_version
	      links_to entity_template . entity_template_version as entry_template
	      default '         1' ;

	field report_template_id
	      links_to report_template . identity as report_template
	      default 'CERT_DEFAULT' ;

	field report_template_version
	      links_to report_template . version as report_template
	      default '         1' ;

	field certificate_workflow_id
	      links_to workflow . workflow_guid as certificate_workflow
	      default '405CB4A9-C1F1-4E11-9151-939A18B7462C' ;

	field certificate_workflow_version
	      links_to workflow . workflow_version as certificate_workflow
	      default '         1' ;

	field lab_alias_id
	      links_to lab_alias . lab_alias_id as lab_alias ;

	field lab_alias_version
	      links_to lab_alias . lab_alias_version as lab_alias 
	      default '         1' ;

	field initial_status
	      datatype identity
	      prompt_type choose
	      choose_type CERT_SSTAT
	      default 'D' ;

	field fill_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_FILLM
	      default 'ALL' ;

	field load_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_LOADM
	      default 'ALL' ;

	field reported_name_expression
	      datatype text ( 500 )
	      default '[ResultName]' ;

	field reported_value_expression
	      datatype text ( 500 )
	      default '[Text]' ;

	field reported_limit_expression
	      datatype text ( 500 )
	      default '[FormattedLimits]' ;

	field reported_units_expression
	      datatype text ( 500 )
	      default '[Units]' ;

	field reported_analysis_expression
	      datatype text ( 500 )
	      default '[FormattedAnalysis]' ;

	field lot_criteria_id
	      links_to criteria_saved . identity as lot_criteria
	      default 'AUTHORIZED' ;

	field lot_criteria_table
	      links_to criteria_saved . table_name as lot_criteria
	      default 'LOT_DETAILS' ;

	field job_criteria_id
	      links_to criteria_saved . identity as job_criteria
	      default 'AUTHORIZED' ;

	field job_criteria_table
	      links_to criteria_saved . table_name as job_criteria
	      default 'JOB_HEADER' ;

	field sample_criteria_id
	      links_to criteria_saved . identity as sample_criteria
	      default 'AUTHORIZED' ;

	field sample_criteria_table
	      links_to criteria_saved . table_name as sample_criteria
	      default 'SAMPLE' ;

	field test_criteria_id
	      links_to criteria_saved . identity as test_criteria
	      default 'AUTHORIZED' ;

	field test_criteria_table
	      links_to criteria_saved . table_name as test_criteria
	      default 'TEST' ;

	field results_read_only
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

	field allow_add_lot
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field allow_add_job
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field allow_add_sample
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field allow_add_test
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field product_id
	      links_to mlp_header . identity as product ;

	field product_version
	      links_to mlp_header . product_version as product 
	      default '         1' ;

	field grade_code
	      links_to mlp_level . level_id ;

	field customer
	      links_to customer . identity ;

	field language
	      links_to language . identity ;

	field add_subsamples
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

table cert_template_entry ;

	field cert_template_id
	      links_to parent cert_template . cert_template_id as cert_template
	      used_for unique_key ;

	field cert_template_version
	      links_to parent cert_template . cert_template_version as cert_template
	      default '         1'
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis 
	      default '         1' ;

	field component_name
	      links_to versioned_component . name ;

	field reported_name_expression
	      datatype text ( 500 ) ;

	field reported_value_expression
	      datatype text ( 500 ) ;

	field reported_limit_expression
	      datatype text ( 500 ) ;

	field reported_units_expression
	      datatype text ( 500 ) ;

	field reported_analysis_expression
	      datatype text ( 500 ) ;

	field custom
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field mandatory
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

table cert ;

	field certificate_id
	      datatype guid
	      used_for unique_key ;

	field certificate_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field certificate_type
	      datatype identity 
	      prompt_type choose
	      used_for display_browse ( 2 )
	      default 'SAMPLE'
	      choose_type CERT_TYPE ;

	field style
	      datatype identity
	      prompt_type choose
	      choose_type CERT_STYL
	      used_for display_browse ( 3 ) ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field cert_template_id
	      links_to cert_template . cert_template_id as certificate_template ;

	field cert_template_version
	      links_to cert_template . cert_template_version as certificate_template 
	      default '         1' ;

	field cert_template_name
	      datatype text ( 100 ) ;

	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      links_to entity_template . entity_template_version as entity_template
	      default '         1' ;

	field entry_template_id
	      links_to entity_template . identity as entry_template ;

	field entry_template_version
	      links_to entity_template . entity_template_version as entry_template
	      default '         1' ;

	field report_template_id
	      links_to report_template . identity as report_template ;

	field report_template_version
	      links_to report_template . version as report_template
	      default '         1' ;

	field certificate_blob
	      links_to blob_values . blob_id ;

	field status
	      datatype identity
	      prompt_type choose
	      choose_type CERT_STAT
	      used_for display_browse ( 4 )
	      default 'D' ;

	field date_created
	      datatype date 
	      default '0' ;

	field created_by
	      links_to personnel . identity ;

	field modified_on 
	      datatype date 
	      used_for modified_on ;

	field modified_by 
	      links_to personnel . identity
	      used_for modified_by ;

	field authorized_on 
	      datatype date ;

	field authorized_by
	      links_to personnel . identity ;

	field canceled_on 
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field workflow_node
	      default 'CCA9E1C0-EDCD-44B6-AAC8-1A1555A33B20'
	      links_to workflow_node . workflow_node_guid ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 5 ) , approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field fill_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_FILLM
	      default 'ALL' ;

	field load_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_LOADM
	      default 'ALL' ;

	field product_id
	      links_to mlp_header . identity as product ;

	field product_version
	      links_to mlp_header . product_version as product 
	      default '         1' ;

	field grade_code
	      links_to mlp_level . level_id ;

	field customer
	      links_to customer . identity ;

	field language
	      links_to language . identity ;

	field comments
	      datatype text ( 500 )
	      default NULL ;

	field limit_check_failed 
	      datatype boolean ;

table cert_entry ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate 
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field table_name
	      datatype identity ( 50 ) ;

	field record_key0
	      datatype text ( 500 )
	      case_sensitive ;

	field fill_mode
	      datatype identity
	      prompt_type choose
	      choose_type CERT_FILLM ;

	field include_children
	      datatype boolean ;

	field valid_only
	      datatype boolean ;

table cert_lot ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate 
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_lot_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_job ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_job_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_sample ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_sample_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field sample
	      links_to sample . id_numeric ;

	field id_numeric
	      datatype packed_decimal ;

	field id_text
	      datatype identity ( 30 ) ;

	field sampled_date
	      datatype date ;

	field recd_date
	      datatype date ;

	field dateresreq
	      datatype date ;

	field dateresavail
	      datatype date ;

	field date_authorised
	      datatype date ;

	field authoriser
	      links_to personnel . identity ;

	field authorisation_notes
	      datatype text ( 234 )
	      prompt_type phrase
	      phrase_type authsamp ;

	field product
	      links_to mlp_header . identity as product_link ;

	field product_version
	      links_to mlp_header . product_version as product_link ;

	field grade_code
	      links_to mlp_level . level_id ;

	field sampling_point
	      links_to sample_point . identity ;

	field sample_type
	      datatype identity
	      prompt_type phrase
	      valid
	      identities
	      phrase_type SAMP_TYPE ;

	field priority
	      datatype integer
	      format 999 ;

	field certificate_job_id
	      links_to cert_job . certificate_job_id ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_test ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_test_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field sample
	      links_to sample . id_numeric ;

	field test
	      links_to test . test_number ;

	field certificate_sample_id
	      links_to cert_sample . certificate_sample_id ;

	field certificate_job_id
	      links_to cert_job . certificate_job_id ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

table cert_result ;

	field certificate_id
	      links_to parent cert . certificate_id as certificate
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert . certificate_version as certificate
	      default '         1'
	      used_for unique_key ;

	field certificate_result_id
	      datatype guid
	      used_for unique_key ;

	field order_number
	      datatype packed_decimal
	      used_for ordering ;

	field lot
	      links_to lot_details . lot_id ;

	field job
	      links_to job_header . job_name ;

	field sample
	      links_to sample . id_numeric ;

	field test
	      links_to result . test_number as result ;

	field result_name
	      links_to result . name as result ;

	field analysis_id
	      links_to versioned_analysis . identity as analysis ;

	field analysis_version
	      links_to versioned_analysis . analysis_version as analysis ;

	field reported_name
	      datatype text ( 500 ) ;

	field reported_value
	      datatype text ( 500 ) ;

	field reported_limits
	      datatype text ( 500 ) ;

	field reported_units
	      datatype text ( 500 ) ;

	field reported_analysis
	      datatype text ( 500 ) ;

	field certificate_test_id
	      links_to cert_test . certificate_test_id ;

	field certificate_sample_id
	      links_to cert_sample . certificate_sample_id ;

	field certificate_job_id
	      links_to cert_job . certificate_job_id ;

	field certificate_lot_id
	      links_to cert_lot . certificate_lot_id ;

	field mandatory
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'No' ;

	field result_type 
	      datatype text ( 1 ) ;

	field units 
	      datatype text ( 40 ) ;

	field value 
	      datatype real ;

	field text
	      datatype text ( 234 ) ;

	field places 
	      datatype integer ;

	field out_of_range
	      datatype boolean ;

	field comments 
	      datatype text ( 234 )
	      default NULL ;

	field limit_check_failed 
	      datatype boolean ;

table cert_result_limit ;

	field certificate_id
	      links_to parent cert_result . certificate_id as certificate_result
	      used_for unique_key ;

	field certificate_version
	      links_to parent cert_result . certificate_version as certificate_result
	      default '         1'
	      used_for unique_key ;

	field certificate_result_id
	      links_to parent cert_result . certificate_result_id as certificate_result
	      used_for unique_key ;

	field level_id
	      links_to mlp_level . level_id 
	      used_for unique_key ;

	field limit_check_failed
	      datatype boolean ;

	field min_limit
	      datatype text ( 234 ) ;

	field max_limit
	      datatype text ( 234 ) ;

table plate_appearance ;

	field plate_appearance_id
	      used_for unique_key
	      datatype guid ;

	field plate_appearance_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field remove_flag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field cell_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field cell_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field column_heading_height
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field row_heading_width
	      datatype integer
	      lower_limit 1
	      default 50 ;

	field icon_size
	      datatype integer
	      lower_limit 1
	      default 32 ;

	field empty_icon
	      links_to icon . identity
	      default 'WELL_EMPTY' ;

	field no_slot_icon
	      links_to icon . identity
	      default 'INT_BLANK' ;

	field size_mode
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type PLATE_SIZE
	      default  'N' ;

	field plate_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_FFFFFF' ;

	field focused_color
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type COLOR
	      default 'RGB_A9A9A9' ;

	field show_count_overlay
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True' ;

	field well_expression datatype text ( 500 )
	      default NULL ;

table plate_appearance_icon ;

	field plate_appearance_icon_id
	      used_for unique_key
	      datatype guid ;

	field plate_appearance_id
	      links_to parent plate_appearance . plate_appearance_id as plate_appearance
	      used_for unique_key ;

	field plate_appearance_version
	      links_to parent plate_appearance . plate_appearance_version as plate_appearance
	      default '         1'
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 500 ) ;

	field icon
	      links_to icon . identity ;

table plate_appearance_overlay ;

	field plate_appearance_overlay_id
	      used_for unique_key
	      datatype guid ;

	field plate_appearance_id
	      links_to parent plate_appearance . plate_appearance_id as plate_appearance
	      used_for unique_key ;

	field plate_appearance_version
	      links_to parent plate_appearance . plate_appearance_version as plate_appearance
	      default '         1'
	      used_for unique_key ;

	field order_number
	      used_for ordering
	      datatype packed_decimal ;

	field expression
	      used_for unique_key
	      datatype text ( 500 ) ;

	field icon
	      links_to icon . identity ;

table plate_fill_order ;

	field plate_fill_order_id
	      used_for unique_key
	      datatype guid ;

	field plate_fill_order_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field fill_order
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type PLATE_FILL
	      used_for display_browse ( 1 )
	      default 'LTRTTB' ;

	field plate_type_id
	      links_to plate_type . plate_type_id as plate_type ;

	field plate_type_version
	      default '         1'
	      links_to plate_type . plate_type_version as plate_type ;

	field available_positions
	      datatype integer ;

table plate_fill_order_entry ;

	field plate_fill_order_id
	      used_for unique_key, display_browse ( 1 )
	      links_to parent plate_fill_order . plate_fill_order_id as plate_fill_order ;

	field plate_fill_order_version
	      used_for unique_key, display_browse ( 2 )
	      default '         1'
	      links_to parent plate_fill_order . plate_fill_order_version as plate_fill_order ;

	field order_number 
	      datatype packed_decimal
	      used_for ordering, unique_key ;

	field position
	      datatype integer ;

table plate_type ;

	field plate_type_id
	      used_for unique_key, display_browse ( 1 )
	      datatype guid ;

	field plate_type_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 2 ) ;

	field name
	      used_for primary_browse, name
	      datatype text ( 100 ) ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      used_for display_browse ( 3 )
	      datatype text ( 255 ) ;

	field modified_on
	      used_for modified_on
	      datatype date ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      used_for modifiable
	      datatype boolean ;

	field removeflag
	      used_for remove_flag
	      datatype boolean ;

	field active
	      datatype boolean
	      true_word 'True'
	      false_word 'False'
	      default 'True'
	      used_for active_flag ;

	field active_from
	      datatype date
	      used_for active_start_date ;

	field active_to
	      datatype date
	      used_for active_end_date ;

	field has_attachments
	      used_for has_attachments
	      datatype boolean ;

	field approval_status
	      datatype text ( 1 )
	      used_for display_browse ( 4 ), approval_status
	      default 'A'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field number_of_rows
	      datatype integer
	      lower_limit 1
	      default 8 ;

	field number_of_columns
	      datatype integer
	      lower_limit 1
	      default 12 ;

	field row_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type PLATE_LABL
	      default 'A' ;

	field custom_row_labels
	      datatype text ( 100 ) ;

	field column_label
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type PLATE_LABL
	      default 'N' ;

	field custom_column_labels
	      datatype text ( 100 ) ;

	field stock
	      links_to stock . identity ;

table plate ;

	field plate_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field plate_type_id
	      links_to plate_type . plate_type_id as plate_type ;

	field plate_type_version
	      default '         1'
	      links_to plate_type . plate_type_version as plate_type ;

	field plate_type_name
	      datatype text ( 100 ) 
	      used_for display_browse ( 1 ) ;

	field plate_fill_order_id
	      links_to plate_fill_order . plate_fill_order_id as plate_fill_order ;

	field plate_fill_order_version
	      default '         1'
	      links_to plate_fill_order . plate_fill_order_version as plate_fill_order ;

	field plate_appearance_id
	      links_to plate_appearance . plate_appearance_id as plate_appearance ;

	field plate_appearance_version
	      default '         1'
	      links_to plate_appearance . plate_appearance_version as plate_appearance ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description 
	      datatype text ( 255 )
	      used_for display_browse ( 3 ) ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field inspection_plan
	      links_to inspection_header . identity
	      used_for inspection ;

	field workflow_node
	      default 'D3C12E08-28E8-4131-88B5-EE3534AD38B7'
	      links_to workflow_node . workflow_node_guid ;

	field location_id
	      links_to location . identity as location ;

	field status
	      datatype text ( 1 )
	      used_for display_browse ( 2 )
	      prompt_type choose
	      choose_type PLATE_STAT ;

	field old_status
	      datatype text ( 1 )
	      prompt_type choose
	      choose_type PLATE_STAT ;

	field approval_status
	      datatype text ( 1 )
	      used_for approval_status
	      default 'V'
	      prompt_type choose
	      choose_type APPR_STAT ;

	field stock_id
	      links_to stock_batch . stock as stock_batch ;

	field stock_batch_id
	      links_to stock_batch . stock_batch as stock_batch ;

	field entity_template_id
	      links_to entity_template . identity as entity_template ;

	field entity_template_version
	      default '         1'
	      links_to entity_template . entity_template_version as entity_template ;

	field comments
	      datatype text ( 255 )
	      default NULL ;

	field login_on
	      datatype date
	      default '0' ;

	field login_by
	      links_to personnel . identity ;

	field authorized_on 
	      datatype date ;

	field authorized_by
	      links_to personnel . identity ;

	field canceled_on 
	      datatype date ;

	field canceled_by
	      links_to personnel . identity ;

	field completed_on 
	      datatype date ;

	field completed_by
	      links_to personnel . identity ;

	field disposed_on 
	      datatype date ;

	field disposed_by
	      links_to personnel . identity ;

table plate_parameter ;

	field plate_id
	      links_to parent plate . plate_id as plate
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_rounding
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table batch_header_parameter ;

	field batch_id
	      links_to parent batch_header . identity as batch_header
	      used_for unique_key, display_browse ( 1 ) ;

	field parameter_id
	      datatype guid
	      used_for unique_key ;

	field parameter_name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field parameter_type
	      links_to parameter_type . identity  as parameter_type ;

	field value
	      datatype text ( 255 ) ;

	field default_value
	      datatype text ( 255 ) ;

	field category
	      datatype identity
	      prompt_type choose
	      choose_type LE_PCATG ;

	field units
	      links_to unit_header . identity ;

	field places
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field table_name
	      datatype text ( 50 ) ;

	field phrase_type_id
	      links_to phrase_header . identity ;

	field minimum
	      datatype text ( 500 ) ;

	field maximum
	      datatype text ( 500 ) ;

	field target_value
	      datatype real ;

	field entered_on
	      datatype date ;

	field entered_by
	      links_to personnel . identity ;

	field out_of_range
	      datatype boolean ;

	field criteria
	      links_to criteria_saved . identity ;

	field validation_criteria
	      links_to criteria_saved . identity ;

	field true_word
	      datatype text ( 10 ) ;

	field false_word
	      datatype text ( 10 ) ;

	field target_boolean
	      datatype identity
	      prompt_type choose
	      default 'N'
	      choose_type LE_PBOOL ;

	field raw_value
	      datatype text ( 500 ) ;

	field date_value
	      datatype date ;

	field phrase_valid_only
	      datatype boolean ;

	field rounding_formula
	      datatype text ( 500 )
	      default NULL ;

	field sig_figs_number
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_rounding
	      datatype integer
	      lower_limit -1
	      upper_limit 9 ;

	field sig_figs_filter
	      links_to sig_figs . identity ;

table location_favorite ;

	field favorite_id
	      used_for unique_key
	      datatype guid ;
		  
	field personnel_id
	      links_to parent  personnel . identity  as locationfavorites
	      used_for unique_key;

	field order_number
	      used_for ordering
	      datatype packed_decimal;

	field location
	      links_to location . identity ;

{*************************************************}
{ Tables for Data Manager                         }
{*************************************************}

table dm_rule_template ;

	field dm_rule_template_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field key_file_spec
	      datatype text ( 255 ) ;

	field package_class
	      datatype text ( 255 ) ;

	field package_progid
	      datatype text ( 255 ) ;

	field upload_rule
	      datatype text ( 4000 ) ;

	field converter_class
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVCLASS ;

	field converter_name
	      datatype text ( 255 ) ;

	field converter_extension
	      datatype text ( 255 ) ;

table dm_capture_interval ;

	field dm_capture_interval_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field package_interval
	      datatype interval
	      lower_limit '0 00:00:00.00' ;

	field package_file_event
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMFILEST ;

	field delete_after_package
	      datatype boolean ;

	field delete_interval
	      datatype interval
	      lower_limit '0 00:00:00.00' ;

	field delete_file_event
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMDELST ;

	field delete_dir
	      datatype boolean ;

table dm_data_package ;

	field dm_data_package_id
	      datatype guid
	      used_for unique_key ;

	field dm_data_package_version
	      datatype packed_decimal
	      default '         1'
	      used_for unique_key, version_number, display_browse ( 1 ) ;

	field name
	      datatype text ( 255 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 2 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field dm_data_destination_id
	      links_to dm_data_destination . dm_data_destination_id as dm_data_destination ;

	field dm_packaging_rule_id
	      links_to dm_packaging_rule . dm_packaging_rule_id as dm_packaging_rule ;

	field computer_name
	      datatype text ( 255 ) ;

	field data_package_file
	      datatype text ( 255 ) ;

	field key_file_name
	      datatype text ( 255 ) ;

	field first_file_created_date
	      datatype date ;

	field last_file_modified_date
	      datatype date ;

	field packaged_on
	      datatype date ;

	field data_package_file_checksum
	      datatype text ( 255 ) ;

	field data_package_file_size
	      datatype integer ;

	field status
	      datatype text (1)
	      used_for display_browse ( 3 )
	      prompt_type choose
	      choose_type DMPACKSTAT ;

	field capture_source_name	
	      datatype text ( 100 ) ;

	field has_neutral_file
	      datatype boolean ;

	field neutral_file_name	
	      datatype text ( 255 ) ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

table dm_data_package_file ;

	field dm_data_package_id
	      links_to parent dm_data_package . dm_data_package_id as dm_data_package 
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_package . dm_data_package_version as dm_data_package 
	      used_for unique_key ;

	field dm_data_package_file_id
	      datatype guid
	      used_for unique_key ;

	field file_name
	      datatype text ( 255 ) ;

	field file_created_date
	      datatype date ;

	field file_modified_date
	      datatype date ;

	field packaged_on
	      datatype date ;

	field deleted_on
	      datatype date ;

	field file_size
	      datatype integer ;

table dm_data_item ;

	field dm_data_package_id
	      links_to parent dm_data_package . dm_data_package_id as dm_data_package 
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_package . dm_data_package_version as dm_data_package 
	      used_for unique_key ;

	field dm_data_item_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 255 )
	      used_for primary_browse, name ;

	field dm_converter_id
	      links_to dm_converter . dm_converter_id as dm_converter ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field dm_property_script_id
	      links_to dm_property_script . dm_property_script_id as dm_property_script ;

	field created_on
	      datatype date ;

	field modified_on
	      datatype date ;

	field converter_class
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVCLASS ;

	field converter_file
	      datatype text ( 255 ) ;

	field file_size
	      datatype integer ;

	field workflow_node
	      links_to workflow_node . workflow_node_guid ;

	field is_result_data
	      datatype boolean ;

table dm_data_item_data ;

	field dm_data_package_id
	      links_to parent dm_data_package . dm_data_package_id as dm_data_package
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_package . dm_data_package_version as dm_data_package
	      used_for unique_key, version_number ;

	field dm_data_item_id
	      datatype guid
	      used_for unique_key ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field binary_data
	      datatype text ( 2000 ) ;

	field converter_class
	      datatype text ( 255 ) ;

table dm_data_item_property ;

	field dm_data_package_id
	      links_to parent dm_data_item . dm_data_package_id as dm_data_item 
	      used_for unique_key ;

	field dm_data_package_version
	      links_to parent dm_data_item . dm_data_package_version as dm_data_item 
	      used_for unique_key ;

	field dm_data_item_id
	      links_to parent dm_data_item . dm_data_item_id as dm_data_item
	      used_for unique_key ;

	field dm_data_item_property_id
	      datatype guid
	      used_for unique_key ;

	field dm_package_property_id
	      links_to dm_package_property . dm_package_property_id as dm_package_property;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field value_date
	      datatype date ;

	field value_number
	      datatype real ;

	field value_text
	      datatype text ( 4000 ) ;

	field modifiable
	      datatype boolean ;

table dm_converter ;

	field dm_converter_id
	      datatype guid
	      used_for unique_key ;

	field dm_packaging_rule_id
	      links_to parent dm_packaging_rule . dm_packaging_rule_id as dm_packaging_rule ;

	field converter_class
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVCLASS ;

	field converter_name
	      datatype text ( 255 ) ;

	field converter_extension
	      datatype text ( 255 ) ;

	field dm_rule_template_id
	      links_to dm_rule_template . dm_rule_template_id as dm_rule_template ;

	field dm_property_script_id
	      links_to dm_property_script . dm_property_script_id as dm_property_script ;

	field workflow_id
	      links_to workflow . workflow_guid ;

	field create_result_data
	      datatype boolean ;

	field order_num
	      datatype packed_decimal
	      used_for ordering;

	field convert_sequence 
	      datatype text (10) ;

	field store_neutral_override
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCNVSTORE ;

table dm_packaging_rule ;

	field dm_packaging_rule_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field syntax_id
	      links_to syntax . identity ;

	field dm_data_destination_id
	      links_to dm_data_destination . dm_data_destination_id as dm_data_destination ;

	field key_file_spec
	      datatype text ( 255 ) ;

	field upload_rule
	      datatype text ( 255 ) ;

	field package_class
	      datatype text ( 255 ) ;

	field package_progid
	      datatype text ( 255 ) ;

	field store_neutral
	      datatype boolean 
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes';

	field packaging_group_id
	      links_to group_header . identity ; 

	field dm_rule_template_id
	      links_to dm_rule_template . dm_rule_template_id as dm_rule_template ;

	field workflow_id
	      links_to workflow . workflow_guid ;

	field zip_compression_level
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMZIPCOMP
		  default 'FASTEST';

table dm_capture_source ;

	field dm_capture_source_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field dm_agent_computer_id
	      links_to dm_agent_computer . dm_agent_computer_id as dm_agent_computer ;

	field dm_packaging_rule_id
	      links_to dm_packaging_rule . dm_packaging_rule_id as dm_packaging_rule ;

	field search_path
	      datatype text ( 255 ) ;

	field recursive
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMSERSUB ;

	field dm_capture_interval_id
	      links_to dm_capture_interval . dm_capture_interval_id as dm_capture_interval ;

	field packaging_group_id
	      links_to group_header . identity ; 

	field include_hidden_files
	      datatype boolean 
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

	field set_archived_flag
	      datatype boolean ;

	field set_read_only
	      datatype boolean ;

	field database_server
	      datatype text ( 100 ) ;

	field database_name
	      datatype text ( 100 ) ;

	field database_login
	      datatype text ( 100 ) ;

	field database_password
	      datatype text ( 100 ) ;

	field database_parameters
	      datatype text ( 255 ) ;

	field enabled
	      datatype boolean
	      true_word 'Yes'
	      false_word 'No'
	      default 'Yes' ;

table dm_data_destination ;

	field dm_data_destination_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field dm_server_computer_id
	      links_to dm_server_computer . dm_server_computer_id as dm_server_computer ;

	field file_path
	      datatype text ( 255 ) ;

table dm_property_script ;

	field dm_property_script_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table dm_property_script_entry ;

	field dm_property_script_id
	      links_to parent dm_property_script . dm_property_script_id as dm_property_script
	      used_for unique_key ;

	field original_field_name
	      datatype text ( 255 )
	      used_for unique_key ;

	field dm_package_property_id
	      links_to dm_package_property . dm_package_property_id as dm_package_property ;

	field mapping_method
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMPRPEXT
	      default 'DEFAULT' ;

	field modifiable
	      datatype boolean ;

	field always_create
	      datatype boolean ;

	field default_text
	      datatype text ( 4000 ) ;

table dm_package_property ;

	field dm_package_property_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field datatype
	      datatype text (1)
	      prompt_type choose
	      choose_type DMDATATYP ;

	field entity_type
	      datatype text(30) ;

table dm_server_computer ;

	field dm_server_computer_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field computer_name
	      datatype text ( 100 ) ;

	field host_name
	      datatype text ( 100 ) ;

	field tcp_port_number
	      datatype text ( 6 ) ;

	field http_port_number
	      datatype text ( 6 ) ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table dm_agent_computer ;

	field dm_agent_computer_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field computer_name
	      datatype text ( 100 ) ;

	field sweep_enabled
	      datatype boolean ;

	field sweep_start_time
	      datatype text ( 14 ) ;

	field sweep_repeat_interval
	      datatype interval
	      lower_limit '0 00:00:00.00' ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

	field no_events_for_empty_sweep
	      datatype boolean ;

	field agent_timezone
	      datatype text ( 100 ) ;

table dm_status_agent ;

	field dm_status_agent_id
	      datatype guid
	      used_for unique_key ;

	field agent_computer_id
	      links_to dm_agent_computer . dm_agent_computer_id as agent_computer_id ;

	field agent_computer_name
	      datatype text ( 100 )
	      used_for display_browse;

	field agent_computer_description
	      datatype text ( 234 )
	      used_for display_browse;

	field agent_computer_computer_name
	      datatype text ( 100 );

	field agent_computer_timezone
	      datatype text ( 100 )
		  used_for display_browse;

	field current_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMAGNTSTAT used_for display_browse;

	field last_schedule_read_date
	      datatype date;

	field last_sweep_start_date
	      datatype date used_for display_browse;

	field last_sweep_end_date
	      datatype date;

	field last_sweep_time_span
	      datatype text ( 20 ) 
	      used_for display_browse;
	
	field next_sweep_date
	      datatype date used_for display_browse;


table dm_status_capture_source ;

	field dm_status_capture_source_id
	      datatype guid
	      used_for unique_key ;

	field capture_source_id
	      links_to dm_capture_source . dm_capture_source_id as capture_source_id ;

	field capture_source_name
	      datatype text ( 100 ) 
	      used_for display_browse;

	field capture_source_description
	      datatype text ( 234 ) 
	      used_for display_browse;

	field agent_computer_id
	      links_to dm_agent_computer . dm_agent_computer_id as agent_computer_id ;

	field agent_computer_name
	      datatype text ( 100 )
	      used_for display_browse;

	field agent_computer_description
	      datatype text ( 234 );

	field agent_computer_computer_name
	      datatype text ( 100 );

	field agent_computer_timezone
	      datatype text ( 100 )
		  used_for display_browse;

	field current_status
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMCAPSRCST;

	field last_sweep_start_date
	      datatype date used_for display_browse;

	field last_sweep_end_date
	      datatype date;

	field last_sweep_time_span
	      datatype text ( 20 ) 
	      used_for display_browse;
	
	field keyfile_found_count
	      datatype integer used_for display_browse;

	field packages_created_count
	      datatype integer used_for display_browse;

	field already_packaged_count
	      datatype integer used_for display_browse;

	field not_eligible_count
	      datatype integer used_for display_browse;

	field packaging_error_count
	      datatype integer used_for display_browse;

	field conversion_error_count
	      datatype integer used_for display_browse;

table dm_data_item_link ;

	field link_guid
	      datatype guid
	      used_for unique_key ;

	field table_name
	      datatype text ( 30 ) ;

	field record_key0
	      datatype text ( 100 ) ;

	field dm_data_package_id
	      links_to dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
	      links_to dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
	      links_to dm_data_item . dm_data_item_id as dm_data_item ;

	field linked_on
	      datatype date ;

	field linked_by
	      links_to personnel . identity ;

table dm_event_entry ;

	field dm_event_entry_id
	      datatype guid
	      used_for unique_key ;

	field event_id
	      datatype text ( 19 ) ;

	field event_type
	      datatype text ( 10 )
	      prompt_type choose
	      choose_type DMEVENTLOG ;

	field event_date
	      datatype date ;

	field event_title
	      datatype text ( 100 ) ;

	field source_computer_name
	      datatype text ( 100 ) ;

	field component_name
	      datatype text ( 100 ) ;

	field capture_source_name
	      datatype text ( 100 ) ;

	field server_computer_name
	      datatype text ( 100 ) ;

	field event_details
	      datatype text ( 1000 ) ;

table dm_client_computer ;

	field dm_client_computer_id
	      datatype guid
	      used_for unique_key ;

	field name
	      datatype text ( 100 )
	      used_for primary_browse, name ;

	field group_id
	      links_to group_header . identity
	      used_for security_id ;

	field description
	      datatype text ( 234 )
	      used_for display_browse ( 1 ) ;

	field computer_name	
	      datatype text ( 100 ) ;

	field api_enabled
	      datatype boolean ;

	field modified_on
	      datatype date
	      used_for modified_on ;

	field modified_by
	      links_to personnel . identity
	      used_for modified_by ;

	field modifiable
	      datatype boolean
	      used_for modifiable ;

	field has_attachments
	      datatype boolean
	      used_for has_attachments ;

table dm_global ;

	field current_version
	      datatype identity(20) 
		  used_for unique_key;

	field file_size_is_kb
		datatype boolean
		true_word 'Yes'
		false_word 'No' 
		default 'No';

table dm_gaml_extraction_rule ;

	field converter_name
		datatype text ( 50 )
		used_for unique_key ;

	field gaml_file_element
		datatype text ( 12 ) 
		used_for unique_key ;

	field gaml_file_element_parm
		datatype text ( 100 )
		used_for unique_key ;

	field dm_gaml_table
		datatype text ( 24 )
		used_for unique_key ;

	field dm_gaml_table_field
		datatype text ( 100 )
		used_for unique_key ;

table dm_gaml ;

	field gaml_id
		datatype guid
		used_for unique_key ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 255 )
		used_for primary_browse, name ;
	
	field seq_name
		datatype text ( 100 ) used_for display_browse;

	field seq_info
		datatype text ( 255 ) used_for display_browse;

	field operator
		datatype text ( 30 ) used_for display_browse;

	field instrument_name
		datatype text ( 100 ) used_for display_browse;

	field misc_info
		datatype text ( 255 ) used_for display_browse;

table dm_gaml_experiment ;

	field exp_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
		datatype integer ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field injection_number
		datatype integer used_for display_browse;

	field exp_info
		datatype text ( 255 ) used_for display_browse;

	field study_name
		datatype text ( 100 ) used_for display_browse;

	field lims_id
		datatype text ( 100 ) used_for display_browse;

	field client_id
		datatype text ( 100 ) used_for display_browse;

	field barcode
		datatype text ( 100 ) used_for display_browse;

	field operator
		datatype text ( 30 ) used_for display_browse;

	field batch
		datatype text ( 100 ) used_for display_browse;

	field exp_type
		datatype text ( 30 ) used_for display_browse;

	field misc_info
		datatype text ( 255 ) used_for display_browse;

	field method
		datatype text ( 255 ) used_for display_browse;

	field volume
		datatype real used_for display_browse;

	field amount
		datatype real used_for display_browse;

	field weight
		datatype real used_for display_browse;

table dm_gaml_trace ;

	field trace_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field detector
		datatype text ( 100 ) used_for display_browse ;

	field channel
		datatype text ( 100 ) used_for display_browse ;

	field method
		datatype text ( 255 ) used_for display_browse;

	field misc_info
		datatype text ( 255 ) used_for display_browse ;

	field noise_6_sigma
		datatype real ;

	field noise_peak_to_peak
		datatype real ;

	field noise_ASTM
		datatype real ;

	field wander
		datatype real ;

	field drift
		datatype real ;

table dm_gaml_trace_array ;

	field trace_array_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field trace_id
		links_to parent dm_gaml_trace . trace_id as dm_gaml_trace ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field dm_internal_trace_array_index
	      datatype integer ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;
 
	field retention_time
		datatype real ;

table dm_gaml_peak_table ;

	field peak_table_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field trace_id
		links_to parent dm_gaml_trace . trace_id as dm_gaml_trace ;

	field trace_array_id
		links_to parent dm_gaml_trace_array . trace_array_id as dm_gaml_trace_array ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field dm_internal_trace_array_index
	      datatype integer ;

	field dm_internal_peak_table_index
	      datatype integer ;
		
	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

table dm_gaml_peak ;

	field peak_id
		datatype guid
		used_for unique_key ;

	field gaml_id
		links_to parent dm_gaml . gaml_id as dm_gaml ;

	field exp_id
		links_to parent dm_gaml_experiment . exp_id as dm_gaml_experiment ;

	field trace_id
		links_to parent dm_gaml_trace . trace_id as dm_gaml_trace ;

	field trace_array_id
		links_to parent dm_gaml_trace_array . trace_array_id as dm_gaml_trace_array ;

	field peak_table_id
		links_to parent dm_gaml_peak_table . peak_table_id as dm_gaml_peak_table ;

	field dm_data_package_id
		links_to parent dm_data_item . dm_data_package_id as dm_data_item ;

	field dm_data_package_version
		links_to parent dm_data_item . dm_data_package_version as dm_data_item ;

	field dm_data_item_id
		links_to parent dm_data_item . dm_data_item_id as dm_data_item ;

	field dm_internal_experiment_index
	      datatype integer ;

	field dm_internal_trace_index
	      datatype integer ;

	field dm_internal_trace_array_index
	      datatype integer ;

	field dm_internal_peak_table_index
	      datatype integer ;
	
	field dm_internal_peak_index
	      datatype integer ;

	field sm_sample_id
		links_to parent sample.id_numeric as sm_sample ;

	field test_number
		links_to parent test.test_number as test ;

	field name
		datatype text ( 100 )
		used_for primary_browse, name ;

	field peak_group
		datatype text ( 30 ) used_for display_browse;

	field peak_detected
		datatype boolean used_for display_browse;

	field peak_type
		datatype text ( 30 ) used_for display_browse;

	field area
		datatype real used_for display_browse;

	field area_percent
		datatype real used_for display_browse;

	field area_sum
		datatype real used_for display_browse;

	field height
		datatype real used_for display_browse;

	field height_percent
		datatype real used_for display_browse;

	field height_sum
		datatype real used_for display_browse;

	field amount
		datatype real used_for display_browse;

	field amount_unit
		datatype text ( 30 ) used_for display_browse;

	field norm_amount
		datatype real used_for display_browse;

	field concentration
		datatype real used_for display_browse;

	field response_factor
		datatype real used_for display_browse;

	field response_ratio
		datatype real used_for display_browse;

	field capacity_factor
		datatype real used_for display_browse;

	field excess
		datatype real used_for display_browse;

	field statistical_moment_0
		datatype real used_for display_browse;
			
	field statistical_moment_1
		datatype real used_for display_browse;
			
	field statistical_moment_2
		datatype real used_for display_browse;
			
	field statistical_moment_3
		datatype real used_for display_browse;
			
	field statistical_moment_4
		datatype real used_for display_browse;

	field plate_2_sigma
		datatype real used_for display_browse;
			
	field plate_3_sigma
		datatype real used_for display_browse;
			
	field plate_4_sigma
		datatype real used_for display_browse;
			
	field plate_5_sigma
		datatype real used_for display_browse;
			
	field plates_per_meter_ep
		datatype real used_for display_browse;
			
	field plates_per_meter_usp
		datatype real used_for display_browse;
			
	field plates_per_meter_jp
		datatype real used_for display_browse;
			
	field plates_per_meter_aoh
		datatype real used_for display_browse;
			
	field plates_statistical
		datatype real used_for display_browse;
			
	field plates_per_meter_emg
		datatype real used_for display_browse;
			
	field plates_per_column_foley_dorsey
		datatype real used_for display_browse;
			
	field plates_per_meter_foley_dorsey
		datatype real used_for display_browse;

	field theoretical_plates_ep
		datatype real used_for display_browse;
			
	field theoretical_plates_usp
		datatype real used_for display_browse;
			
	field theoretical_plates_jp
		datatype real used_for display_browse;
			
	field theoretical_plates_aoh
		datatype real used_for display_browse;
			
	field theoretical_plates_emg
		datatype real used_for display_browse;

	field resolution_ep
		datatype real used_for display_browse;
			
	field resolution_5_sigma
		datatype real used_for display_browse;
			
	field resolution_usp
		datatype real used_for display_browse;
			
	field resolution_usp_hh
		datatype real used_for display_browse;
			
	field resolution_aoh
		datatype real used_for display_browse;
			
	field resolution_jp
		datatype real used_for display_browse;
			
	field resolution_dab
		datatype real used_for display_browse;
			
	field resolution_emg
		datatype real used_for display_browse;
			
	field resolution_statistical
		datatype real used_for display_browse;

	field skew
		datatype real used_for display_browse;
			
	field tailing_factor
		datatype real used_for display_browse;

	field width_base
		datatype real used_for display_browse;

	field width_2_sigma
		datatype real used_for display_browse;
			
	field width_3_sigma
		datatype real used_for display_browse;
			
	field width_4_sigma
		datatype real used_for display_browse;
			
	field width_5_sigma
		datatype real used_for display_browse;

	field width_5_pct
		datatype real used_for display_browse;
			
	field width_10_pct
		datatype real used_for display_browse;
			
	field width_50_pct
		datatype real used_for display_browse;

	field width_tangent
		datatype real used_for display_browse;

	field noise
		datatype real used_for display_browse;
			
	field noise_6_sigma
		datatype real used_for display_browse;
			
	field signal_to_noise
		datatype real used_for display_browse;
			
	field signal_to_noise_6_sigma
		datatype real used_for display_browse;
			
	field signal_to_noise_usp
		datatype real used_for display_browse;
			
	field signal_to_noise_ep
		datatype real used_for display_browse;
			
	field precision 
		datatype real used_for display_browse;
			
	field symmetry 
		datatype real used_for display_browse;
			
	field asymmetry_10_pct 
		datatype real used_for display_browse;
			
	field asymmetry_5_sigma_pct 
		datatype real used_for display_browse;

	field peak_valley_ratio
		datatype real used_for display_browse;
					
	field centroid
		datatype real used_for display_browse;
				
	field purity
		datatype real used_for display_browse;
		
	field r_square
		datatype real used_for display_browse;

	field kovats
		datatype real used_for display_browse;

	field loq
		datatype real used_for display_browse;
			
	field lod
		datatype real used_for display_browse;
			
	field misc_info
		datatype text ( 255 ) used_for display_browse;
		
table label_specification;

	field identity
		datatype identity
		used_for unique_key, display_browse (1);

	field group_id
		links_to group_header . identity
		used_for security_id;

	field description
		datatype text (234)
		used_for display_browse (2);

	field modified_on
		datatype date
		used_for modified_on;

	field modified_by
		links_to personnel . identity
		used_for modified_by;

	field modifiable
		datatype boolean
		used_for modifiable;

	field removeflag
	
		datatype boolean
		used_for remove_flag ;

	field name
		datatype text (100)
		used_for primary_browse, name;
	
	field has_attachments
		datatype boolean
		used_for has_attachments;

	field Label_Width 
		datatype real;

	field Label_Height
		datatype real;

	field Vertical_Pitch 
		datatype real;

	field Horizontal_Pitch
		datatype real;

	field Measurement_Unit 
		datatype text ( 10 )
		prompt_type choose
		choose_type GRAPHICS_U ;

	field Bottom_Margin 
		datatype real;

	field Top_Margin 
		datatype real;

	field Left_Margin
		datatype real;

	field Right_Margin 
		datatype real;

	field Paper_Kind
		datatype integer
		default '1' ;

	field Paper_Width 
		datatype real;

	field Paper_Height
		datatype real;

	field Roll_Paper
		datatype boolean;

table activity_log ;

	field activity_log_id
        datatype guid
		used_for unique_key ;

	field created_on
        datatype date 
		used_for primary_browse ;

	field created_by
        links_to personnel . identity
        used_for display_browse ( 1 ) ;

	field activity_type
		datatype text ( 10 )
		prompt_type choose
		choose_type activity 
		used_for display_browse ( 4 ) ;
		
	field value		
		datatype text (2000)
		used_for display_browse ( 3 ) ;
		
	field comments
		datatype text (2000)
		used_for display_browse ( 2 ) ;	
		
	field session_id
		links_to access_log . session_id ;

		
sequence seq_access_log_key0 major 'ACCESS_LOG' minor 'KEY0' ;

sequence seq_auditor_data major 'AUDITOR' minor 'DATA' ;

sequence seq_auditor_event major 'AUDITOR' minor 'EVENT' ;

sequence seq_auditor_transaction major 'AUDITOR' minor 'TRANSACTION' ;

sequence seq_blob_values_blob_id major 'BLOB_VALUES' minor 'BLOB_ID' ;

sequence seq_sample_key0 major 'SAMPLE' minor 'KEY0' ;

sequence seq_syntax_coa major 'SYNTAX' minor 'COA' ;

sequence seq_syntax_default major 'SYNTAX' minor 'DEFAULT' ;

sequence seq_syntax_incident major 'SYNTAX' minor 'INCIDENT' ;

sequence seq_syntax_jobdefault major 'SYNTAX' minor 'JOBDEFAULT' ;

sequence seq_syntax_samp_templ major 'SYNTAX' minor 'SAMP_TEMPL' ;

sequence seq_syntax_sampleplan major 'SYNTAX' minor 'SAMPLEPLAN' ;

sequence seq_test_test_number major 'TEST' minor 'TEST_NUMBER' ;

sequence seq_timerqueue_entry_number major 'TIMERQUEUE' minor 'ENTRY_NUMBER' ;

table site ;

	field identity
	      used_for unique_key, display_browse
	      datatype identity (10);

	field name
	      used_for display_browse, name
	      datatype text (100);

	field description
	      used_for display_browse
	      datatype text (255);

	field group_id
	      links_to group_header . identity
	      used_for security_id;

	field modified_on
	      used_for modified_on
	      datatype date;

	field modified_by
	      links_to personnel . identity 
	      used_for modified_by;

	field modifiable
	      used_for modifiable
	      datatype boolean;

	field remove_flag
	      used_for remove_flag
	      datatype boolean;

	field include_blanks
	      datatype boolean;

table group_reference ;

	field parent_site
	      links_to parent site.identity
	      used_for unique_key;

	field group_id
	      links_to group_header.identity
	      used_for unique_key;

	field order_number
	      datatype packed_decimal
	      used_for ordering;
